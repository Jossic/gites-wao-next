{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\jossi\\\\Dropbox\\\\JOSSIC\\\\6-development\\\\Devs\\\\gites-wao\\\\frontend\\\\components\\\\admin\\\\forms\\\\reservation\\\\FormClient.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Button, CircularProgress, FormControl, Grid, InputLabel, MenuItem, Select, Snackbar, TextareaAutosize, TextField } from '@material-ui/core';\nimport { withRouter } from 'next/router';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport { useState } from 'react';\nimport { useForm, Controller } from 'react-hook-form';\nimport { updateReservation } from '../../../../actions/reservationActions';\nimport { getCookie } from '../../../../actions/authActions';\n\nfunction Alert(props) {\n  return __jsx(MuiAlert, _extends({\n    elevation: 6,\n    variant: \"filled\"\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 9\n    }\n  }));\n}\n\n_c = Alert;\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      width: '100%'\n    },\n    button: {\n      marginRight: theme.spacing(1),\n      marginTop: theme.spacing(2),\n      width: '100%'\n    },\n    formControl: {\n      margin: theme.spacing(1)\n    },\n    textField: {\n      margin: theme.spacing(1)\n    }\n  };\n});\n\nvar FormClient = function FormClient(_ref) {\n  _s();\n\n  var preloadedValues = _ref.preloadedValues;\n  var token = getCookie('token');\n  var classes = useStyles();\n\n  var _useForm = useForm({\n    defaultValues: preloadedValues\n  }),\n      control = _useForm.control,\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit;\n\n  var _useState = useState({\n    loading: false,\n    success: '',\n    error: '',\n    message: ''\n  }),\n      values = _useState[0],\n      setValues = _useState[1];\n\n  var success = values.success,\n      loading = values.loading,\n      error = values.error,\n      message = values.message;\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(data) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(data);\n              setValues(_objectSpread(_objectSpread({}, values), {}, {\n                loading: true\n              }));\n              updateReservation(data, router.query.id, token).then(function (result) {\n                if (result.error) {\n                  setValues(_objectSpread(_objectSpread({}, values), {}, {\n                    error: result.error\n                  }));\n                } else {\n                  setValues(_objectSpread(_objectSpread({}, values), {}, {\n                    success: true,\n                    loading: false,\n                    message: result.message\n                  })); // setTimeout(() => {\n                  // \tRouter.push('/admin/gestionDivers/partenaires');\n                  // }, 3000);\n                }\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onSubmit(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(React.Fragment, null, loading && __jsx(CircularProgress, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 16\n    }\n  }), success && __jsx(Snackbar, {\n    open: open,\n    autoHideDuration: 6000,\n    onClose: handleClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, __jsx(Alert, {\n    onClose: handleClose,\n    severity: \"success\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 6\n    }\n  }, message)), error && __jsx(Snackbar, {\n    open: open,\n    autoHideDuration: 6000,\n    onClose: handleClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }, __jsx(Alert, {\n    onClose: handleClose,\n    severity: \"error\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 6\n    }\n  }, error)), __jsx(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 4\n    }\n  }, __jsx(Grid, {\n    container: true,\n    justify: \"space-around\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }\n  }, __jsx(FormControl, {\n    className: classes.formControl,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 6\n    }\n  }, __jsx(InputLabel, {\n    shrink: true,\n    id: \"demo-simple-select-placeholder-label-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, \"Civilit\\xE9\"), __jsx(Controller, {\n    control: control,\n    name: \"civilite\",\n    as: __jsx(Select, {\n      id: \"civilite-select\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }\n    }, __jsx(MenuItem, {\n      value: \"mmme\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 10\n      }\n    }, \"M. & Mme\"), __jsx(MenuItem, {\n      value: \"mme\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 10\n      }\n    }, \"Mme\"), __jsx(MenuItem, {\n      value: \"mlle\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 10\n      }\n    }, \"Mlle\"), __jsx(MenuItem, {\n      value: \"m\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 10\n      }\n    }, \"M.\"), __jsx(MenuItem, {\n      value: \"asso\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 10\n      }\n    }, \"Association\"), __jsx(MenuItem, {\n      value: \"ce\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 10\n      }\n    }, \"Comit\\xE9 d'entreprise\"), __jsx(MenuItem, {\n      value: \"soc\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 10\n      }\n    }, \"Soci\\xE9t\\xE9\"), __jsx(MenuItem, {\n      value: \"entr\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 10\n      }\n    }, \"Entreprise\"), __jsx(MenuItem, {\n      value: \"foyervie\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 10\n      }\n    }, \"Foyer de vie\"), __jsx(MenuItem, {\n      value: \"foyeracc\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 10\n      }\n    }, \"Foyer d'accueil\"), __jsx(MenuItem, {\n      value: \"famil\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 10\n      }\n    }, \"Famille\"), __jsx(MenuItem, {\n      value: \"autre\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 10\n      }\n    }, \"Autres\")),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  })), __jsx(TextField, {\n    inputRef: register,\n    name: \"nom\",\n    id: \"standard-number\",\n    label: \"Nom\",\n    InputLabelProps: {\n      shrink: true\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 6\n    }\n  }), __jsx(TextField, {\n    inputRef: register,\n    name: \"prenom\",\n    id: \"standard-number\",\n    label: \"Pr\\xE9nom\",\n    InputLabelProps: {\n      shrink: true\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 6\n    }\n  })), __jsx(Grid, {\n    container: true,\n    justify: \"space-around\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 5\n    }\n  }, __jsx(TextField, {\n    inputRef: register,\n    name: \"adresse\",\n    id: \"standard-number\",\n    label: \"Adresse\",\n    InputLabelProps: {\n      shrink: true\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 6\n    }\n  }), __jsx(TextField, {\n    inputRef: register,\n    name: \"cp\",\n    id: \"standard-number\",\n    label: \"Code Postal\",\n    InputLabelProps: {\n      shrink: true\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 6\n    }\n  }), __jsx(TextField, {\n    inputRef: register,\n    name: \"ville\",\n    id: \"standard-number\",\n    label: \"Ville\",\n    InputLabelProps: {\n      shrink: true\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 6\n    }\n  }), __jsx(FormControl, {\n    className: classes.formControl,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 6\n    }\n  }, __jsx(InputLabel, {\n    shrink: true,\n    id: \"demo-simple-select-placeholder-label-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }\n  }, \"Pays\"), __jsx(Controller, {\n    control: control,\n    name: \"pays\",\n    as: __jsx(Select, {\n      id: \"pays-select\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }\n    }, __jsx(MenuItem, {\n      value: \"france\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 10\n      }\n    }, \"France\"), __jsx(MenuItem, {\n      value: \"\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 10\n      }\n    }, \"--------\"), __jsx(MenuItem, {\n      value: \"autres\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 10\n      }\n    }, \"Autres\"), __jsx(MenuItem, {\n      value: \"allemagne\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 10\n      }\n    }, \"Allemagne\"), __jsx(MenuItem, {\n      value: \"angleterre\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 10\n      }\n    }, \"Angleterre\"), __jsx(MenuItem, {\n      value: \"belgique\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 10\n      }\n    }, \"Belgique\"), __jsx(MenuItem, {\n      value: \"hollande\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 10\n      }\n    }, \"Hollande\"), __jsx(MenuItem, {\n      value: \"luxembourg\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 10\n      }\n    }, \"Luxembourg\"), __jsx(MenuItem, {\n      value: \"suisse\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 10\n      }\n    }, \"Suisse\")),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }\n  }))), __jsx(Grid, {\n    container: true,\n    justify: \"space-around\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 5\n    }\n  }, __jsx(TextField, {\n    inputRef: register,\n    name: \"tel\",\n    id: \"standard-number\",\n    label: \"T\\xE9l\\xE9phone\",\n    InputLabelProps: {\n      shrink: true\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 6\n    }\n  }), __jsx(TextField, {\n    inputRef: register,\n    name: \"mail\",\n    id: \"standard-number\",\n    label: \"Email\",\n    type: \"mail\",\n    InputLabelProps: {\n      shrink: true\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 6\n    }\n  })), __jsx(Button, {\n    type: \"submit\",\n    variant: \"contained\",\n    color: \"primary\",\n    className: classes.button,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 5\n    }\n  }, \"Valider les modifications\")));\n};\n\n_s(FormClient, \"zr1a146LZmsHJTvXJhIz7eYGYcM=\", false, function () {\n  return [useStyles, useForm];\n});\n\n_c2 = FormClient;\nexport default _c3 = withRouter(FormClient);\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Alert\");\n$RefreshReg$(_c2, \"FormClient\");\n$RefreshReg$(_c3, \"%default%\");","map":{"version":3,"sources":["C:/Users/jossi/Dropbox/JOSSIC/6-development/Devs/gites-wao/frontend/components/admin/forms/reservation/FormClient.js"],"names":["Button","CircularProgress","FormControl","Grid","InputLabel","MenuItem","Select","Snackbar","TextareaAutosize","TextField","withRouter","makeStyles","withStyles","MuiAlert","useState","useForm","Controller","updateReservation","getCookie","Alert","props","useStyles","theme","root","width","button","marginRight","spacing","marginTop","formControl","margin","textField","FormClient","preloadedValues","token","classes","defaultValues","control","register","handleSubmit","loading","success","error","message","values","setValues","onSubmit","data","console","log","router","query","id","then","result","open","handleClose","shrink"],"mappings":";;;;;;;;;;;;;;;;AAAA,SACCA,MADD,EAECC,gBAFD,EAGCC,WAHD,EAICC,IAJD,EAKCC,UALD,EAMCC,QAND,EAOCC,MAPD,EAQCC,QARD,EASCC,gBATD,EAUCC,SAVD,QAWO,mBAXP;AAYA,SAASC,UAAT,QAA2B,aAA3B;AACA,SAASC,UAAT,EAAqBC,UAArB,QAAuC,0BAAvC;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,OAAT,EAAkBC,UAAlB,QAAoC,iBAApC;AACA,SAASC,iBAAT,QAAkC,wCAAlC;AACA,SAASC,SAAT,QAA0B,iCAA1B;;AAEA,SAASC,KAAT,CAAeC,KAAf,EAAsB;AACrB,SAAO,MAAC,QAAD;AAAU,IAAA,SAAS,EAAE,CAArB;AAAwB,IAAA,OAAO,EAAC;AAAhC,KAA6CA,KAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAP;AACA;;KAFQD,K;AAIT,IAAME,SAAS,GAAGV,UAAU,CAAC,UAACW,KAAD;AAAA,SAAY;AACxCC,IAAAA,IAAI,EAAE;AACLC,MAAAA,KAAK,EAAE;AADF,KADkC;AAIxCC,IAAAA,MAAM,EAAE;AACPC,MAAAA,WAAW,EAAEJ,KAAK,CAACK,OAAN,CAAc,CAAd,CADN;AAEPC,MAAAA,SAAS,EAAEN,KAAK,CAACK,OAAN,CAAc,CAAd,CAFJ;AAGPH,MAAAA,KAAK,EAAE;AAHA,KAJgC;AASxCK,IAAAA,WAAW,EAAE;AACZC,MAAAA,MAAM,EAAER,KAAK,CAACK,OAAN,CAAc,CAAd;AADI,KAT2B;AAYxCI,IAAAA,SAAS,EAAE;AACVD,MAAAA,MAAM,EAAER,KAAK,CAACK,OAAN,CAAc,CAAd;AADE;AAZ6B,GAAZ;AAAA,CAAD,CAA5B;;AAiBA,IAAMK,UAAU,GAAG,SAAbA,UAAa,OAAyB;AAAA;;AAAA,MAAtBC,eAAsB,QAAtBA,eAAsB;AAC3C,MAAMC,KAAK,GAAGhB,SAAS,CAAC,OAAD,CAAvB;AACA,MAAMiB,OAAO,GAAGd,SAAS,EAAzB;;AAF2C,iBAGCN,OAAO,CAAC;AACnDqB,IAAAA,aAAa,EAAEH;AADoC,GAAD,CAHR;AAAA,MAGnCI,OAHmC,YAGnCA,OAHmC;AAAA,MAG1BC,QAH0B,YAG1BA,QAH0B;AAAA,MAGhBC,YAHgB,YAGhBA,YAHgB;;AAAA,kBAOfzB,QAAQ,CAAC;AACpC0B,IAAAA,OAAO,EAAE,KAD2B;AAEpCC,IAAAA,OAAO,EAAE,EAF2B;AAGpCC,IAAAA,KAAK,EAAE,EAH6B;AAIpCC,IAAAA,OAAO,EAAE;AAJ2B,GAAD,CAPO;AAAA,MAOpCC,MAPoC;AAAA,MAO5BC,SAP4B;;AAAA,MAanCJ,OAbmC,GAaEG,MAbF,CAanCH,OAbmC;AAAA,MAa1BD,OAb0B,GAaEI,MAbF,CAa1BJ,OAb0B;AAAA,MAajBE,KAbiB,GAaEE,MAbF,CAajBF,KAbiB;AAAA,MAaVC,OAbU,GAaEC,MAbF,CAaVD,OAbU;;AAe3C,MAAMG,QAAQ;AAAA,yEAAG,iBAAOC,IAAP;AAAA;AAAA;AAAA;AAAA;AAChBC,cAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAF,cAAAA,SAAS,iCAAMD,MAAN;AAAcJ,gBAAAA,OAAO,EAAE;AAAvB,iBAAT;AACAvB,cAAAA,iBAAiB,CAAC8B,IAAD,EAAOG,MAAM,CAACC,KAAP,CAAaC,EAApB,EAAwBlB,KAAxB,CAAjB,CAAgDmB,IAAhD,CAAqD,UAACC,MAAD,EAAY;AAChE,oBAAIA,MAAM,CAACZ,KAAX,EAAkB;AACjBG,kBAAAA,SAAS,iCAAMD,MAAN;AAAcF,oBAAAA,KAAK,EAAEY,MAAM,CAACZ;AAA5B,qBAAT;AACA,iBAFD,MAEO;AACNG,kBAAAA,SAAS,iCACLD,MADK;AAERH,oBAAAA,OAAO,EAAE,IAFD;AAGRD,oBAAAA,OAAO,EAAE,KAHD;AAIRG,oBAAAA,OAAO,EAAEW,MAAM,CAACX;AAJR,qBAAT,CADM,CAON;AACA;AACA;AACA;AACD,eAdD;;AAHgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAARG,QAAQ;AAAA;AAAA;AAAA,KAAd;;AAoBA,SACC,4BACEN,OAAO,IAAI,MAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADb,EAEEC,OAAO,IACP,MAAC,QAAD;AACC,IAAA,IAAI,EAAEc,IADP;AAEC,IAAA,gBAAgB,EAAE,IAFnB;AAGC,IAAA,OAAO,EAAEC,WAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIC,MAAC,KAAD;AAAO,IAAA,OAAO,EAAEA,WAAhB;AAA6B,IAAA,QAAQ,EAAC,SAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEb,OADF,CAJD,CAHF,EAYED,KAAK,IACL,MAAC,QAAD;AACC,IAAA,IAAI,EAAEa,IADP;AAEC,IAAA,gBAAgB,EAAE,IAFnB;AAGC,IAAA,OAAO,EAAEC,WAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIC,MAAC,KAAD;AAAO,IAAA,OAAO,EAAEA,WAAhB;AAA6B,IAAA,QAAQ,EAAC,OAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEd,KADF,CAJD,CAbF,EAsBC;AAAM,IAAA,QAAQ,EAAEH,YAAY,CAACO,QAAD,CAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,MAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,OAAO,EAAC,cAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,MAAC,WAAD;AAAa,IAAA,SAAS,EAAEX,OAAO,CAACN,WAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,MAAC,UAAD;AACC,IAAA,MAAM,MADP;AAEC,IAAA,EAAE,EAAC,4CAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADD,EAMC,MAAC,UAAD;AACC,IAAA,OAAO,EAAEQ,OADV;AAEC,IAAA,IAAI,EAAC,UAFN;AAGC,IAAA,EAAE,EACD,MAAC,MAAD;AAAQ,MAAA,EAAE,EAAC,iBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,MAAC,QAAD;AAAU,MAAA,KAAK,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,EAEC,MAAC,QAAD;AAAU,MAAA,KAAK,EAAC,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFD,EAGC,MAAC,QAAD;AAAU,MAAA,KAAK,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHD,EAIC,MAAC,QAAD;AAAU,MAAA,KAAK,EAAC,GAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJD,EAKC,MAAC,QAAD;AAAU,MAAA,KAAK,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBALD,EAQC,MAAC,QAAD;AAAU,MAAA,KAAK,EAAC,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCARD,EAWC,MAAC,QAAD;AAAU,MAAA,KAAK,EAAC,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAXD,EAYC,MAAC,QAAD;AAAU,MAAA,KAAK,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAZD,EAaC,MAAC,QAAD;AAAU,MAAA,KAAK,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAbD,EAgBC,MAAC,QAAD;AAAU,MAAA,KAAK,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAhBD,EAmBC,MAAC,QAAD;AAAU,MAAA,KAAK,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAnBD,EAoBC,MAAC,QAAD;AAAU,MAAA,KAAK,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBApBD,CAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAND,CADD,EAqCC,MAAC,SAAD;AACC,IAAA,QAAQ,EAAEC,QADX;AAEC,IAAA,IAAI,EAAC,KAFN;AAGC,IAAA,EAAE,EAAC,iBAHJ;AAIC,IAAA,KAAK,EAAC,KAJP;AAKC,IAAA,eAAe,EAAE;AAChBmB,MAAAA,MAAM,EAAE;AADQ,KALlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IArCD,EA8CC,MAAC,SAAD;AACC,IAAA,QAAQ,EAAEnB,QADX;AAEC,IAAA,IAAI,EAAC,QAFN;AAGC,IAAA,EAAE,EAAC,iBAHJ;AAIC,IAAA,KAAK,EAAC,WAJP;AAKC,IAAA,eAAe,EAAE;AAChBmB,MAAAA,MAAM,EAAE;AADQ,KALlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA9CD,CADD,EAyDC,MAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,OAAO,EAAC,cAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,MAAC,SAAD;AACC,IAAA,QAAQ,EAAEnB,QADX;AAEC,IAAA,IAAI,EAAC,SAFN;AAGC,IAAA,EAAE,EAAC,iBAHJ;AAIC,IAAA,KAAK,EAAC,SAJP;AAKC,IAAA,eAAe,EAAE;AAChBmB,MAAAA,MAAM,EAAE;AADQ,KALlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,EAUC,MAAC,SAAD;AACC,IAAA,QAAQ,EAAEnB,QADX;AAEC,IAAA,IAAI,EAAC,IAFN;AAGC,IAAA,EAAE,EAAC,iBAHJ;AAIC,IAAA,KAAK,EAAC,aAJP;AAKC,IAAA,eAAe,EAAE;AAChBmB,MAAAA,MAAM,EAAE;AADQ,KALlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVD,EAmBC,MAAC,SAAD;AACC,IAAA,QAAQ,EAAEnB,QADX;AAEC,IAAA,IAAI,EAAC,OAFN;AAGC,IAAA,EAAE,EAAC,iBAHJ;AAIC,IAAA,KAAK,EAAC,OAJP;AAKC,IAAA,eAAe,EAAE;AAChBmB,MAAAA,MAAM,EAAE;AADQ,KALlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAnBD,EA4BC,MAAC,WAAD;AAAa,IAAA,SAAS,EAAEtB,OAAO,CAACN,WAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,MAAC,UAAD;AACC,IAAA,MAAM,MADP;AAEC,IAAA,EAAE,EAAC,4CAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,EAOC,MAAC,UAAD;AACC,IAAA,OAAO,EAAEQ,OADV;AAEC,IAAA,IAAI,EAAC,MAFN;AAGC,IAAA,EAAE,EACD,MAAC,MAAD;AAAQ,MAAA,EAAE,EAAC,aAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,MAAC,QAAD;AAAU,MAAA,KAAK,EAAC,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,EAEC,MAAC,QAAD;AAAU,MAAA,KAAK,EAAC,EAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFD,EAGC,MAAC,QAAD;AAAU,MAAA,KAAK,EAAC,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHD,EAIC,MAAC,QAAD;AAAU,MAAA,KAAK,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAJD,EAOC,MAAC,QAAD;AAAU,MAAA,KAAK,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAPD,EAUC,MAAC,QAAD;AAAU,MAAA,KAAK,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAVD,EAaC,MAAC,QAAD;AAAU,MAAA,KAAK,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAbD,EAgBC,MAAC,QAAD;AAAU,MAAA,KAAK,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAhBD,EAmBC,MAAC,QAAD;AAAU,MAAA,KAAK,EAAC,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAnBD,CAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPD,CA5BD,CAzDD,EAyHC,MAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,OAAO,EAAC,cAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,MAAC,SAAD;AACC,IAAA,QAAQ,EAAEC,QADX;AAEC,IAAA,IAAI,EAAC,KAFN;AAGC,IAAA,EAAE,EAAC,iBAHJ;AAIC,IAAA,KAAK,EAAC,iBAJP;AAKC,IAAA,eAAe,EAAE;AAChBmB,MAAAA,MAAM,EAAE;AADQ,KALlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,EAUC,MAAC,SAAD;AACC,IAAA,QAAQ,EAAEnB,QADX;AAEC,IAAA,IAAI,EAAC,MAFN;AAGC,IAAA,EAAE,EAAC,iBAHJ;AAIC,IAAA,KAAK,EAAC,OAJP;AAKC,IAAA,IAAI,EAAC,MALN;AAMC,IAAA,eAAe,EAAE;AAChBmB,MAAAA,MAAM,EAAE;AADQ,KANlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVD,CAzHD,EA8IC,MAAC,MAAD;AACC,IAAA,IAAI,EAAC,QADN;AAEC,IAAA,OAAO,EAAC,WAFT;AAGC,IAAA,KAAK,EAAC,SAHP;AAIC,IAAA,SAAS,EAAEtB,OAAO,CAACV,MAJpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCA9ID,CAtBD,CADD;AA+KA,CAlND;;GAAMO,U;UAEWX,S,EAC4BN,O;;;MAHvCiB,U;AAoNN,qBAAetB,UAAU,CAACsB,UAAD,CAAzB","sourcesContent":["import {\r\n\tButton,\r\n\tCircularProgress,\r\n\tFormControl,\r\n\tGrid,\r\n\tInputLabel,\r\n\tMenuItem,\r\n\tSelect,\r\n\tSnackbar,\r\n\tTextareaAutosize,\r\n\tTextField,\r\n} from '@material-ui/core';\r\nimport { withRouter } from 'next/router';\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport { useState } from 'react';\r\nimport { useForm, Controller } from 'react-hook-form';\r\nimport { updateReservation } from '../../../../actions/reservationActions';\r\nimport { getCookie } from '../../../../actions/authActions';\r\n\r\nfunction Alert(props) {\r\n\treturn <MuiAlert elevation={6} variant='filled' {...props} />;\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t},\r\n\tbutton: {\r\n\t\tmarginRight: theme.spacing(1),\r\n\t\tmarginTop: theme.spacing(2),\r\n\t\twidth: '100%',\r\n\t},\r\n\tformControl: {\r\n\t\tmargin: theme.spacing(1),\r\n\t},\r\n\ttextField: {\r\n\t\tmargin: theme.spacing(1),\r\n\t},\r\n}));\r\n\r\nconst FormClient = ({ preloadedValues }) => {\r\n\tconst token = getCookie('token');\r\n\tconst classes = useStyles();\r\n\tconst { control, register, handleSubmit } = useForm({\r\n\t\tdefaultValues: preloadedValues,\r\n\t});\r\n\r\n\tconst [values, setValues] = useState({\r\n\t\tloading: false,\r\n\t\tsuccess: '',\r\n\t\terror: '',\r\n\t\tmessage: '',\r\n\t});\r\n\tconst { success, loading, error, message } = values;\r\n\r\n\tconst onSubmit = async (data) => {\r\n\t\tconsole.log(data);\r\n\t\tsetValues({ ...values, loading: true });\r\n\t\tupdateReservation(data, router.query.id, token).then((result) => {\r\n\t\t\tif (result.error) {\r\n\t\t\t\tsetValues({ ...values, error: result.error });\r\n\t\t\t} else {\r\n\t\t\t\tsetValues({\r\n\t\t\t\t\t...values,\r\n\t\t\t\t\tsuccess: true,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\tmessage: result.message,\r\n\t\t\t\t});\r\n\t\t\t\t// setTimeout(() => {\r\n\t\t\t\t// \tRouter.push('/admin/gestionDivers/partenaires');\r\n\t\t\t\t// }, 3000);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{loading && <CircularProgress />}\r\n\t\t\t{success && (\r\n\t\t\t\t<Snackbar\r\n\t\t\t\t\topen={open}\r\n\t\t\t\t\tautoHideDuration={6000}\r\n\t\t\t\t\tonClose={handleClose}>\r\n\t\t\t\t\t<Alert onClose={handleClose} severity='success'>\r\n\t\t\t\t\t\t{message}\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t</Snackbar>\r\n\t\t\t)}\r\n\t\t\t{error && (\r\n\t\t\t\t<Snackbar\r\n\t\t\t\t\topen={open}\r\n\t\t\t\t\tautoHideDuration={6000}\r\n\t\t\t\t\tonClose={handleClose}>\r\n\t\t\t\t\t<Alert onClose={handleClose} severity='error'>\r\n\t\t\t\t\t\t{error}\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t</Snackbar>\r\n\t\t\t)}\r\n\t\t\t<form onSubmit={handleSubmit(onSubmit)}>\r\n\t\t\t\t<Grid container justify='space-around'>\r\n\t\t\t\t\t<FormControl className={classes.formControl}>\r\n\t\t\t\t\t\t<InputLabel\r\n\t\t\t\t\t\t\tshrink\r\n\t\t\t\t\t\t\tid='demo-simple-select-placeholder-label-label'>\r\n\t\t\t\t\t\t\tCivilité\r\n\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t<Controller\r\n\t\t\t\t\t\t\tcontrol={control}\r\n\t\t\t\t\t\t\tname='civilite'\r\n\t\t\t\t\t\t\tas={\r\n\t\t\t\t\t\t\t\t<Select id='civilite-select'>\r\n\t\t\t\t\t\t\t\t\t<MenuItem value='mmme'>M. & Mme</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem value='mme'>Mme</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem value='mlle'>Mlle</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem value='m'>M.</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem value='asso'>\r\n\t\t\t\t\t\t\t\t\t\tAssociation\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem value='ce'>\r\n\t\t\t\t\t\t\t\t\t\tComité d'entreprise\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem value='soc'>Société</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem value='entr'>Entreprise</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem value='foyervie'>\r\n\t\t\t\t\t\t\t\t\t\tFoyer de vie\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem value='foyeracc'>\r\n\t\t\t\t\t\t\t\t\t\tFoyer d'accueil\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem value='famil'>Famille</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem value='autre'>Autres</MenuItem>\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</FormControl>\r\n\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tinputRef={register}\r\n\t\t\t\t\t\tname='nom'\r\n\t\t\t\t\t\tid='standard-number'\r\n\t\t\t\t\t\tlabel='Nom'\r\n\t\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\t\tshrink: true,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tinputRef={register}\r\n\t\t\t\t\t\tname='prenom'\r\n\t\t\t\t\t\tid='standard-number'\r\n\t\t\t\t\t\tlabel='Prénom'\r\n\t\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\t\tshrink: true,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid container justify='space-around'>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tinputRef={register}\r\n\t\t\t\t\t\tname='adresse'\r\n\t\t\t\t\t\tid='standard-number'\r\n\t\t\t\t\t\tlabel='Adresse'\r\n\t\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\t\tshrink: true,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tinputRef={register}\r\n\t\t\t\t\t\tname='cp'\r\n\t\t\t\t\t\tid='standard-number'\r\n\t\t\t\t\t\tlabel='Code Postal'\r\n\t\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\t\tshrink: true,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tinputRef={register}\r\n\t\t\t\t\t\tname='ville'\r\n\t\t\t\t\t\tid='standard-number'\r\n\t\t\t\t\t\tlabel='Ville'\r\n\t\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\t\tshrink: true,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<FormControl className={classes.formControl}>\r\n\t\t\t\t\t\t<InputLabel\r\n\t\t\t\t\t\t\tshrink\r\n\t\t\t\t\t\t\tid='demo-simple-select-placeholder-label-label'>\r\n\t\t\t\t\t\t\tPays\r\n\t\t\t\t\t\t</InputLabel>\r\n\r\n\t\t\t\t\t\t<Controller\r\n\t\t\t\t\t\t\tcontrol={control}\r\n\t\t\t\t\t\t\tname='pays'\r\n\t\t\t\t\t\t\tas={\r\n\t\t\t\t\t\t\t\t<Select id='pays-select'>\r\n\t\t\t\t\t\t\t\t\t<MenuItem value='france'>France</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem value=''>--------</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem value='autres'>Autres</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem value='allemagne'>\r\n\t\t\t\t\t\t\t\t\t\tAllemagne\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem value='angleterre'>\r\n\t\t\t\t\t\t\t\t\t\tAngleterre\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem value='belgique'>\r\n\t\t\t\t\t\t\t\t\t\tBelgique\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem value='hollande'>\r\n\t\t\t\t\t\t\t\t\t\tHollande\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem value='luxembourg'>\r\n\t\t\t\t\t\t\t\t\t\tLuxembourg\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem value='suisse'>Suisse</MenuItem>\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</FormControl>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid container justify='space-around'>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tinputRef={register}\r\n\t\t\t\t\t\tname='tel'\r\n\t\t\t\t\t\tid='standard-number'\r\n\t\t\t\t\t\tlabel='Téléphone'\r\n\t\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\t\tshrink: true,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tinputRef={register}\r\n\t\t\t\t\t\tname='mail'\r\n\t\t\t\t\t\tid='standard-number'\r\n\t\t\t\t\t\tlabel='Email'\r\n\t\t\t\t\t\ttype='mail'\r\n\t\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\t\tshrink: true,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype='submit'\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\tclassName={classes.button}>\r\n\t\t\t\t\tValider les modifications\r\n\t\t\t\t</Button>\r\n\t\t\t</form>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default withRouter(FormClient);\r\n"]},"metadata":{},"sourceType":"module"}