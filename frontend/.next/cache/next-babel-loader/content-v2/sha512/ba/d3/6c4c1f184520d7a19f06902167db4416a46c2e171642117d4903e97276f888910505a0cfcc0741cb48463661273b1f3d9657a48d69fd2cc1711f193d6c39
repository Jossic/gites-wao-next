{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport fetch from 'isomorphic-fetch';\nimport { API } from '../config';\nimport axios from 'axios';\nexport var listLiens = function listLiens() {\n  return fetch(\"\".concat(API, \"/divers/alentours\"), {\n    method: 'GET'\n  }).then(function (response) {\n    return response.json();\n  })[\"catch\"](function (err) {\n    return console.log(err);\n  });\n};\nexport var listLiensByCategorie = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(categorie) {\n    var _yield$axios$get, data;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return axios.get(\"\".concat(API, \"/divers/alentourss/\").concat(categorie));\n\n          case 3:\n            _yield$axios$get = _context.sent;\n            data = _yield$axios$get.data;\n            return _context.abrupt(\"return\", data);\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            console.error(_context.t0);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 8]]);\n  }));\n\n  return function listLiensByCategorie(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var listeOneLien = function listeOneLien(id, token) {\n  return fetch(\"\".concat(API, \"/divers/alentours/\").concat(id), {\n    method: 'GET',\n    headers: {\n      Authorization: \"Bearer \".concat(token)\n    }\n  }).then(function (response) {\n    return response.json();\n  })[\"catch\"](function (err) {\n    return console.log(err);\n  });\n};\nexport var createLien = function createLien(lien, token) {\n  console.log('dan action', lien);\n  return fetch(\"\".concat(API, \"/divers/alentours\"), {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: \"Bearer \".concat(token)\n    },\n    body: JSON.stringify(lien)\n  }).then(function (response) {\n    return response.json();\n  })[\"catch\"](function (err) {\n    return console.log(err);\n  });\n};\nexport var updateLien = function updateLien(lien, id, token) {\n  return fetch(\"\".concat(API, \"/divers/alentours/\").concat(id), {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: \"Bearer \".concat(token)\n    },\n    body: JSON.stringify(lien)\n  }).then(function (response) {\n    return response.json();\n  })[\"catch\"](function (err) {\n    return console.log(err);\n  });\n};\nexport var removeLien = function removeLien(id, token) {\n  return fetch(\"\".concat(API, \"/divers/alentours/\").concat(id), {\n    method: 'DELETE',\n    headers: {\n      Authorization: \"Bearer \".concat(token)\n    }\n  }).then(function (response) {\n    return response.json();\n  })[\"catch\"](function (err) {\n    return console.log(err);\n  });\n};","map":{"version":3,"sources":["C:/Users/jossi/Dropbox/JOSSIC/6-development/Devs/gites-wao/frontend/actions/pagesActions.js"],"names":["fetch","API","axios","listLiens","method","then","response","json","err","console","log","listLiensByCategorie","categorie","get","data","error","listeOneLien","id","token","headers","Authorization","createLien","lien","Accept","body","JSON","stringify","updateLien","removeLien"],"mappings":"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","sourcesContent":["import fetch from 'isomorphic-fetch';\r\nimport { API } from '../config';\r\nimport axios from 'axios';\r\n\r\nexport const listLiens = () => {\r\n\treturn fetch(`${API}/divers/alentours`, {\r\n\t\tmethod: 'GET',\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\treturn response.json();\r\n\t\t})\r\n\t\t.catch((err) => console.log(err));\r\n};\r\n\r\nexport const listLiensByCategorie = async (categorie) => {\r\n\ttry {\r\n\t\tconst { data } = await axios.get(\r\n\t\t\t`${API}/divers/alentourss/${categorie}`\r\n\t\t);\r\n\t\treturn data;\r\n\t} catch (error) {\r\n\t\tconsole.error(error);\r\n\t}\r\n};\r\n\r\nexport const listeOneLien = (id, token) => {\r\n\treturn fetch(`${API}/divers/alentours/${id}`, {\r\n\t\tmethod: 'GET',\r\n\t\theaders: {\r\n\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t},\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\treturn response.json();\r\n\t\t})\r\n\t\t.catch((err) => console.log(err));\r\n};\r\n\r\nexport const createLien = (lien, token) => {\r\n\tconsole.log('dan action', lien);\r\n\treturn fetch(`${API}/divers/alentours`, {\r\n\t\tmethod: 'POST',\r\n\t\theaders: {\r\n\t\t\tAccept: 'application/json',\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t},\r\n\t\tbody: JSON.stringify(lien),\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\treturn response.json();\r\n\t\t})\r\n\t\t.catch((err) => console.log(err));\r\n};\r\n\r\nexport const updateLien = (lien, id, token) => {\r\n\treturn fetch(`${API}/divers/alentours/${id}`, {\r\n\t\tmethod: 'PUT',\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t},\r\n\t\tbody: JSON.stringify(lien),\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\treturn response.json();\r\n\t\t})\r\n\t\t.catch((err) => console.log(err));\r\n};\r\n\r\nexport const removeLien = (id, token) => {\r\n\treturn fetch(`${API}/divers/alentours/${id}`, {\r\n\t\tmethod: 'DELETE',\r\n\t\theaders: {\r\n\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t},\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\treturn response.json();\r\n\t\t})\r\n\t\t.catch((err) => console.log(err));\r\n};\r\n"]},"metadata":{},"sourceType":"module"}