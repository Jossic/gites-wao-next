{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jossi\\\\Dropbox\\\\JOSSIC\\\\6-development\\\\Devs\\\\gites-wao\\\\frontend\\\\components\\\\admin\\\\forms\\\\FormCreateMailer.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { Button, CircularProgress, FormControl, InputLabel, MenuItem, Select, Snackbar, Switch, TextField } from '@material-ui/core';\nimport { withRouter } from 'next/router';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport { useState } from 'react';\nimport { useForm, Controller } from 'react-hook-form';\nimport { getCookie } from '../../../actions/authActions';\nimport { createMailer } from '../../../actions/mailerActions';\n\nfunction Alert(props) {\n  return __jsx(MuiAlert, _extends({\n    elevation: 6,\n    variant: \"filled\"\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }\n  }));\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    '& > * + *': {\n      marginTop: theme.spacing(2)\n    }\n  },\n  button: {\n    marginRight: theme.spacing(1),\n    marginTop: theme.spacing(2),\n    width: '100%'\n  },\n  formControl: {\n    margin: theme.spacing(1)\n  },\n  textField: {\n    margin: theme.spacing(1)\n  }\n}));\n\nconst FormCreateMailer = () => {\n  const token = getCookie('token');\n  const classes = useStyles();\n  const {\n    control,\n    register,\n    handleSubmit\n  } = useForm({// defaultValues: ,\n  });\n  const {\n    0: open,\n    1: setOpen\n  } = useState(false);\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  const {\n    0: values,\n    1: setValues\n  } = useState({\n    loading: false,\n    success: '',\n    error: '',\n    message: ''\n  });\n  const {\n    success,\n    loading,\n    error,\n    message\n  } = values;\n\n  const onSubmit = async data => {\n    console.log(data);\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      loading: true\n    }));\n    createMailer(data, token).then(result => {\n      if (result.error) {\n        setValues(_objectSpread(_objectSpread({}, values), {}, {\n          error: result.error\n        }));\n      } else {\n        setValues(_objectSpread(_objectSpread({}, values), {}, {\n          success: true,\n          loading: false,\n          message: result.message\n        })); // setTimeout(() => {\n        // \tRouter.push('/admin/gestionDivers/partenaires');\n        // }, 3000);\n      }\n    });\n  };\n\n  return __jsx(React.Fragment, null, loading && __jsx(CircularProgress, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 16\n    }\n  }), success && __jsx(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }\n  }, __jsx(Snackbar, {\n    open: open,\n    autoHideDuration: 6000,\n    onClose: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 6\n    }\n  }, __jsx(Alert, {\n    onClose: handleClose,\n    severity: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, message))), error && __jsx(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 5\n    }\n  }, __jsx(Snackbar, {\n    open: open,\n    autoHideDuration: 6000,\n    onClose: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 6\n    }\n  }, __jsx(Alert, {\n    onClose: handleClose,\n    severity: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, error))), __jsx(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 4\n    }\n  }, __jsx(TextField, {\n    inputRef: register,\n    name: \"nom\",\n    id: \"standard-number\",\n    label: \"Nom\",\n    InputLabelProps: {\n      shrink: true\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 5\n    }\n  }), __jsx(TextField, {\n    inputRef: register,\n    name: \"description\",\n    id: \"standard-number\",\n    label: \"Description\",\n    InputLabelProps: {\n      shrink: true\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 5\n    }\n  }), __jsx(TextField, {\n    inputRef: register,\n    name: \"sujet\",\n    id: \"standard-number\",\n    label: \"Sujet\",\n    InputLabelProps: {\n      shrink: true\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 5\n    }\n  }), __jsx(TextField, {\n    inputRef: register,\n    name: \"corps\",\n    id: \"standard-number\",\n    label: \"Corps\",\n    InputLabelProps: {\n      shrink: true\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 5\n    }\n  }), __jsx(FormControlLabel, {\n    className: classes.formControl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 5\n    }\n  }, __jsx(InputLabel, {\n    shrink: true,\n    id: \"demo-simple-select-placeholder-label-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 6\n    }\n  }, \"D\\xE9clencheur (date)\"), __jsx(Controller, {\n    control: control,\n    name: \"declencheurDate\",\n    as: __jsx(Select, {\n      id: \"civilite-select\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 8\n      }\n    }, __jsx(MenuItem, {\n      value: \"7 jours avant arriv\\xE9e\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }\n    }, \"7 jours avant arriv\\xE9e\"), __jsx(MenuItem, {\n      value: \"7 jours apr\\xE8s le d\\xE9part\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }\n    }, \"7 jours apr\\xE8s le d\\xE9part\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 6\n    }\n  })), __jsx(FormControl, {\n    className: classes.formControl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 5\n    }\n  }, __jsx(InputLabel, {\n    shrink: true,\n    id: \"demo-simple-select-placeholder-label-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 6\n    }\n  }, \"D\\xE9clencheur (action)\"), __jsx(Controller, {\n    control: control,\n    name: \"declencheurAction\",\n    as: __jsx(Select, {\n      id: \"civilite-select\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 8\n      }\n    }, __jsx(MenuItem, {\n      value: \"\\xE0 la validation du contrat\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }\n    }, \"\\xE0 la validation du contrat\"), __jsx(MenuItem, {\n      value: \"Autre exemple\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }\n    }, \"Autre exemple\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 6\n    }\n  })), __jsx(FormControlLabel, {\n    control: __jsx(Switch, {\n      inputRef: register,\n      checked: true,\n      name: \"actif\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 7\n      }\n    }),\n    label: \"Actif\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 5\n    }\n  }), __jsx(Button, {\n    type: \"submit\",\n    variant: \"contained\",\n    color: \"primary\",\n    className: classes.button,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 5\n    }\n  }, \"Valider les modifications\")));\n};\n\nexport default withRouter(FormCreateMailer);","map":{"version":3,"sources":["C:/Users/jossi/Dropbox/JOSSIC/6-development/Devs/gites-wao/frontend/components/admin/forms/FormCreateMailer.js"],"names":["Button","CircularProgress","FormControl","InputLabel","MenuItem","Select","Snackbar","Switch","TextField","withRouter","makeStyles","withStyles","MuiAlert","useState","useForm","Controller","getCookie","createMailer","Alert","props","useStyles","theme","root","width","marginTop","spacing","button","marginRight","formControl","margin","textField","FormCreateMailer","token","classes","control","register","handleSubmit","open","setOpen","handleClose","event","reason","values","setValues","loading","success","error","message","onSubmit","data","console","log","then","result","shrink"],"mappings":"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","sourcesContent":["import {\r\n\tButton,\r\n\tCircularProgress,\r\n\tFormControl,\r\n\tInputLabel,\r\n\tMenuItem,\r\n\tSelect,\r\n\tSnackbar,\r\n\tSwitch,\r\n\tTextField,\r\n} from '@material-ui/core';\r\nimport { withRouter } from 'next/router';\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport { useState } from 'react';\r\nimport { useForm, Controller } from 'react-hook-form';\r\nimport { getCookie } from '../../../actions/authActions';\r\nimport { createMailer } from '../../../actions/mailerActions';\r\n\r\nfunction Alert(props) {\r\n\treturn <MuiAlert elevation={6} variant='filled' {...props} />;\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t\t'& > * + *': {\r\n\t\t\tmarginTop: theme.spacing(2),\r\n\t\t},\r\n\t},\r\n\tbutton: {\r\n\t\tmarginRight: theme.spacing(1),\r\n\t\tmarginTop: theme.spacing(2),\r\n\t\twidth: '100%',\r\n\t},\r\n\tformControl: {\r\n\t\tmargin: theme.spacing(1),\r\n\t},\r\n\ttextField: {\r\n\t\tmargin: theme.spacing(1),\r\n\t},\r\n}));\r\n\r\nconst FormCreateMailer = () => {\r\n\tconst token = getCookie('token');\r\n\tconst classes = useStyles();\r\n\tconst { control, register, handleSubmit } = useForm({\r\n\t\t// defaultValues: ,\r\n\t});\r\n\r\n\tconst [open, setOpen] = useState(false);\r\n\r\n\tconst handleClose = (event, reason) => {\r\n\t\tif (reason === 'clickaway') {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetOpen(false);\r\n\t};\r\n\r\n\tconst [values, setValues] = useState({\r\n\t\tloading: false,\r\n\t\tsuccess: '',\r\n\t\terror: '',\r\n\t\tmessage: '',\r\n\t});\r\n\tconst { success, loading, error, message } = values;\r\n\r\n\tconst onSubmit = async (data) => {\r\n\t\tconsole.log(data);\r\n\t\tsetValues({ ...values, loading: true });\r\n\t\tcreateMailer(data, token).then((result) => {\r\n\t\t\tif (result.error) {\r\n\t\t\t\tsetValues({ ...values, error: result.error });\r\n\t\t\t} else {\r\n\t\t\t\tsetValues({\r\n\t\t\t\t\t...values,\r\n\t\t\t\t\tsuccess: true,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\tmessage: result.message,\r\n\t\t\t\t});\r\n\t\t\t\t// setTimeout(() => {\r\n\t\t\t\t// \tRouter.push('/admin/gestionDivers/partenaires');\r\n\t\t\t\t// }, 3000);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{loading && <CircularProgress />}\r\n\t\t\t{success && (\r\n\t\t\t\t<div className={classes.root}>\r\n\t\t\t\t\t<Snackbar\r\n\t\t\t\t\t\topen={open}\r\n\t\t\t\t\t\tautoHideDuration={6000}\r\n\t\t\t\t\t\tonClose={handleClose}>\r\n\t\t\t\t\t\t<Alert onClose={handleClose} severity='success'>\r\n\t\t\t\t\t\t\t{message}\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t</Snackbar>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{error && (\r\n\t\t\t\t<div className={classes.root}>\r\n\t\t\t\t\t<Snackbar\r\n\t\t\t\t\t\topen={open}\r\n\t\t\t\t\t\tautoHideDuration={6000}\r\n\t\t\t\t\t\tonClose={handleClose}>\r\n\t\t\t\t\t\t<Alert onClose={handleClose} severity='error'>\r\n\t\t\t\t\t\t\t{error}\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t</Snackbar>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<form onSubmit={handleSubmit(onSubmit)}>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tinputRef={register}\r\n\t\t\t\t\tname='nom'\r\n\t\t\t\t\tid='standard-number'\r\n\t\t\t\t\tlabel='Nom'\r\n\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\tshrink: true,\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tinputRef={register}\r\n\t\t\t\t\tname='description'\r\n\t\t\t\t\tid='standard-number'\r\n\t\t\t\t\tlabel='Description'\r\n\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\tshrink: true,\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tinputRef={register}\r\n\t\t\t\t\tname='sujet'\r\n\t\t\t\t\tid='standard-number'\r\n\t\t\t\t\tlabel='Sujet'\r\n\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\tshrink: true,\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tinputRef={register}\r\n\t\t\t\t\tname='corps'\r\n\t\t\t\t\tid='standard-number'\r\n\t\t\t\t\tlabel='Corps'\r\n\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\tshrink: true,\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<FormControlLabel className={classes.formControl}>\r\n\t\t\t\t\t<InputLabel\r\n\t\t\t\t\t\tshrink\r\n\t\t\t\t\t\tid='demo-simple-select-placeholder-label-label'>\r\n\t\t\t\t\t\tDéclencheur (date)\r\n\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t<Controller\r\n\t\t\t\t\t\tcontrol={control}\r\n\t\t\t\t\t\tname='declencheurDate'\r\n\t\t\t\t\t\tas={\r\n\t\t\t\t\t\t\t<Select id='civilite-select'>\r\n\t\t\t\t\t\t\t\t<MenuItem value='7 jours avant arrivée'>\r\n\t\t\t\t\t\t\t\t\t7 jours avant arrivée\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t<MenuItem value='7 jours après le départ'>\r\n\t\t\t\t\t\t\t\t\t7 jours après le départ\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</FormControlLabel>\r\n\r\n\t\t\t\t<FormControl className={classes.formControl}>\r\n\t\t\t\t\t<InputLabel\r\n\t\t\t\t\t\tshrink\r\n\t\t\t\t\t\tid='demo-simple-select-placeholder-label-label'>\r\n\t\t\t\t\t\tDéclencheur (action)\r\n\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t<Controller\r\n\t\t\t\t\t\tcontrol={control}\r\n\t\t\t\t\t\tname='declencheurAction'\r\n\t\t\t\t\t\tas={\r\n\t\t\t\t\t\t\t<Select id='civilite-select'>\r\n\t\t\t\t\t\t\t\t<MenuItem value='à la validation du contrat'>\r\n\t\t\t\t\t\t\t\t\tà la validation du contrat\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t<MenuItem value='Autre exemple'>\r\n\t\t\t\t\t\t\t\t\tAutre exemple\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</FormControl>\r\n\r\n\t\t\t\t<FormControlLabel\r\n\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\tinputRef={register}\r\n\t\t\t\t\t\t\tchecked={true}\r\n\t\t\t\t\t\t\tname='actif'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlabel='Actif'\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype='submit'\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\tclassName={classes.button}>\r\n\t\t\t\t\tValider les modifications\r\n\t\t\t\t</Button>\r\n\t\t\t</form>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default withRouter(FormCreateMailer);\r\n"]},"metadata":{},"sourceType":"module"}