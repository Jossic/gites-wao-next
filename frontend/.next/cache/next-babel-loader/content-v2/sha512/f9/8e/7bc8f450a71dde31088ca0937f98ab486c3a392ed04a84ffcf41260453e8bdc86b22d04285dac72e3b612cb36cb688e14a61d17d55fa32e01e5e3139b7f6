{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\jossi\\\\Dropbox\\\\JOSSIC\\\\6-development\\\\Devs\\\\gites-wao\\\\frontend\\\\components\\\\admin\\\\forms\\\\gites\\\\FormCreateGite.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _this = this,\n    _s3 = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { createGite, listGitesNoms } from '../../../../actions/giteActions';\nimport PropTypes from 'prop-types';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport { withRouter } from 'next/router';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport Check from '@material-ui/icons/Check';\nimport StepConnector from '@material-ui/core/StepConnector';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { useEffect, useState, useRef } from 'react';\nimport { useForm, Controller } from 'react-hook-form';\nimport { withSnackbar } from '../../../HOC/Snackbar';\nimport FormInfosGene from '../../../../components/admin/forms/gites/FormInfosGene';\nimport FormInfosDiverses from '../../../../components/admin/forms/gites/FormInfosDiverses';\nimport FormInfosPratiques from '../../../../components/admin/forms/gites/FormInfosPratiques';\nimport FormInfosPages from '../../../../components/admin/forms/gites/FormInfosPages';\nimport PictureInPictureAltIcon from '@material-ui/icons/PictureInPictureAlt';\nimport StarsIcon from '@material-ui/icons/Stars';\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn';\nimport PageviewIcon from '@material-ui/icons/Pageview';\nimport { Container, CircularProgress } from '@material-ui/core';\nimport Grid from '@material-ui/core/Grid';\nimport { getCookie } from '../../../../actions/authActions';\n\nfunction Alert(props) {\n  return __jsx(MuiAlert, _extends({\n    elevation: 6,\n    variant: \"filled\"\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }));\n}\n\n_c = Alert;\nvar QontoConnector = withStyles({\n  alternativeLabel: {\n    top: 10,\n    left: 'calc(-50% + 16px)',\n    right: 'calc(50% + 16px)'\n  },\n  active: {\n    '& $line': {\n      borderColor: '#784af4'\n    }\n  },\n  completed: {\n    '& $line': {\n      borderColor: '#784af4'\n    }\n  },\n  line: {\n    borderColor: '#eaeaf0',\n    borderTopWidth: 3,\n    borderRadius: 1\n  }\n})(StepConnector);\nvar useQontoStepIconStyles = makeStyles({\n  root: {\n    color: '#eaeaf0',\n    display: 'flex',\n    height: 22,\n    alignItems: 'center'\n  },\n  active: {\n    color: '#784af4'\n  },\n  circle: {\n    width: 8,\n    height: 8,\n    borderRadius: '50%',\n    backgroundColor: 'currentColor'\n  },\n  completed: {\n    color: '#784af4',\n    zIndex: 1,\n    fontSize: 18\n  }\n});\n\nfunction QontoStepIcon(props) {\n  _s();\n\n  var classes = useQontoStepIconStyles();\n  var active = props.active,\n      completed = props.completed;\n  return __jsx(\"div\", {\n    className: clsx(classes.root, _defineProperty({}, classes.active, active)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 3\n    }\n  }, completed ? __jsx(Check, {\n    className: classes.completed,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }\n  }) : __jsx(\"div\", {\n    className: classes.circle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }\n  }));\n}\n\n_s(QontoStepIcon, \"zRam3KVaNpVBlW51GPG1kex6cwg=\", false, function () {\n  return [useQontoStepIconStyles];\n});\n\n_c2 = QontoStepIcon;\nQontoStepIcon.propTypes = {\n  /**\r\n   * Whether this step is active.\r\n   */\n  active: PropTypes.bool,\n\n  /**\r\n   * Mark the step as completed. Is passed to child components.\r\n   */\n  completed: PropTypes.bool\n};\nvar ColorlibConnector = withStyles({\n  alternativeLabel: {\n    top: 22\n  },\n  active: {\n    '& $line': {\n      backgroundImage: 'linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)'\n    }\n  },\n  completed: {\n    '& $line': {\n      backgroundImage: 'linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)'\n    }\n  },\n  line: {\n    height: 3,\n    border: 0,\n    backgroundColor: '#eaeaf0',\n    borderRadius: 1\n  }\n})(StepConnector);\nvar useColorlibStepIconStyles = makeStyles({\n  root: {\n    backgroundColor: '#ccc',\n    zIndex: 1,\n    color: '#fff',\n    width: 50,\n    height: 50,\n    display: 'flex',\n    borderRadius: '50%',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  active: {\n    backgroundImage: 'linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)',\n    boxShadow: '0 4px 10px 0 rgba(0,0,0,.25)'\n  },\n  completed: {\n    backgroundImage: 'linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)'\n  }\n});\n\nfunction ColorlibStepIcon(props) {\n  _s2();\n\n  var _clsx2;\n\n  var classes = useColorlibStepIconStyles();\n  var active = props.active,\n      completed = props.completed;\n  var icons = {\n    1: __jsx(StarsIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 6\n      }\n    }),\n    2: __jsx(PictureInPictureAltIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 6\n      }\n    }),\n    3: __jsx(MonetizationOnIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 6\n      }\n    }),\n    4: __jsx(PageviewIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 6\n      }\n    })\n  };\n  return __jsx(\"div\", {\n    className: clsx(classes.root, (_clsx2 = {}, _defineProperty(_clsx2, classes.active, active), _defineProperty(_clsx2, classes.completed, completed), _clsx2)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 3\n    }\n  }, icons[String(props.icon)]);\n}\n\n_s2(ColorlibStepIcon, \"TbUAg343/d/fVF4s63V6GVaUi8k=\", false, function () {\n  return [useColorlibStepIconStyles];\n});\n\n_c3 = ColorlibStepIcon;\nColorlibStepIcon.propTypes = {\n  /**\r\n   * Whether this step is active.\r\n   */\n  active: PropTypes.bool,\n\n  /**\r\n   * Mark the step as completed. Is passed to child components.\r\n   */\n  completed: PropTypes.bool,\n\n  /**\r\n   * The label displayed in the step icon.\r\n   */\n  icon: PropTypes.node\n};\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      width: '100%'\n    },\n    button: {\n      marginRight: theme.spacing(1)\n    },\n    instructions: {\n      marginTop: theme.spacing(1),\n      marginBottom: theme.spacing(1)\n    },\n    formControl: {\n      margin: theme.spacing(1),\n      minWidth: 120\n    },\n    selectEmpty: {\n      marginTop: theme.spacing(2)\n    }\n  };\n});\n\nfunction getSteps() {\n  return ['Infos générales', 'Infos diverses', 'Infos pratiques & financières', 'Infos pages & SEO'];\n}\n\nvar FormCreateGite = function FormCreateGite(_ref) {\n  _s3();\n\n  var snackbarShowMessage = _ref.snackbarShowMessage,\n      router = _ref.router,\n      gite = _ref.gite;\n  var classes = useStyles();\n  var token = getCookie('token');\n\n  var _useState = useState(0),\n      activeStep = _useState[0],\n      setActiveStep = _useState[1];\n\n  var _useForm = useForm({\n    shouldUnregister: false,\n    defaultValues: {\n      nom: 'test',\n      mtitle: '',\n      presGiteSEO: '',\n      texteExterieur: \"Texte de l'exterieur\",\n      equipementExterieur: 'truc1,truc2,truc3,truc4,truc5',\n      texteInterieur: \"Texte de l'int\\xE9rieur\",\n      equipementInterieur: 'truc1,truc2,truc3,truc4,truc5',\n      textePiscine: \"Texte de la piscine\",\n      equipementPiscine: 'truc1,truc2,truc3,truc4,truc5',\n      texte: '',\n      detailGite: '',\n      capacite: '20',\n      videoLink: '',\n      calendrierLink: '',\n      couleur1: '#AAAAAA',\n      couleur2: '#111111'\n    }\n  }),\n      control = _useForm.control,\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit;\n\n  var _useState2 = useState(false),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var reRef = useRef();\n  var steps = getSteps();\n\n  var handleNext = function handleNext() {\n    setActiveStep(function (prevActiveStep) {\n      return prevActiveStep + 1;\n    });\n  };\n\n  var handleBack = function handleBack() {\n    setActiveStep(function (prevActiveStep) {\n      return prevActiveStep - 1;\n    });\n  };\n\n  var handleReset = function handleReset() {\n    setActiveStep(0);\n  };\n\n  function getStepContent(step) {\n    switch (step) {\n      case 0:\n        return __jsx(FormInfosGene, {\n          classes: classes,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 12\n          }\n        });\n\n      case 1:\n        return __jsx(FormInfosDiverses, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 12\n          }\n        });\n\n      case 2:\n        return __jsx(FormInfosPratiques, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 12\n          }\n        });\n\n      case 3:\n        return __jsx(FormInfosPages, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 12\n          }\n        });\n\n      default:\n        return 'Erreur';\n    }\n  }\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(data) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log('submit'); // setLoading(true);\n              // data.token = await reRef.current.executeAsync();\n              // reRef.current.reset();\n              // console.log('onSubmit data =>', data);\n              // createGite(data, token).then((result) => {\n              // \tconsole.log('result vaut =>', result);\n              // \tif (result.error) {\n              // \t\tsetLoading(false);\n              // \t\tsnackbarShowMessage(`${result.error}`);\n              // \t} else if (result.dejaReserveMessage) {\n              // \t\tsetLoading(false);\n              // \t\tsnackbarShowMessage(`${result.dejaReserveMessage}`);\n              // \t} else {\n              // \t\tsetLoading(false);\n              // \t\tsnackbarShowMessage(`${result.message}`, 'success');\n              // \t\t// setTimeout(() => {\n              // \t\t// \tRouter.push(`/admin/gites`, null, {\n              // \t\t// \t\tshallow: true,\n              // \t\t// \t});\n              // \t\t// }, 3000);\n              // \t}\n              // });\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onSubmit(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 3\n    }\n  }, loading && __jsx(CircularProgress, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 16\n    }\n  }), __jsx(\"div\", {\n    className: classes.root,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 4\n    }\n  }, __jsx(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 5\n    }\n  }, __jsx(Stepper, {\n    alternativeLabel: true,\n    activeStep: activeStep,\n    connector: __jsx(ColorlibConnector, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 18\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 6\n    }\n  }, steps.map(function (label) {\n    return __jsx(Step, {\n      key: label,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 8\n      }\n    }, __jsx(StepLabel, {\n      StepIconComponent: ColorlibStepIcon,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }\n    }, label));\n  })), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 6\n    }\n  }, console.log('step :', activeStep), console.log('lenght :', steps.length), activeStep === steps.length ? __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 8\n    }\n  }, __jsx(Typography, {\n    className: classes.instructions,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 9\n    }\n  }, \"Votre demande a bien \\xE9t\\xE9 prise en compte\"), __jsx(Button, {\n    onClick: handleReset,\n    className: classes.button,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 9\n    }\n  }, \"Recommencer\")) : __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 8\n    }\n  }, __jsx(Typography, {\n    className: classes.instructions,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 9\n    }\n  }, getStepContent(activeStep)), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 9\n    }\n  }, __jsx(Button, {\n    disabled: activeStep === 0,\n    onClick: handleBack,\n    className: classes.button,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 10\n    }\n  }, \"Retour\"), activeStep === steps.length ? __jsx(Button, {\n    type: \"submit\",\n    variant: \"contained\",\n    color: \"primary\",\n    className: classes.button,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 11\n    }\n  }, \"Valider\") : __jsx(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleNext,\n    className: classes.button,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 11\n    }\n  }, \"Suivant\")))))));\n};\n\n_s3(FormCreateGite, \"NNNko22ST+3lg4+8q/Rq2bCiivc=\", false, function () {\n  return [useStyles, useForm];\n});\n\n_c4 = FormCreateGite;\nexport default _c6 = withRouter(_c5 = withSnackbar(FormCreateGite));\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"Alert\");\n$RefreshReg$(_c2, \"QontoStepIcon\");\n$RefreshReg$(_c3, \"ColorlibStepIcon\");\n$RefreshReg$(_c4, \"FormCreateGite\");\n$RefreshReg$(_c5, \"%default%$withRouter\");\n$RefreshReg$(_c6, \"%default%\");","map":{"version":3,"sources":["C:/Users/jossi/Dropbox/JOSSIC/6-development/Devs/gites-wao/frontend/components/admin/forms/gites/FormCreateGite.js"],"names":["createGite","listGitesNoms","PropTypes","makeStyles","withStyles","clsx","Stepper","Step","withRouter","StepLabel","Check","StepConnector","Button","Typography","useEffect","useState","useRef","useForm","Controller","withSnackbar","FormInfosGene","FormInfosDiverses","FormInfosPratiques","FormInfosPages","PictureInPictureAltIcon","StarsIcon","MonetizationOnIcon","PageviewIcon","Container","CircularProgress","Grid","getCookie","Alert","props","QontoConnector","alternativeLabel","top","left","right","active","borderColor","completed","line","borderTopWidth","borderRadius","useQontoStepIconStyles","root","color","display","height","alignItems","circle","width","backgroundColor","zIndex","fontSize","QontoStepIcon","classes","propTypes","bool","ColorlibConnector","backgroundImage","border","useColorlibStepIconStyles","justifyContent","boxShadow","ColorlibStepIcon","icons","String","icon","node","useStyles","theme","button","marginRight","spacing","instructions","marginTop","marginBottom","formControl","margin","minWidth","selectEmpty","getSteps","FormCreateGite","snackbarShowMessage","router","gite","token","activeStep","setActiveStep","shouldUnregister","defaultValues","nom","mtitle","presGiteSEO","texteExterieur","equipementExterieur","texteInterieur","equipementInterieur","textePiscine","equipementPiscine","texte","detailGite","capacite","videoLink","calendrierLink","couleur1","couleur2","control","register","handleSubmit","loading","setLoading","reRef","steps","handleNext","prevActiveStep","handleBack","handleReset","getStepContent","step","onSubmit","data","console","log","map","label","length"],"mappings":"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","sourcesContent":["import { createGite, listGitesNoms } from '../../../../actions/giteActions';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\nimport clsx from 'clsx';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport { withRouter } from 'next/router';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport Check from '@material-ui/icons/Check';\r\nimport StepConnector from '@material-ui/core/StepConnector';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { useEffect, useState, useRef } from 'react';\r\nimport { useForm, Controller } from 'react-hook-form';\r\nimport { withSnackbar } from '../../../HOC/Snackbar';\r\nimport FormInfosGene from '../../../../components/admin/forms/gites/FormInfosGene';\r\nimport FormInfosDiverses from '../../../../components/admin/forms/gites/FormInfosDiverses';\r\nimport FormInfosPratiques from '../../../../components/admin/forms/gites/FormInfosPratiques';\r\nimport FormInfosPages from '../../../../components/admin/forms/gites/FormInfosPages';\r\nimport PictureInPictureAltIcon from '@material-ui/icons/PictureInPictureAlt';\r\nimport StarsIcon from '@material-ui/icons/Stars';\r\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn';\r\nimport PageviewIcon from '@material-ui/icons/Pageview';\r\nimport { Container, CircularProgress } from '@material-ui/core';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { getCookie } from '../../../../actions/authActions';\r\n\r\nfunction Alert(props) {\r\n\treturn <MuiAlert elevation={6} variant='filled' {...props} />;\r\n}\r\n\r\nconst QontoConnector = withStyles({\r\n\talternativeLabel: {\r\n\t\ttop: 10,\r\n\t\tleft: 'calc(-50% + 16px)',\r\n\t\tright: 'calc(50% + 16px)',\r\n\t},\r\n\tactive: {\r\n\t\t'& $line': {\r\n\t\t\tborderColor: '#784af4',\r\n\t\t},\r\n\t},\r\n\tcompleted: {\r\n\t\t'& $line': {\r\n\t\t\tborderColor: '#784af4',\r\n\t\t},\r\n\t},\r\n\tline: {\r\n\t\tborderColor: '#eaeaf0',\r\n\t\tborderTopWidth: 3,\r\n\t\tborderRadius: 1,\r\n\t},\r\n})(StepConnector);\r\n\r\nconst useQontoStepIconStyles = makeStyles({\r\n\troot: {\r\n\t\tcolor: '#eaeaf0',\r\n\t\tdisplay: 'flex',\r\n\t\theight: 22,\r\n\t\talignItems: 'center',\r\n\t},\r\n\tactive: {\r\n\t\tcolor: '#784af4',\r\n\t},\r\n\tcircle: {\r\n\t\twidth: 8,\r\n\t\theight: 8,\r\n\t\tborderRadius: '50%',\r\n\t\tbackgroundColor: 'currentColor',\r\n\t},\r\n\tcompleted: {\r\n\t\tcolor: '#784af4',\r\n\t\tzIndex: 1,\r\n\t\tfontSize: 18,\r\n\t},\r\n});\r\n\r\nfunction QontoStepIcon(props) {\r\n\tconst classes = useQontoStepIconStyles();\r\n\tconst { active, completed } = props;\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={clsx(classes.root, {\r\n\t\t\t\t[classes.active]: active,\r\n\t\t\t})}>\r\n\t\t\t{completed ? (\r\n\t\t\t\t<Check className={classes.completed} />\r\n\t\t\t) : (\r\n\t\t\t\t<div className={classes.circle} />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nQontoStepIcon.propTypes = {\r\n\t/**\r\n\t * Whether this step is active.\r\n\t */\r\n\tactive: PropTypes.bool,\r\n\t/**\r\n\t * Mark the step as completed. Is passed to child components.\r\n\t */\r\n\tcompleted: PropTypes.bool,\r\n};\r\n\r\nconst ColorlibConnector = withStyles({\r\n\talternativeLabel: {\r\n\t\ttop: 22,\r\n\t},\r\n\tactive: {\r\n\t\t'& $line': {\r\n\t\t\tbackgroundImage:\r\n\t\t\t\t'linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)',\r\n\t\t},\r\n\t},\r\n\tcompleted: {\r\n\t\t'& $line': {\r\n\t\t\tbackgroundImage:\r\n\t\t\t\t'linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)',\r\n\t\t},\r\n\t},\r\n\tline: {\r\n\t\theight: 3,\r\n\t\tborder: 0,\r\n\t\tbackgroundColor: '#eaeaf0',\r\n\t\tborderRadius: 1,\r\n\t},\r\n})(StepConnector);\r\n\r\nconst useColorlibStepIconStyles = makeStyles({\r\n\troot: {\r\n\t\tbackgroundColor: '#ccc',\r\n\t\tzIndex: 1,\r\n\t\tcolor: '#fff',\r\n\t\twidth: 50,\r\n\t\theight: 50,\r\n\t\tdisplay: 'flex',\r\n\t\tborderRadius: '50%',\r\n\t\tjustifyContent: 'center',\r\n\t\talignItems: 'center',\r\n\t},\r\n\tactive: {\r\n\t\tbackgroundImage:\r\n\t\t\t'linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)',\r\n\t\tboxShadow: '0 4px 10px 0 rgba(0,0,0,.25)',\r\n\t},\r\n\tcompleted: {\r\n\t\tbackgroundImage:\r\n\t\t\t'linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)',\r\n\t},\r\n});\r\n\r\nfunction ColorlibStepIcon(props) {\r\n\tconst classes = useColorlibStepIconStyles();\r\n\tconst { active, completed } = props;\r\n\r\n\tconst icons = {\r\n\t\t1: <StarsIcon />,\r\n\t\t2: <PictureInPictureAltIcon />,\r\n\t\t3: <MonetizationOnIcon />,\r\n\t\t4: <PageviewIcon />,\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={clsx(classes.root, {\r\n\t\t\t\t[classes.active]: active,\r\n\t\t\t\t[classes.completed]: completed,\r\n\t\t\t})}>\r\n\t\t\t{icons[String(props.icon)]}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nColorlibStepIcon.propTypes = {\r\n\t/**\r\n\t * Whether this step is active.\r\n\t */\r\n\tactive: PropTypes.bool,\r\n\t/**\r\n\t * Mark the step as completed. Is passed to child components.\r\n\t */\r\n\tcompleted: PropTypes.bool,\r\n\t/**\r\n\t * The label displayed in the step icon.\r\n\t */\r\n\ticon: PropTypes.node,\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t},\r\n\tbutton: {\r\n\t\tmarginRight: theme.spacing(1),\r\n\t},\r\n\tinstructions: {\r\n\t\tmarginTop: theme.spacing(1),\r\n\t\tmarginBottom: theme.spacing(1),\r\n\t},\r\n\tformControl: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tminWidth: 120,\r\n\t},\r\n\tselectEmpty: {\r\n\t\tmarginTop: theme.spacing(2),\r\n\t},\r\n}));\r\n\r\nfunction getSteps() {\r\n\treturn [\r\n\t\t'Infos générales',\r\n\t\t'Infos diverses',\r\n\t\t'Infos pratiques & financières',\r\n\t\t'Infos pages & SEO',\r\n\t];\r\n}\r\n\r\nconst FormCreateGite = ({ snackbarShowMessage, router, gite }) => {\r\n\tconst classes = useStyles();\r\n\tconst token = getCookie('token');\r\n\tconst [activeStep, setActiveStep] = useState(0);\r\n\tconst { control, register, handleSubmit } = useForm({\r\n\t\tshouldUnregister: false,\r\n\t\tdefaultValues: {\r\n\t\t\tnom: 'test',\r\n\t\t\tmtitle: '',\r\n\t\t\tpresGiteSEO: '',\r\n\t\t\ttexteExterieur: `Texte de l'exterieur`,\r\n\t\t\tequipementExterieur: 'truc1,truc2,truc3,truc4,truc5',\r\n\t\t\ttexteInterieur: `Texte de l'intérieur`,\r\n\t\t\tequipementInterieur: 'truc1,truc2,truc3,truc4,truc5',\r\n\t\t\ttextePiscine: `Texte de la piscine`,\r\n\t\t\tequipementPiscine: 'truc1,truc2,truc3,truc4,truc5',\r\n\t\t\ttexte: '',\r\n\t\t\tdetailGite: '',\r\n\t\t\tcapacite: '20',\r\n\t\t\tvideoLink: '',\r\n\t\t\tcalendrierLink: '',\r\n\t\t\tcouleur1: '#AAAAAA',\r\n\t\t\tcouleur2: '#111111',\r\n\t\t},\r\n\t});\r\n\r\n\tconst [loading, setLoading] = useState(false);\r\n\r\n\tconst reRef = useRef();\r\n\r\n\tconst steps = getSteps();\r\n\r\n\tconst handleNext = () => {\r\n\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n\t};\r\n\r\n\tconst handleBack = () => {\r\n\t\tsetActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n\t};\r\n\r\n\tconst handleReset = () => {\r\n\t\tsetActiveStep(0);\r\n\t};\r\n\r\n\tfunction getStepContent(step) {\r\n\t\tswitch (step) {\r\n\t\t\tcase 0:\r\n\t\t\t\treturn <FormInfosGene classes={classes} />;\r\n\t\t\tcase 1:\r\n\t\t\t\treturn <FormInfosDiverses />;\r\n\t\t\tcase 2:\r\n\t\t\t\treturn <FormInfosPratiques />;\r\n\t\t\tcase 3:\r\n\t\t\t\treturn <FormInfosPages />;\r\n\t\t\tdefault:\r\n\t\t\t\treturn 'Erreur';\r\n\t\t}\r\n\t}\r\n\r\n\tconst onSubmit = async (data) => {\r\n\t\tconsole.log('submit');\r\n\t\t// setLoading(true);\r\n\t\t// data.token = await reRef.current.executeAsync();\r\n\t\t// reRef.current.reset();\r\n\t\t// console.log('onSubmit data =>', data);\r\n\t\t// createGite(data, token).then((result) => {\r\n\t\t// \tconsole.log('result vaut =>', result);\r\n\t\t// \tif (result.error) {\r\n\t\t// \t\tsetLoading(false);\r\n\t\t// \t\tsnackbarShowMessage(`${result.error}`);\r\n\t\t// \t} else if (result.dejaReserveMessage) {\r\n\t\t// \t\tsetLoading(false);\r\n\t\t// \t\tsnackbarShowMessage(`${result.dejaReserveMessage}`);\r\n\t\t// \t} else {\r\n\t\t// \t\tsetLoading(false);\r\n\t\t// \t\tsnackbarShowMessage(`${result.message}`, 'success');\r\n\t\t// \t\t// setTimeout(() => {\r\n\t\t// \t\t// \tRouter.push(`/admin/gites`, null, {\r\n\t\t// \t\t// \t\tshallow: true,\r\n\t\t// \t\t// \t});\r\n\t\t// \t\t// }, 3000);\r\n\t\t// \t}\r\n\t\t// });\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t{loading && <CircularProgress />}\r\n\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<form onSubmit={handleSubmit(onSubmit)}>\r\n\t\t\t\t\t<Stepper\r\n\t\t\t\t\t\talternativeLabel\r\n\t\t\t\t\t\tactiveStep={activeStep}\r\n\t\t\t\t\t\tconnector={<ColorlibConnector />}>\r\n\t\t\t\t\t\t{steps.map((label) => (\r\n\t\t\t\t\t\t\t<Step key={label}>\r\n\t\t\t\t\t\t\t\t<StepLabel StepIconComponent={ColorlibStepIcon}>\r\n\t\t\t\t\t\t\t\t\t{label}\r\n\t\t\t\t\t\t\t\t</StepLabel>\r\n\t\t\t\t\t\t\t</Step>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Stepper>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{console.log('step :', activeStep)}\r\n\t\t\t\t\t\t{console.log('lenght :', steps.length)}\r\n\t\t\t\t\t\t{activeStep === steps.length ? (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{/* Voir pout ajouter isSubmited === true */}\r\n\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\r\n\t\t\t\t\t\t\t\t\tVotre demande a bien été prise en compte\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={handleReset}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.button}>\r\n\t\t\t\t\t\t\t\t\tRecommencer\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\r\n\t\t\t\t\t\t\t\t\t{getStepContent(activeStep)}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tdisabled={activeStep === 0}\r\n\t\t\t\t\t\t\t\t\t\tonClick={handleBack}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.button}>\r\n\t\t\t\t\t\t\t\t\t\tRetour\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t{/* A revoir */}\r\n\t\t\t\t\t\t\t\t\t{activeStep === steps.length ? (\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.button}>\r\n\t\t\t\t\t\t\t\t\t\t\tValider\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleNext}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.button}>\r\n\t\t\t\t\t\t\t\t\t\t\tSuivant\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default withRouter(withSnackbar(FormCreateGite));\r\n"]},"metadata":{},"sourceType":"module"}