{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\jossi\\\\Dropbox\\\\JOSSIC\\\\6-development\\\\Devs\\\\gites-wao\\\\frontend\\\\components\\\\layout\\\\AdminHeader.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport NProgress from 'nprogress';\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport { isAuth, logout } from '../../actions/authActions';\nimport '../../node_modules/nprogress/nprogress.css';\nimport { countMessageNonLus } from '../../actions/messageActions';\nimport { useEffect, useState } from 'react';\nimport { Snackbar } from '@material-ui/core';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport { countNouvelleReservation } from '../../actions/reservationActions';\nimport { getUserById } from '../../actions/userActions';\n\nfunction Alert(props) {\n  return __jsx(MuiAlert, _extends({\n    elevation: 6,\n    variant: \"filled\"\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 9\n    }\n  }));\n}\n\n_c = Alert;\n\nRouter.onRouteChangeStart = function (url) {\n  return NProgress.start();\n};\n\nRouter.onRouteChangeComplete = function (url) {\n  return NProgress.done();\n};\n\nRouter.onRouteChangeError = function (url) {\n  return NProgress.done();\n};\n\nvar AdminHeader = function AdminHeader(_ref) {\n  _s();\n\n  var children = _ref.children,\n      user = _ref.user;\n\n  var _useState = useState(0),\n      newMessages = _useState[0],\n      setNewMessages = _useState[1];\n\n  var _useState2 = useState(0),\n      newReservation = _useState2[0],\n      setnewReservation = _useState2[1];\n\n  var recupNonLus = function recupNonLus() {\n    countMessageNonLus().then(function (data) {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setNewMessages(data);\n      }\n    });\n  };\n\n  var recupNvleRes = function recupNvleRes() {\n    countNouvelleReservation().then(function (data) {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setnewReservation(data);\n      }\n    });\n  };\n\n  useEffect(function () {\n    recupNonLus();\n    recupNvleRes();\n  }, []); // const user = {\n  // \tname: 'Jossic LAPIERRE',\n  // \tisAdmin: true,\n  // };\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"d-flex\",\n    id: \"wrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 4\n    }\n  }, __jsx(\"div\", {\n    className: \"bg-dark border-right\",\n    id: \"sidebar-wrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"sidebar-heading text-white text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 6\n    }\n  }, \"Les G\\xEEtes WAO\"), __jsx(\"div\", {\n    className: \"sidebar-header\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 6\n    }\n  }, __jsx(\"div\", {\n    className: \"user-pic text-center pb-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, __jsx(\"i\", {\n    className: \"far fa-user-circle\",\n    style: {\n      color: 'white',\n      fontSize: '40px'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 8\n    }\n  }))), __jsx(\"div\", {\n    className: \"list-group list-group-flush\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 6\n    }\n  }, __jsx(Link, {\n    href: \"/admin\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, __jsx(\"a\", {\n    className: \"list-group-item list-group-item-action text-white bg-dark\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 8\n    }\n  }, __jsx(\"i\", {\n    className: \"fas fa-tachometer-alt\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }), ' ', \"Dashboard\")), __jsx(Link, {\n    href: \"/admin\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }, __jsx(\"a\", {\n    className: \"list-group-item list-group-item-action text-white bg-dark\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 8\n    }\n  }, __jsx(\"i\", {\n    className: \"fas fa-chart-line\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }), \" Vue d'ensemble\")), __jsx(\"div\", {\n    className: \"accordion\",\n    id: \"accordionExample\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"card text-white bg-dark\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 8\n    }\n  }, __jsx(\"div\", {\n    className: \"card-header\",\n    id: \"headingOne\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }, __jsx(\"h2\", {\n    className: \"mb-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 10\n    }\n  }, __jsx(\"button\", {\n    className: \"btn btn-link btn-block text-left text-white collapsed\",\n    type: \"button\",\n    \"data-toggle\": \"collapse\",\n    \"data-target\": \"#collapseOne\",\n    \"aria-expanded\": \"false\",\n    \"aria-controls\": \"collapseOne\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, __jsx(\"i\", {\n    className: \"fas fa-igloo\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 12\n    }\n  }), ' ', \"Gestion des g\\xEEtes\"))), __jsx(\"div\", {\n    id: \"collapseOne\",\n    className: \"collapse show\",\n    \"aria-labelledby\": \"headingOne\",\n    \"data-parent\": \"#accordionExample\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, __jsx(Link, {\n    href: \"/admin/gestionPages\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 10\n    }\n  }, __jsx(\"a\", {\n    className: \"list-group-item list-group-item-action text-white bg-secondary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 11\n    }\n  }, __jsx(\"i\", {\n    className: \"fas fa-arrow-right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 12\n    }\n  }), ' ', \"Gestion des g\\xEEtes\")), __jsx(Link, {\n    href: \"/admin/gestionImages\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 10\n    }\n  }, __jsx(\"a\", {\n    className: \"list-group-item list-group-item-action text-white bg-secondary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 11\n    }\n  }, __jsx(\"i\", {\n    className: \"fas fa-arrow-right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 12\n    }\n  }), ' ', \"Gestion des images\")), __jsx(Link, {\n    href: \"/admin/gestionFichiers\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 10\n    }\n  }, __jsx(\"a\", {\n    className: \"list-group-item list-group-item-action text-white bg-secondary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 11\n    }\n  }, __jsx(\"i\", {\n    className: \"fas fa-arrow-right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 12\n    }\n  }), ' ', \"Gestion des fichiers\")), __jsx(Link, {\n    href: \"/admin/gestionReviews\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 10\n    }\n  }, __jsx(\"a\", {\n    className: \"list-group-item list-group-item-action text-white bg-secondary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 11\n    }\n  }, __jsx(\"i\", {\n    className: \"fas fa-arrow-right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 12\n    }\n  }), ' ', \"Gestion des reviews\")))), __jsx(\"div\", {\n    className: \"card text-white bg-dark\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 8\n    }\n  }, __jsx(\"div\", {\n    className: \"card-header\",\n    id: \"headingTwo\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 9\n    }\n  }, __jsx(\"h2\", {\n    className: \"mb-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 10\n    }\n  }, __jsx(\"button\", {\n    className: \"btn btn-link btn-block text-left text-white collapsed\",\n    type: \"button\",\n    \"data-toggle\": \"collapse\",\n    \"data-target\": \"#collapseTwo\",\n    \"aria-expanded\": \"false\",\n    \"aria-controls\": \"collapseTwo\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 11\n    }\n  }, __jsx(\"i\", {\n    className: \"far fa-file-alt\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 12\n    }\n  }), ' ', \"Gestion des pages\"))), __jsx(\"div\", {\n    id: \"collapseTwo\",\n    className: \"collapse\",\n    \"aria-labelledby\": \"headingTwo\",\n    \"data-parent\": \"#accordionExample\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 9\n    }\n  }, __jsx(Link, {\n    href: \"/admin/gestionDivers\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 10\n    }\n  }, __jsx(\"a\", {\n    className: \"list-group-item list-group-item-action text-white bg-secondary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 11\n    }\n  }, __jsx(\"i\", {\n    className: \"fas fa-arrow-right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 12\n    }\n  }), ' ', \"Pages diverses\")), __jsx(Link, {\n    href: \"/admin/gestionDivers/partenaires\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 10\n    }\n  }, __jsx(\"a\", {\n    className: \"list-group-item list-group-item-action text-white bg-secondary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 11\n    }\n  }, __jsx(\"i\", {\n    className: \"fas fa-arrow-right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 12\n    }\n  }), ' ', \"Pages Partenaires\")))), __jsx(\"div\", {\n    className: \"card text-white bg-dark\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 8\n    }\n  }, __jsx(\"div\", {\n    className: \"card-header\",\n    id: \"headingThree\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 9\n    }\n  }, __jsx(\"h2\", {\n    className: \"mb-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 10\n    }\n  }, __jsx(\"button\", {\n    className: \"btn btn-link btn-block text-left text-white collapsed\",\n    type: \"button\",\n    \"data-toggle\": \"collapse\",\n    \"data-target\": \"#collapseThree\",\n    \"aria-expanded\": \"false\",\n    \"aria-controls\": \"collapseThree\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 11\n    }\n  }, __jsx(\"i\", {\n    className: \"fas fa-bed\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 12\n    }\n  }), ' ', \"Gestion des r\\xE9servations\", ' ', newReservation > 0 && __jsx(\"span\", {\n    className: \"badge badge-pill badge-success\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 13\n    }\n  }, newReservation)))), __jsx(\"div\", {\n    id: \"collapseThree\",\n    className: \"collapse\",\n    \"aria-labelledby\": \"headingThree\",\n    \"data-parent\": \"#accordionExample\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 9\n    }\n  }, __jsx(Link, {\n    href: \"/admin/reservation\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 10\n    }\n  }, __jsx(\"a\", {\n    className: \"list-group-item list-group-item-action text-white bg-secondary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 11\n    }\n  }, __jsx(\"i\", {\n    className: \"fas fa-arrow-right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 12\n    }\n  }), ' ', \"Liste des r\\xE9servations\"))))), __jsx(Link, {\n    href: \"/admin/messages\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }\n  }, __jsx(\"a\", {\n    className: \"list-group-item list-group-item-action text-white bg-dark\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 8\n    }\n  }, __jsx(\"i\", {\n    className: \"fas fa-comments\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 9\n    }\n  }), \" Messages\", '  ', newMessages > 0 && __jsx(\"span\", {\n    className: \"badge badge-pill badge-info\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 10\n    }\n  }, newMessages))), __jsx(Link, {\n    href: \"/admin/users\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }\n  }, __jsx(\"a\", {\n    className: \"list-group-item list-group-item-action text-white bg-dark\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 8\n    }\n  }, __jsx(\"i\", {\n    className: \"fas fa-user-friends\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 9\n    }\n  }), \" Gestion des utilisateurs\")), __jsx(Link, {\n    href: \"/admin/mailer\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }\n  }, __jsx(\"a\", {\n    className: \"list-group-item list-group-item-action text-white bg-dark\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 8\n    }\n  }, __jsx(\"i\", {\n    className: \"fas fa-envelope\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 9\n    }\n  }), \" Gestion des mails\")), __jsx(Link, {\n    href: \"/admin/clients\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 7\n    }\n  }, __jsx(\"a\", {\n    className: \"list-group-item list-group-item-action text-white bg-dark\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 8\n    }\n  }, __jsx(\"i\", {\n    className: \"fas fa-user-tag\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 9\n    }\n  }), \" Gestion des clients\")))), __jsx(\"div\", {\n    id: \"page-content-wrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 5\n    }\n  }, __jsx(\"nav\", {\n    className: \"navbar navbar-expand-lg navbar-dark bg-dark border-bottom\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 6\n    }\n  }, __jsx(\"button\", {\n    className: \"navbar-toggler\",\n    type: \"button\",\n    \"data-toggle\": \"collapse\",\n    \"data-target\": \"#navbarSupportedContent\",\n    \"aria-controls\": \"navbarSupportedContent\",\n    \"aria-expanded\": \"false\",\n    \"aria-label\": \"Toggle navigation\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 7\n    }\n  }, __jsx(\"span\", {\n    className: \"navbar-toggler-icon\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 8\n    }\n  })), __jsx(\"div\", {\n    className: \"collapse navbar-collapse\",\n    id: \"navbarSupportedContent\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }\n  }, __jsx(\"ul\", {\n    className: \"navbar-nav ml-auto mt-2 mt-lg-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 8\n    }\n  }, __jsx(\"li\", {\n    className: \"nav-item active\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 9\n    }\n  }, __jsx(\"a\", {\n    className: \"nav-link\",\n    href: \"/admin\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 10\n    }\n  }, \"Espace Admin\", ' ', __jsx(\"span\", {\n    className: \"sr-only\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 11\n    }\n  }, \"(current)\"))), __jsx(\"li\", {\n    className: \"nav-item\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 9\n    }\n  }, __jsx(\"a\", {\n    className: \"nav-link\",\n    href: \"/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 10\n    }\n  }, \"Voir le site\")), __jsx(\"li\", {\n    className: \"nav-item\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 9\n    }\n  }, __jsx(\"a\", {\n    className: \"nav-link\",\n    style: {\n      cursor: 'pointer'\n    },\n    onClick: function onClick() {\n      return logout(function () {\n        return Router.replace('/login');\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 10\n    }\n  }, \"Deconnecter\"))))), __jsx(\"div\", {\n    className: \"container-fluid\" // style={{ backgroundColor: '#1c2025', height: '100vh' }}\n    ,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 6\n    }\n  }, children))));\n};\n\n_s(AdminHeader, \"m/CujRAd8FfYP7xQMfBuZjJiaVo=\");\n\n_c2 = AdminHeader;\nexport function getServerSideProps(_x) {\n  return _getServerSideProps.apply(this, arguments);\n}\n\nfunction _getServerSideProps() {\n  _getServerSideProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(context) {\n    var token, res1, user;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log('context', context);\n            token = context.req.cookies.token;\n            _context.next = 4;\n            return getUserById(context.params.id, token);\n\n          case 4:\n            res1 = _context.sent;\n            _context.next = 7;\n            return res1;\n\n          case 7:\n            user = _context.sent;\n            return _context.abrupt(\"return\", {\n              props: {\n                user: user\n              }\n            });\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getServerSideProps.apply(this, arguments);\n}\n\nexport default AdminHeader;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Alert\");\n$RefreshReg$(_c2, \"AdminHeader\");","map":{"version":3,"sources":["C:/Users/jossi/Dropbox/JOSSIC/6-development/Devs/gites-wao/frontend/components/layout/AdminHeader.js"],"names":["NProgress","Link","Router","isAuth","logout","countMessageNonLus","useEffect","useState","Snackbar","MuiAlert","countNouvelleReservation","getUserById","Alert","props","onRouteChangeStart","url","start","onRouteChangeComplete","done","onRouteChangeError","AdminHeader","children","user","newMessages","setNewMessages","newReservation","setnewReservation","recupNonLus","then","data","error","console","log","recupNvleRes","color","fontSize","cursor","replace","getServerSideProps","context","token","req","cookies","params","id","res1"],"mappings":"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","sourcesContent":["import NProgress from 'nprogress';\r\nimport Link from 'next/link';\r\nimport Router from 'next/router';\r\nimport { isAuth, logout } from '../../actions/authActions';\r\nimport '../../node_modules/nprogress/nprogress.css';\r\nimport { countMessageNonLus } from '../../actions/messageActions';\r\nimport { useEffect, useState } from 'react';\r\nimport { Snackbar } from '@material-ui/core';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport { countNouvelleReservation } from '../../actions/reservationActions';\r\nimport { getUserById } from '../../actions/userActions';\r\n\r\nfunction Alert(props) {\r\n\treturn <MuiAlert elevation={6} variant='filled' {...props} />;\r\n}\r\n\r\nRouter.onRouteChangeStart = (url) => NProgress.start();\r\nRouter.onRouteChangeComplete = (url) => NProgress.done();\r\nRouter.onRouteChangeError = (url) => NProgress.done();\r\nconst AdminHeader = ({ children, user }) => {\r\n\tconst [newMessages, setNewMessages] = useState(0);\r\n\tconst [newReservation, setnewReservation] = useState(0);\r\n\r\n\tconst recupNonLus = () => {\r\n\t\tcountMessageNonLus().then((data) => {\r\n\t\t\tif (data.error) {\r\n\t\t\t\tconsole.log(data.error);\r\n\t\t\t} else {\r\n\t\t\t\tsetNewMessages(data);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tconst recupNvleRes = () => {\r\n\t\tcountNouvelleReservation().then((data) => {\r\n\t\t\tif (data.error) {\r\n\t\t\t\tconsole.log(data.error);\r\n\t\t\t} else {\r\n\t\t\t\tsetnewReservation(data);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\trecupNonLus();\r\n\t\trecupNvleRes();\r\n\t}, []);\r\n\r\n\t// const user = {\r\n\t// \tname: 'Jossic LAPIERRE',\r\n\t// \tisAdmin: true,\r\n\t// };\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className='d-flex' id='wrapper'>\r\n\t\t\t\t<div className='bg-dark border-right' id='sidebar-wrapper'>\r\n\t\t\t\t\t<div className='sidebar-heading text-white text-center'>\r\n\t\t\t\t\t\tLes Gîtes WAO\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='sidebar-header'>\r\n\t\t\t\t\t\t<div className='user-pic text-center pb-2'>\r\n\t\t\t\t\t\t\t{/* <img\r\n\t\t\t\t\t\t\t\tclassName='img-responsive img-rounded'\r\n\t\t\t\t\t\t\t\tsrc='/images/logov4-1024x496.png'\r\n\t\t\t\t\t\t\t\talt='User picture'\r\n\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\tclassName='far fa-user-circle'\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\tfontSize: '40px',\r\n\t\t\t\t\t\t\t\t}}></i>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/* {isAuth && (\r\n\t\t\t\t\t\t\t<div className='user-info text-white text-center pb-3'>\r\n\t\t\t\t\t\t\t\t<span className='user-name'>{user.name}</span>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<strong\r\n\t\t\t\t\t\t\t\t\tclassName='user-role'\r\n\t\t\t\t\t\t\t\t\tstyle={{ color: '#d3d3d3' }}>\r\n\t\t\t\t\t\t\t\t\t{user.isAdmin\r\n\t\t\t\t\t\t\t\t\t\t? 'Administrateur'\r\n\t\t\t\t\t\t\t\t\t\t: 'Utilisateur'}\r\n\t\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<span className='user-status mt-3'>\r\n\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\tclassName='fa fa-circle'\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tcolor: '#00ff04',\r\n\t\t\t\t\t\t\t\t\t\t\tfontSize: '10px',\r\n\t\t\t\t\t\t\t\t\t\t}}></i>\r\n\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tcolor: '#00ff04',\r\n\t\t\t\t\t\t\t\t\t\t\tfontSize: '15px',\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\tConnecté\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)} */}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='list-group list-group-flush'>\r\n\t\t\t\t\t\t<Link href='/admin'>\r\n\t\t\t\t\t\t\t<a className='list-group-item list-group-item-action text-white bg-dark'>\r\n\t\t\t\t\t\t\t\t<i className='fas fa-tachometer-alt'></i>{' '}\r\n\t\t\t\t\t\t\t\tDashboard\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link href='/admin'>\r\n\t\t\t\t\t\t\t<a className='list-group-item list-group-item-action text-white bg-dark'>\r\n\t\t\t\t\t\t\t\t<i className='fas fa-chart-line'></i> Vue\r\n\t\t\t\t\t\t\t\td'ensemble\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</Link>\r\n\r\n\t\t\t\t\t\t<div className='accordion' id='accordionExample'>\r\n\t\t\t\t\t\t\t<div className='card text-white bg-dark'>\r\n\t\t\t\t\t\t\t\t<div className='card-header' id='headingOne'>\r\n\t\t\t\t\t\t\t\t\t<h2 className='mb-0'>\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-link btn-block text-left text-white collapsed'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\tdata-toggle='collapse'\r\n\t\t\t\t\t\t\t\t\t\t\tdata-target='#collapseOne'\r\n\t\t\t\t\t\t\t\t\t\t\taria-expanded='false'\r\n\t\t\t\t\t\t\t\t\t\t\taria-controls='collapseOne'>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-igloo'></i>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\tGestion des gîtes\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tid='collapseOne'\r\n\t\t\t\t\t\t\t\t\tclassName='collapse show'\r\n\t\t\t\t\t\t\t\t\taria-labelledby='headingOne'\r\n\t\t\t\t\t\t\t\t\tdata-parent='#accordionExample'>\r\n\t\t\t\t\t\t\t\t\t{/* <div className='card-body'> */}\r\n\t\t\t\t\t\t\t\t\t<Link href='/admin/gestionPages'>\r\n\t\t\t\t\t\t\t\t\t\t<a className='list-group-item list-group-item-action text-white bg-secondary'>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-arrow-right'></i>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\tGestion des gîtes\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t<Link href='/admin/gestionImages'>\r\n\t\t\t\t\t\t\t\t\t\t<a className='list-group-item list-group-item-action text-white bg-secondary'>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-arrow-right'></i>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\tGestion des images\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t<Link href='/admin/gestionFichiers'>\r\n\t\t\t\t\t\t\t\t\t\t<a className='list-group-item list-group-item-action text-white bg-secondary'>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-arrow-right'></i>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\tGestion des fichiers\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t<Link href='/admin/gestionReviews'>\r\n\t\t\t\t\t\t\t\t\t\t<a className='list-group-item list-group-item-action text-white bg-secondary'>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-arrow-right'></i>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\tGestion des reviews\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t{/* </div> */}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='card text-white bg-dark'>\r\n\t\t\t\t\t\t\t\t<div className='card-header' id='headingTwo'>\r\n\t\t\t\t\t\t\t\t\t<h2 className='mb-0'>\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-link btn-block text-left text-white collapsed'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\tdata-toggle='collapse'\r\n\t\t\t\t\t\t\t\t\t\t\tdata-target='#collapseTwo'\r\n\t\t\t\t\t\t\t\t\t\t\taria-expanded='false'\r\n\t\t\t\t\t\t\t\t\t\t\taria-controls='collapseTwo'>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-file-alt'></i>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\tGestion des pages\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tid='collapseTwo'\r\n\t\t\t\t\t\t\t\t\tclassName='collapse'\r\n\t\t\t\t\t\t\t\t\taria-labelledby='headingTwo'\r\n\t\t\t\t\t\t\t\t\tdata-parent='#accordionExample'>\r\n\t\t\t\t\t\t\t\t\t{/* <div className='card-body'>\r\n\t\t\t\t\t\t\t\t\t\tSome placeholder content for the second\r\n\t\t\t\t\t\t\t\t\t\taccordion panel. This panel is hidden by\r\n\t\t\t\t\t\t\t\t\t\tdefault.\r\n\t\t\t\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\t\t\t<Link href='/admin/gestionDivers'>\r\n\t\t\t\t\t\t\t\t\t\t<a className='list-group-item list-group-item-action text-white bg-secondary'>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-arrow-right'></i>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\tPages diverses\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t<Link href='/admin/gestionDivers/partenaires'>\r\n\t\t\t\t\t\t\t\t\t\t<a className='list-group-item list-group-item-action text-white bg-secondary'>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-arrow-right'></i>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\tPages Partenaires\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='card text-white bg-dark'>\r\n\t\t\t\t\t\t\t\t<div className='card-header' id='headingThree'>\r\n\t\t\t\t\t\t\t\t\t<h2 className='mb-0'>\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-link btn-block text-left text-white collapsed'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\tdata-toggle='collapse'\r\n\t\t\t\t\t\t\t\t\t\t\tdata-target='#collapseThree'\r\n\t\t\t\t\t\t\t\t\t\t\taria-expanded='false'\r\n\t\t\t\t\t\t\t\t\t\t\taria-controls='collapseThree'>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-bed'></i>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\tGestion des réservations{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t{newReservation > 0 && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className='badge badge-pill badge-success'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{newReservation}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tid='collapseThree'\r\n\t\t\t\t\t\t\t\t\tclassName='collapse'\r\n\t\t\t\t\t\t\t\t\taria-labelledby='headingThree'\r\n\t\t\t\t\t\t\t\t\tdata-parent='#accordionExample'>\r\n\t\t\t\t\t\t\t\t\t{/* <div className='card-body'>\r\n\t\t\t\t\t\t\t\t\t\tAnd lastly, the placeholder content for\r\n\t\t\t\t\t\t\t\t\t\tthe third and final accordion panel.\r\n\t\t\t\t\t\t\t\t\t\tThis panel is hidden by default.\r\n\t\t\t\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\t\t\t<Link href='/admin/reservation'>\r\n\t\t\t\t\t\t\t\t\t\t<a className='list-group-item list-group-item-action text-white bg-secondary'>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-arrow-right'></i>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\tListe des réservations\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<Link href='/admin/messages'>\r\n\t\t\t\t\t\t\t<a className='list-group-item list-group-item-action text-white bg-dark'>\r\n\t\t\t\t\t\t\t\t<i className='fas fa-comments'></i> Messages\r\n\t\t\t\t\t\t\t\t{'  '}\r\n\t\t\t\t\t\t\t\t{newMessages > 0 && (\r\n\t\t\t\t\t\t\t\t\t<span className='badge badge-pill badge-info'>\r\n\t\t\t\t\t\t\t\t\t\t{newMessages}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</Link>\r\n\r\n\t\t\t\t\t\t<Link href='/admin/users'>\r\n\t\t\t\t\t\t\t<a className='list-group-item list-group-item-action text-white bg-dark'>\r\n\t\t\t\t\t\t\t\t<i className='fas fa-user-friends'></i> Gestion\r\n\t\t\t\t\t\t\t\tdes utilisateurs\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link href='/admin/mailer'>\r\n\t\t\t\t\t\t\t<a className='list-group-item list-group-item-action text-white bg-dark'>\r\n\t\t\t\t\t\t\t\t<i className='fas fa-envelope'></i> Gestion des\r\n\t\t\t\t\t\t\t\tmails\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link href='/admin/clients'>\r\n\t\t\t\t\t\t\t<a className='list-group-item list-group-item-action text-white bg-dark'>\r\n\t\t\t\t\t\t\t\t<i className='fas fa-user-tag'></i> Gestion des\r\n\t\t\t\t\t\t\t\tclients\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div id='page-content-wrapper'>\r\n\t\t\t\t\t<nav className='navbar navbar-expand-lg navbar-dark bg-dark border-bottom'>\r\n\t\t\t\t\t\t{/* <button className='btn btn-primary' id='menu-toggle'>\r\n\t\t\t\t\t\t\tToggle Menu\r\n\t\t\t\t\t\t</button> */}\r\n\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName='navbar-toggler'\r\n\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\tdata-toggle='collapse'\r\n\t\t\t\t\t\t\tdata-target='#navbarSupportedContent'\r\n\t\t\t\t\t\t\taria-controls='navbarSupportedContent'\r\n\t\t\t\t\t\t\taria-expanded='false'\r\n\t\t\t\t\t\t\taria-label='Toggle navigation'>\r\n\t\t\t\t\t\t\t<span className='navbar-toggler-icon'></span>\r\n\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName='collapse navbar-collapse'\r\n\t\t\t\t\t\t\tid='navbarSupportedContent'>\r\n\t\t\t\t\t\t\t<ul className='navbar-nav ml-auto mt-2 mt-lg-0'>\r\n\t\t\t\t\t\t\t\t<li className='nav-item active'>\r\n\t\t\t\t\t\t\t\t\t<a className='nav-link' href='/admin'>\r\n\t\t\t\t\t\t\t\t\t\tEspace Admin{' '}\r\n\t\t\t\t\t\t\t\t\t\t<span className='sr-only'>\r\n\t\t\t\t\t\t\t\t\t\t\t(current)\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t\t\t<a className='nav-link' href='/'>\r\n\t\t\t\t\t\t\t\t\t\tVoir le site\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\tclassName='nav-link'\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\tlogout(() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tRouter.replace('/login')\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\tDeconnecter\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t{/* <li className='nav-item dropdown'>\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\tclassName='nav-link dropdown-toggle'\r\n\t\t\t\t\t\t\t\t\t\thref='#'\r\n\t\t\t\t\t\t\t\t\t\tid='navbarDropdown'\r\n\t\t\t\t\t\t\t\t\t\trole='button'\r\n\t\t\t\t\t\t\t\t\t\tdata-toggle='dropdown'\r\n\t\t\t\t\t\t\t\t\t\taria-haspopup='true'\r\n\t\t\t\t\t\t\t\t\t\taria-expanded='false'>\r\n\t\t\t\t\t\t\t\t\t\tDropdown\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName='dropdown-menu dropdown-menu-right'\r\n\t\t\t\t\t\t\t\t\t\taria-labelledby='navbarDropdown'>\r\n\t\t\t\t\t\t\t\t\t\t<a className='dropdown-item' href='#'>\r\n\t\t\t\t\t\t\t\t\t\t\tAction\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t<a className='dropdown-item' href='#'>\r\n\t\t\t\t\t\t\t\t\t\t\tAnother action\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t<div className='dropdown-divider'></div>\r\n\t\t\t\t\t\t\t\t\t\t<a className='dropdown-item' href='#'>\r\n\t\t\t\t\t\t\t\t\t\t\tSomething else here\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</li> */}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</nav>\r\n\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName='container-fluid'\r\n\t\t\t\t\t\t// style={{ backgroundColor: '#1c2025', height: '100vh' }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{children}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport async function getServerSideProps(context) {\r\n\tconsole.log('context', context);\r\n\tconst token = context.req.cookies.token;\r\n\tconst res1 = await getUserById(context.params.id, token);\r\n\tconst user = await res1;\r\n\r\n\treturn {\r\n\t\tprops: {\r\n\t\t\tuser,\r\n\t\t},\r\n\t};\r\n}\r\n\r\nexport default AdminHeader;\r\n"]},"metadata":{},"sourceType":"module"}