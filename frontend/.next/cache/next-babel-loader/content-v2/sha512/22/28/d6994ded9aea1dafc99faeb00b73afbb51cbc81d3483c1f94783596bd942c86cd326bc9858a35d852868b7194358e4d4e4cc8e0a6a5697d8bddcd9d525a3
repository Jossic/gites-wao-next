{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\jossi\\\\Dropbox\\\\JOSSIC\\\\6-development\\\\Devs\\\\gites-wao\\\\frontend\\\\components\\\\layout\\\\Header.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react'; // import { APP_NAME } from '../config';\n\nimport NProgress from 'nprogress'; // import 'bootstrap/dist/css/bootstrap.css';\n\nimport Link from 'next/link'; // import gites from '../../data';\n\nimport Image from 'next/image';\nimport fetch from 'isomorphic-fetch';\nimport { isAuth, logout } from '../../actions/authActions';\nimport { Collapse, Navbar, NavbarToggler, NavbarBrand, Nav, NavItem, NavLink, UncontrolledDropdown, DropdownToggle, DropdownMenu, DropdownItem, NavbarText } from 'reactstrap';\nimport { listGitesNoms } from '../../actions/giteActions';\nimport Router from 'next/router';\nimport '../../node_modules/nprogress/nprogress.css';\n\nRouter.onRouteChangeStart = function (url) {\n  return NProgress.start();\n};\n\nRouter.onRouteChangeComplete = function (url) {\n  return NProgress.done();\n};\n\nRouter.onRouteChangeError = function (url) {\n  return NProgress.done();\n};\n\nvar Header = function Header() {\n  _s();\n\n  var _useState = useState(false),\n      isOpen = _useState[0],\n      setIsOpen = _useState[1];\n\n  var toggle = function toggle() {\n    return setIsOpen(!isOpen);\n  };\n\n  var _useState2 = useState([]),\n      gites = _useState2[0],\n      setGites = _useState2[1];\n\n  var listDesGites = function listDesGites() {\n    listGitesNoms().then(function (data) {\n      if (data.error) {\n        console.log(error);\n      } else {\n        setGites.apply(void 0, _toConsumableArray(gites).concat([data]));\n      }\n    });\n  };\n\n  useEffect(function () {\n    listDesGites();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Navbar, {\n      color: \"dark\",\n      dark: true,\n      expand: \"md\",\n      children: [/*#__PURE__*/_jsxDEV(NavbarBrand, {\n        href: \"/\",\n        children: /*#__PURE__*/_jsxDEV(Image, {\n          src: \"/images/logo wao.png\",\n          width: \"80px\",\n          height: \"35px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(NavbarToggler, {\n        onClick: toggle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(Collapse, {\n        isOpen: isOpen,\n        navbar: true,\n        children: [/*#__PURE__*/_jsxDEV(Nav, {\n          className: \"mr-auto\",\n          navbar: true,\n          children: [gites.map(function (gite, i) {\n            return /*#__PURE__*/_jsxDEV(Link, {\n              href: \"/gite/\".concat(gite.slug),\n              children: /*#__PURE__*/_jsxDEV(NavItem, {\n                children: /*#__PURE__*/_jsxDEV(NavLink, {\n                  style: {\n                    cursor: 'pointer'\n                  },\n                  children: gite.nom\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 9\n              }, _this)\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 8\n            }, _this);\n          }), /*#__PURE__*/_jsxDEV(Link, {\n            href: \"/tarifs\",\n            children: /*#__PURE__*/_jsxDEV(NavItem, {\n              children: /*#__PURE__*/_jsxDEV(NavLink, {\n                style: {\n                  cursor: 'pointer'\n                },\n                children: \"Tarifs\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(Link, {\n            href: \"/reservation\",\n            children: /*#__PURE__*/_jsxDEV(NavItem, {\n              children: /*#__PURE__*/_jsxDEV(NavLink, {\n                style: {\n                  cursor: 'pointer'\n                },\n                children: \"R\\xE9server\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(Link, {\n            href: \"/contact\",\n            children: /*#__PURE__*/_jsxDEV(NavItem, {\n              children: /*#__PURE__*/_jsxDEV(NavLink, {\n                style: {\n                  cursor: 'pointer'\n                },\n                children: \"Contact\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 9\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 8\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(UncontrolledDropdown, {\n            nav: true,\n            inNavbar: true,\n            children: [/*#__PURE__*/_jsxDEV(DropdownToggle, {\n              nav: true,\n              caret: true,\n              children: \"Divers\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 8\n            }, _this), /*#__PURE__*/_jsxDEV(DropdownMenu, {\n              right: true,\n              children: [/*#__PURE__*/_jsxDEV(DropdownItem, {\n                children: \"Alentours\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 9\n              }, _this), /*#__PURE__*/_jsxDEV(DropdownItem, {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  href: \"/divers/FAQ\",\n                  children: /*#__PURE__*/_jsxDEV(NavItem, {\n                    children: /*#__PURE__*/_jsxDEV(NavLink, {\n                      style: {\n                        cursor: 'pointer',\n                        color: 'black'\n                      },\n                      children: \"F.A.Q.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 109,\n                      columnNumber: 12\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 108,\n                    columnNumber: 11\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 9\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 8\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(UncontrolledDropdown, {\n            nav: true,\n            inNavbar: true,\n            children: [/*#__PURE__*/_jsxDEV(DropdownToggle, {\n              nav: true,\n              caret: true,\n              children: \"Partenaires\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 8\n            }, _this), /*#__PURE__*/_jsxDEV(DropdownMenu, {\n              right: true,\n              children: [/*#__PURE__*/_jsxDEV(DropdownItem, {\n                children: \"Restauration\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 9\n              }, _this), /*#__PURE__*/_jsxDEV(DropdownItem, {\n                children: \"Terroir\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 9\n              }, _this), /*#__PURE__*/_jsxDEV(DropdownItem, {\n                children: \"Adresses utiles\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 9\n              }, _this), /*#__PURE__*/_jsxDEV(DropdownItem, {\n                children: \"Festi'buz\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 9\n              }, _this), /*#__PURE__*/_jsxDEV(DropdownItem, {\n                children: \"Labels\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 9\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 8\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 7\n          }, _this), !isAuth() && /*#__PURE__*/_jsxDEV(Link, {\n            href: \"/login\",\n            children: /*#__PURE__*/_jsxDEV(NavItem, {\n              children: /*#__PURE__*/_jsxDEV(NavLink, {\n                style: {\n                  cursor: 'pointer'\n                },\n                children: \"Connexion\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 10\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 9\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 8\n          }, _this), isAuth() && isAuth().isAdmin && /*#__PURE__*/_jsxDEV(Link, {\n            href: \"/admin\",\n            children: /*#__PURE__*/_jsxDEV(NavItem, {\n              children: /*#__PURE__*/_jsxDEV(NavLink, {\n                style: {\n                  cursor: 'pointer'\n                },\n                children: \"Admin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 10\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 9\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 8\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(NavbarText, {\n          children: \"Les Gites Wao\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 6\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 5\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 4\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 3\n  }, _this);\n};\n\n_s(Header, \"as/rW/TEgY47gUeKb5NgHo0OAdY=\");\n\n_c = Header;\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["C:/Users/jossi/Dropbox/JOSSIC/6-development/Devs/gites-wao/frontend/components/layout/Header.js"],"names":["useEffect","useState","NProgress","Link","Image","fetch","isAuth","logout","Collapse","Navbar","NavbarToggler","NavbarBrand","Nav","NavItem","NavLink","UncontrolledDropdown","DropdownToggle","DropdownMenu","DropdownItem","NavbarText","listGitesNoms","Router","onRouteChangeStart","url","start","onRouteChangeComplete","done","onRouteChangeError","Header","isOpen","setIsOpen","toggle","gites","setGites","listDesGites","then","data","error","console","log","map","gite","i","slug","cursor","nom","color","isAdmin"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\r\n// import { APP_NAME } from '../config';\r\nimport NProgress from 'nprogress';\r\n// import 'bootstrap/dist/css/bootstrap.css';\r\nimport Link from 'next/link';\r\n// import gites from '../../data';\r\nimport Image from 'next/image';\r\nimport fetch from 'isomorphic-fetch';\r\nimport { isAuth, logout } from '../../actions/authActions';\r\nimport {\r\n\tCollapse,\r\n\tNavbar,\r\n\tNavbarToggler,\r\n\tNavbarBrand,\r\n\tNav,\r\n\tNavItem,\r\n\tNavLink,\r\n\tUncontrolledDropdown,\r\n\tDropdownToggle,\r\n\tDropdownMenu,\r\n\tDropdownItem,\r\n\tNavbarText,\r\n} from 'reactstrap';\r\nimport { listGitesNoms } from '../../actions/giteActions';\r\nimport Router from 'next/router';\r\n\r\nimport '../../node_modules/nprogress/nprogress.css';\r\n\r\nRouter.onRouteChangeStart = (url) => NProgress.start();\r\nRouter.onRouteChangeComplete = (url) => NProgress.done();\r\nRouter.onRouteChangeError = (url) => NProgress.done();\r\n\r\nconst Header = () => {\r\n\tconst [isOpen, setIsOpen] = useState(false);\r\n\tconst toggle = () => setIsOpen(!isOpen);\r\n\r\n\tconst [gites, setGites] = useState([]);\r\n\r\n\tconst listDesGites = () => {\r\n\t\tlistGitesNoms().then((data) => {\r\n\t\t\tif (data.error) {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t} else {\r\n\t\t\t\tsetGites(...gites, data);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tlistDesGites();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Navbar color='dark' dark expand='md'>\r\n\t\t\t\t<NavbarBrand href='/'>\r\n\t\t\t\t\t<Image\r\n\t\t\t\t\t\tsrc='/images/logo wao.png'\r\n\t\t\t\t\t\twidth='80px'\r\n\t\t\t\t\t\theight='35px'\r\n\t\t\t\t\t/>\r\n\t\t\t\t</NavbarBrand>\r\n\t\t\t\t<NavbarToggler onClick={toggle} />\r\n\t\t\t\t<Collapse isOpen={isOpen} navbar>\r\n\t\t\t\t\t<Nav className='mr-auto' navbar>\r\n\t\t\t\t\t\t{gites.map((gite, i) => (\r\n\t\t\t\t\t\t\t<Link href={`/gite/${gite.slug}`} key={i}>\r\n\t\t\t\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t\t\t\t<NavLink style={{ cursor: 'pointer' }}>\r\n\t\t\t\t\t\t\t\t\t\t{gite.nom}\r\n\t\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t))}\r\n\r\n\t\t\t\t\t\t<Link href='/tarifs'>\r\n\t\t\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t\t\t<NavLink style={{ cursor: 'pointer' }}>\r\n\t\t\t\t\t\t\t\t\tTarifs\r\n\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t\t</Link>\r\n\r\n\t\t\t\t\t\t<Link href='/reservation'>\r\n\t\t\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t\t\t<NavLink style={{ cursor: 'pointer' }}>\r\n\t\t\t\t\t\t\t\t\tRéserver\r\n\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t\t</Link>\r\n\r\n\t\t\t\t\t\t<Link href='/contact'>\r\n\t\t\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t\t\t<NavLink style={{ cursor: 'pointer' }}>\r\n\t\t\t\t\t\t\t\t\tContact\r\n\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t\t</Link>\r\n\r\n\t\t\t\t\t\t<UncontrolledDropdown nav inNavbar>\r\n\t\t\t\t\t\t\t<DropdownToggle nav caret>\r\n\t\t\t\t\t\t\t\tDivers\r\n\t\t\t\t\t\t\t</DropdownToggle>\r\n\t\t\t\t\t\t\t<DropdownMenu right>\r\n\t\t\t\t\t\t\t\t<DropdownItem>Alentours</DropdownItem>\r\n\t\t\t\t\t\t\t\t<DropdownItem>\r\n\t\t\t\t\t\t\t\t\t<Link href='/divers/FAQ'>\r\n\t\t\t\t\t\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcursor: 'pointer',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'black',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tF.A.Q.\r\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</DropdownItem>\r\n\t\t\t\t\t\t\t</DropdownMenu>\r\n\t\t\t\t\t\t</UncontrolledDropdown>\r\n\r\n\t\t\t\t\t\t<UncontrolledDropdown nav inNavbar>\r\n\t\t\t\t\t\t\t<DropdownToggle nav caret>\r\n\t\t\t\t\t\t\t\tPartenaires\r\n\t\t\t\t\t\t\t</DropdownToggle>\r\n\t\t\t\t\t\t\t<DropdownMenu right>\r\n\t\t\t\t\t\t\t\t<DropdownItem>Restauration</DropdownItem>\r\n\t\t\t\t\t\t\t\t<DropdownItem>Terroir</DropdownItem>\r\n\t\t\t\t\t\t\t\t<DropdownItem>Adresses utiles</DropdownItem>\r\n\t\t\t\t\t\t\t\t<DropdownItem>Festi'buz</DropdownItem>\r\n\t\t\t\t\t\t\t\t<DropdownItem>Labels</DropdownItem>\r\n\t\t\t\t\t\t\t</DropdownMenu>\r\n\t\t\t\t\t\t</UncontrolledDropdown>\r\n\t\t\t\t\t\t{!isAuth() && (\r\n\t\t\t\t\t\t\t<Link href='/login'>\r\n\t\t\t\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t\t\t\t<NavLink style={{ cursor: 'pointer' }}>\r\n\t\t\t\t\t\t\t\t\t\tConnexion\r\n\t\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{isAuth() && isAuth().isAdmin && (\r\n\t\t\t\t\t\t\t<Link href='/admin'>\r\n\t\t\t\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t\t\t\t<NavLink style={{ cursor: 'pointer' }}>\r\n\t\t\t\t\t\t\t\t\t\tAdmin\r\n\t\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Nav>\r\n\t\t\t\t\t<NavbarText>Les Gites Wao</NavbarText>\r\n\t\t\t\t</Collapse>\r\n\t\t\t</Navbar>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Header;\r\n"]},"metadata":{},"sourceType":"module"}