{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\jossi\\\\Dropbox\\\\JOSSIC\\\\6-development\\\\Devs\\\\gites-wao\\\\frontend\\\\components\\\\admin\\\\lists\\\\ListImages.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { Table, Button } from 'reactstrap';\nimport { listeDesImages, listGitesNoms } from '../../../actions/giteActions';\nimport { useEffect, useState } from 'react';\nimport { API } from '../../../config';\nimport Link from 'next/link';\nimport { useFieldArray, useForm } from 'react-hook-form';\nimport { getCookie } from '../../../actions/authActions';\n\nvar ListImages = function ListImages() {\n  _s();\n\n  var _useState = useState([]),\n      photos = _useState[0],\n      setPhotos = _useState[1];\n\n  var token = getCookie('token');\n\n  var _useForm = useForm(),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit,\n      control = _useForm.control,\n      errors = _useForm.errors;\n\n  var _useFieldArray = useFieldArray({\n    control: control,\n    name: 'items'\n  }),\n      fields = _useFieldArray.fields,\n      append = _useFieldArray.append,\n      remove = _useFieldArray.remove;\n\n  var _useState2 = useState({\n    nom: '',\n    alt: '',\n    titreCarousel: '',\n    texteCarousel: '',\n    page: '',\n    section: '',\n    success: '',\n    loading: false,\n    error: ''\n  }),\n      values = _useState2[0],\n      setValues = _useState2[1];\n\n  var success = values.success,\n      loading = values.loading,\n      error = values.error;\n\n  var _useState3 = useState([]),\n      gites = _useState3[0],\n      setGites = _useState3[1];\n\n  var listDesGites = function listDesGites() {\n    listGitesNoms().then(function (data) {\n      if (data.error) {\n        console.log(error);\n      } else {\n        setGites.apply(void 0, _toConsumableArray(gites).concat([data]));\n      }\n    });\n  };\n\n  var listerLesImages = function listerLesImages() {\n    listeDesImages(token).then(function (data) {\n      if (data.error) {\n        console.log(error);\n      } else {\n        setPhotos.apply(void 0, _toConsumableArray(photos).concat([data]));\n      }\n    });\n  };\n\n  useEffect(function () {\n    listDesGites();\n    listerLesImages();\n  }, []);\n\n  var deleteConfirm = function deleteConfirm(slug) {\n    var answer = window.confirm('Cette opération est irréversible, Etes-vous sur de vouloir supprimer cet article ?');\n\n    if (answer) {\n      // deleteGite(slug);\n      console.log('Suppression');\n    }\n  };\n\n  var onSubmit = function onSubmit(data) {\n    return console.log(data);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(onSubmit),\n      children: [/*#__PURE__*/_jsxDEV(Table, {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Nom\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 8\n            }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Photo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 8\n            }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Texte alternatif\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 8\n            }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Titre Carousel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 8\n            }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Texte Carousel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 8\n            }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Page concern\\xE9e\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 8\n            }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Section concern\\xE9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 8\n            }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n              colSpan: \"2\",\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 8\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 7\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: photos.map(function (photo, index) {\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"mt-5\",\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-control\",\n                  type: \"text\",\n                  name: \"items[\".concat(index, \"].nom\"),\n                  value: photo.nom,\n                  ref: register({\n                    required: true\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 9\n              }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: photo.location,\n                  style: {\n                    maxHeight: 'auto',\n                    width: '80px'\n                  },\n                  className: \"img img-fluid\",\n                  alt: photo.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 9\n              }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-control\",\n                  type: \"text\",\n                  name: \"items[\".concat(index, \"].alt\"),\n                  value: photo.alt,\n                  ref: register({\n                    required: true\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 9\n              }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-control\",\n                  type: \"text\",\n                  name: \"items[\".concat(index, \"].titreCarousel\"),\n                  value: photo.titreCarousel,\n                  ref: register({\n                    required: true\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 9\n              }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-control\",\n                  type: \"text\",\n                  name: \"items[\".concat(index, \"].texteCarousel\"),\n                  value: photo.texteCarousel,\n                  ref: register({\n                    required: true\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 9\n              }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"select\", {\n                  ref: register({\n                    required: true\n                  }),\n                  name: \"items[\".concat(index, \"].page\"),\n                  className: \"custom-select mr-sm-2\",\n                  id: \"inlineFormCustomSelect\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    defaultValue: true,\n                    children: \"Selection...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 141,\n                    columnNumber: 11\n                  }, _this), gites.map(function (gite, i) {\n                    return /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: gite.slug,\n                      children: gite.nom\n                    }, i, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 145,\n                      columnNumber: 12\n                    }, _this);\n                  }), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Autre\",\n                    children: \"Autres pages\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 149,\n                    columnNumber: 11\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 9\n              }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"select\", {\n                  ref: register({\n                    required: true\n                  }),\n                  name: \"items[\".concat(index, \"].section\"),\n                  className: \"custom-select mr-sm-2\",\n                  id: \"inlineFormCustomSelect\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    defaultValue: true,\n                    children: \"Selection...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 160,\n                    columnNumber: 11\n                  }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Autre\",\n                    children: \"Autres sections\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 11\n                  }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"presentation\",\n                    children: \"Pr\\xE9sentation\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 166,\n                    columnNumber: 11\n                  }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"piscine\",\n                    children: \"Piscine\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 11\n                  }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"interieur\",\n                    children: \"Int\\xE9rieur\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 170,\n                    columnNumber: 11\n                  }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"avatar\",\n                    children: \"Avatar\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 173,\n                    columnNumber: 11\n                  }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"avatar\",\n                    children: \"Vignettes\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 174,\n                    columnNumber: 11\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 9\n              }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  href: \"/admin/crud/gite/\".concat(photo),\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-pencil-ruler\",\n                      style: {\n                        color: 'orange'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 182,\n                      columnNumber: 12\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 11\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 9\n              }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  onClick: function onClick() {\n                    return deleteConfirm(photo);\n                  },\n                  className: \"fas fa-trash-alt\",\n                  style: {\n                    color: 'red',\n                    cursor: 'pointer'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 9\n              }, _this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 8\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 6\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(Button, {\n        color: \"success\",\n        children: \"Valider ces infos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 5\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 4\n    }, _this)\n  }, void 0, false);\n};\n\n_s(ListImages, \"0GyfcPd8VQ83Gy3vQ80w9nGFqWg=\", false, function () {\n  return [useForm, useFieldArray];\n});\n\n_c = ListImages;\nexport default ListImages;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListImages\");","map":{"version":3,"sources":["C:/Users/jossi/Dropbox/JOSSIC/6-development/Devs/gites-wao/frontend/components/admin/lists/ListImages.js"],"names":["Table","Button","listeDesImages","listGitesNoms","useEffect","useState","API","Link","useFieldArray","useForm","getCookie","ListImages","photos","setPhotos","token","register","handleSubmit","control","errors","name","fields","append","remove","nom","alt","titreCarousel","texteCarousel","page","section","success","loading","error","values","setValues","gites","setGites","listDesGites","then","data","console","log","listerLesImages","deleteConfirm","slug","answer","window","confirm","onSubmit","map","photo","index","required","location","maxHeight","width","gite","i","color","cursor"],"mappings":";;;;;;;;AAAA,SAASA,KAAT,EAAgBC,MAAhB,QAA8B,YAA9B;AACA,SAASC,cAAT,EAAyBC,aAAzB,QAA8C,8BAA9C;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,GAAT,QAAoB,iBAApB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,aAAT,EAAwBC,OAAxB,QAAuC,iBAAvC;AACA,SAASC,SAAT,QAA0B,8BAA1B;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AAAA;;AAAA,kBACIN,QAAQ,CAAC,EAAD,CADZ;AAAA,MACjBO,MADiB;AAAA,MACTC,SADS;;AAExB,MAAMC,KAAK,GAAGJ,SAAS,CAAC,OAAD,CAAvB;;AAFwB,iBAG4BD,OAAO,EAHnC;AAAA,MAGhBM,QAHgB,YAGhBA,QAHgB;AAAA,MAGNC,YAHM,YAGNA,YAHM;AAAA,MAGQC,OAHR,YAGQA,OAHR;AAAA,MAGiBC,MAHjB,YAGiBA,MAHjB;;AAAA,uBAIWV,aAAa,CAAC;AAChDS,IAAAA,OAAO,EAAPA,OADgD;AAEhDE,IAAAA,IAAI,EAAE;AAF0C,GAAD,CAJxB;AAAA,MAIhBC,MAJgB,kBAIhBA,MAJgB;AAAA,MAIRC,MAJQ,kBAIRA,MAJQ;AAAA,MAIAC,MAJA,kBAIAA,MAJA;;AAAA,mBASIjB,QAAQ,CAAC;AACpCkB,IAAAA,GAAG,EAAE,EAD+B;AAEpCC,IAAAA,GAAG,EAAE,EAF+B;AAGpCC,IAAAA,aAAa,EAAE,EAHqB;AAIpCC,IAAAA,aAAa,EAAE,EAJqB;AAKpCC,IAAAA,IAAI,EAAE,EAL8B;AAMpCC,IAAAA,OAAO,EAAE,EAN2B;AAOpCC,IAAAA,OAAO,EAAE,EAP2B;AAQpCC,IAAAA,OAAO,EAAE,KAR2B;AASpCC,IAAAA,KAAK,EAAE;AAT6B,GAAD,CATZ;AAAA,MASjBC,MATiB;AAAA,MASTC,SATS;;AAAA,MAoBhBJ,OApBgB,GAoBYG,MApBZ,CAoBhBH,OApBgB;AAAA,MAoBPC,OApBO,GAoBYE,MApBZ,CAoBPF,OApBO;AAAA,MAoBEC,KApBF,GAoBYC,MApBZ,CAoBED,KApBF;;AAAA,mBAsBE1B,QAAQ,CAAC,EAAD,CAtBV;AAAA,MAsBjB6B,KAtBiB;AAAA,MAsBVC,QAtBU;;AAwBxB,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AAC1BjC,IAAAA,aAAa,GAAGkC,IAAhB,CAAqB,UAACC,IAAD,EAAU;AAC9B,UAAIA,IAAI,CAACP,KAAT,EAAgB;AACfQ,QAAAA,OAAO,CAACC,GAAR,CAAYT,KAAZ;AACA,OAFD,MAEO;AACNI,QAAAA,QAAQ,MAAR,4BAAYD,KAAZ,UAAmBI,IAAnB;AACA;AACD,KAND;AAOA,GARD;;AAUA,MAAMG,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC7BvC,IAAAA,cAAc,CAACY,KAAD,CAAd,CAAsBuB,IAAtB,CAA2B,UAACC,IAAD,EAAU;AACpC,UAAIA,IAAI,CAACP,KAAT,EAAgB;AACfQ,QAAAA,OAAO,CAACC,GAAR,CAAYT,KAAZ;AACA,OAFD,MAEO;AACNlB,QAAAA,SAAS,MAAT,4BAAaD,MAAb,UAAqB0B,IAArB;AACA;AACD,KAND;AAOA,GARD;;AAUAlC,EAAAA,SAAS,CAAC,YAAM;AACfgC,IAAAA,YAAY;AACZK,IAAAA,eAAe;AACf,GAHQ,EAGN,EAHM,CAAT;;AAKA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,IAAD,EAAU;AAC/B,QAAIC,MAAM,GAAGC,MAAM,CAACC,OAAP,CACZ,oFADY,CAAb;;AAGA,QAAIF,MAAJ,EAAY;AACX;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACA;AACD,GARD;;AASA,MAAMO,QAAQ,GAAG,SAAXA,QAAW,CAACT,IAAD;AAAA,WAAUC,OAAO,CAACC,GAAR,CAAYF,IAAZ,CAAV;AAAA,GAAjB;;AAEA,sBACC;AAAA,2BACC;AAAM,MAAA,QAAQ,EAAEtB,YAAY,CAAC+B,QAAD,CAA5B;AAAA,8BACC,QAAC,KAAD;AAAA,gCACC;AAAA,iCACC;AAAA,oCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADD,eAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFD,eAGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAHD,eAIC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAJD,eAKC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBALD,eAMC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAND,eAOC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAPD,eAQC;AAAI,cAAA,OAAO,EAAC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBARD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,iBADD,eAaC;AAAA,oBACEnC,MAAM,CAACoC,GAAP,CAAW,UAACC,KAAD,EAAQC,KAAR;AAAA,gCACX;AAAgB,cAAA,SAAS,EAAC,MAA1B;AAAA,sCACC;AAAA,uCACC;AACC,kBAAA,SAAS,EAAC,cADX;AAEC,kBAAA,IAAI,EAAC,MAFN;AAGC,kBAAA,IAAI,kBAAWA,KAAX,UAHL;AAIC,kBAAA,KAAK,EAAED,KAAK,CAAC1B,GAJd;AAKC,kBAAA,GAAG,EAAER,QAAQ,CAAC;AAAEoC,oBAAAA,QAAQ,EAAE;AAAZ,mBAAD;AALd;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,uBADD,eAUC;AAAA,uCACC;AACC,kBAAA,GAAG,EAAEF,KAAK,CAACG,QADZ;AAEC,kBAAA,KAAK,EAAE;AACNC,oBAAAA,SAAS,EAAE,MADL;AAENC,oBAAAA,KAAK,EAAE;AAFD,mBAFR;AAMC,kBAAA,SAAS,EAAC,eANX;AAOC,kBAAA,GAAG,EAAEL,KAAK,CAAC9B;AAPZ;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,uBAVD,eAqBC;AAAA,uCACC;AACC,kBAAA,SAAS,EAAC,cADX;AAEC,kBAAA,IAAI,EAAC,MAFN;AAGC,kBAAA,IAAI,kBAAW+B,KAAX,UAHL;AAIC,kBAAA,KAAK,EAAED,KAAK,CAACzB,GAJd;AAKC,kBAAA,GAAG,EAAET,QAAQ,CAAC;AAAEoC,oBAAAA,QAAQ,EAAE;AAAZ,mBAAD;AALd;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,uBArBD,eA8BC;AAAA,uCACC;AACC,kBAAA,SAAS,EAAC,cADX;AAEC,kBAAA,IAAI,EAAC,MAFN;AAGC,kBAAA,IAAI,kBAAWD,KAAX,oBAHL;AAIC,kBAAA,KAAK,EAAED,KAAK,CAACxB,aAJd;AAKC,kBAAA,GAAG,EAAEV,QAAQ,CAAC;AAAEoC,oBAAAA,QAAQ,EAAE;AAAZ,mBAAD;AALd;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,uBA9BD,eAuCC;AAAA,uCACC;AACC,kBAAA,SAAS,EAAC,cADX;AAEC,kBAAA,IAAI,EAAC,MAFN;AAGC,kBAAA,IAAI,kBAAWD,KAAX,oBAHL;AAIC,kBAAA,KAAK,EAAED,KAAK,CAACvB,aAJd;AAKC,kBAAA,GAAG,EAAEX,QAAQ,CAAC;AAAEoC,oBAAAA,QAAQ,EAAE;AAAZ,mBAAD;AALd;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,uBAvCD,eAgDC;AAAA,uCACC;AACC,kBAAA,GAAG,EAAEpC,QAAQ,CAAC;AAAEoC,oBAAAA,QAAQ,EAAE;AAAZ,mBAAD,CADd;AAEC,kBAAA,IAAI,kBAAWD,KAAX,WAFL;AAGC,kBAAA,SAAS,EAAC,uBAHX;AAIC,kBAAA,EAAE,EAAC,wBAJJ;AAAA,0CAKC;AAAQ,oBAAA,YAAY,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BALD,EAQEhB,KAAK,CAACc,GAAN,CAAU,UAACO,IAAD,EAAOC,CAAP;AAAA,wCACV;AAAgB,sBAAA,KAAK,EAAED,IAAI,CAACZ,IAA5B;AAAA,gCACEY,IAAI,CAAChC;AADP,uBAAaiC,CAAb;AAAA;AAAA;AAAA;AAAA,6BADU;AAAA,mBAAV,CARF,eAaC;AAAQ,oBAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAbD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,uBAhDD,eAmEC;AAAA,uCACC;AACC,kBAAA,GAAG,EAAEzC,QAAQ,CAAC;AAAEoC,oBAAAA,QAAQ,EAAE;AAAZ,mBAAD,CADd;AAEC,kBAAA,IAAI,kBAAWD,KAAX,cAFL;AAGC,kBAAA,SAAS,EAAC,uBAHX;AAIC,kBAAA,EAAE,EAAC,wBAJJ;AAAA,0CAKC;AAAQ,oBAAA,YAAY,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BALD,eAQC;AAAQ,oBAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BARD,eAWC;AAAQ,oBAAA,KAAK,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAXD,eAcC;AAAQ,oBAAA,KAAK,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAdD,eAeC;AAAQ,oBAAA,KAAK,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAfD,eAkBC;AAAQ,oBAAA,KAAK,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAlBD,eAmBC;AAAQ,oBAAA,KAAK,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAnBD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,uBAnED,eA4FC;AAAA,uCACC,QAAC,IAAD;AAAM,kBAAA,IAAI,6BAAsBD,KAAtB,CAAV;AAAA,yCACC;AAAA,2CACC;AACC,sBAAA,SAAS,EAAC,qBADX;AAEC,sBAAA,KAAK,EAAE;AAAEQ,wBAAAA,KAAK,EAAE;AAAT;AAFR;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,uBA5FD,eAqGC;AAAA,uCACC;AACC,kBAAA,OAAO,EAAE;AAAA,2BAAMf,aAAa,CAACO,KAAD,CAAnB;AAAA,mBADV;AAEC,kBAAA,SAAS,EAAC,kBAFX;AAGC,kBAAA,KAAK,EAAE;AACNQ,oBAAAA,KAAK,EAAE,KADD;AAENC,oBAAAA,MAAM,EAAE;AAFF;AAHR;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,uBArGD;AAAA,eAASR,KAAT;AAAA;AAAA;AAAA;AAAA,qBADW;AAAA,WAAX;AADF;AAAA;AAAA;AAAA;AAAA,iBAbD;AAAA;AAAA;AAAA;AAAA;AAAA,eADD,eAkIC,QAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAlID;AAAA;AAAA;AAAA;AAAA;AAAA;AADD,mBADD;AAwIA,CApMD;;GAAMvC,U;UAG+CF,O,EACjBD,a;;;KAJ9BG,U;AAsMN,eAAeA,UAAf","sourcesContent":["import { Table, Button } from 'reactstrap';\r\nimport { listeDesImages, listGitesNoms } from '../../../actions/giteActions';\r\nimport { useEffect, useState } from 'react';\r\nimport { API } from '../../../config';\r\nimport Link from 'next/link';\r\nimport { useFieldArray, useForm } from 'react-hook-form';\r\nimport { getCookie } from '../../../actions/authActions';\r\n\r\nconst ListImages = () => {\r\n\tconst [photos, setPhotos] = useState([]);\r\n\tconst token = getCookie('token');\r\n\tconst { register, handleSubmit, control, errors } = useForm();\r\n\tconst { fields, append, remove } = useFieldArray({\r\n\t\tcontrol,\r\n\t\tname: 'items',\r\n\t});\r\n\r\n\tconst [values, setValues] = useState({\r\n\t\tnom: '',\r\n\t\talt: '',\r\n\t\ttitreCarousel: '',\r\n\t\ttexteCarousel: '',\r\n\t\tpage: '',\r\n\t\tsection: '',\r\n\t\tsuccess: '',\r\n\t\tloading: false,\r\n\t\terror: '',\r\n\t});\r\n\tconst { success, loading, error } = values;\r\n\r\n\tconst [gites, setGites] = useState([]);\r\n\r\n\tconst listDesGites = () => {\r\n\t\tlistGitesNoms().then((data) => {\r\n\t\t\tif (data.error) {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t} else {\r\n\t\t\t\tsetGites(...gites, data);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tconst listerLesImages = () => {\r\n\t\tlisteDesImages(token).then((data) => {\r\n\t\t\tif (data.error) {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t} else {\r\n\t\t\t\tsetPhotos(...photos, data);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tlistDesGites();\r\n\t\tlisterLesImages();\r\n\t}, []);\r\n\r\n\tconst deleteConfirm = (slug) => {\r\n\t\tlet answer = window.confirm(\r\n\t\t\t'Cette opération est irréversible, Etes-vous sur de vouloir supprimer cet article ?'\r\n\t\t);\r\n\t\tif (answer) {\r\n\t\t\t// deleteGite(slug);\r\n\t\t\tconsole.log('Suppression');\r\n\t\t}\r\n\t};\r\n\tconst onSubmit = (data) => console.log(data);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<form onSubmit={handleSubmit(onSubmit)}>\r\n\t\t\t\t<Table>\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Nom</th>\r\n\t\t\t\t\t\t\t<th>Photo</th>\r\n\t\t\t\t\t\t\t<th>Texte alternatif</th>\r\n\t\t\t\t\t\t\t<th>Titre Carousel</th>\r\n\t\t\t\t\t\t\t<th>Texte Carousel</th>\r\n\t\t\t\t\t\t\t<th>Page concernée</th>\r\n\t\t\t\t\t\t\t<th>Section concerné</th>\r\n\t\t\t\t\t\t\t<th colSpan='2'>Actions</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{photos.map((photo, index) => (\r\n\t\t\t\t\t\t\t<tr key={index} className='mt-5'>\r\n\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\tname={`items[${index}].nom`}\r\n\t\t\t\t\t\t\t\t\t\tvalue={photo.nom}\r\n\t\t\t\t\t\t\t\t\t\tref={register({ required: true })}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tsrc={photo.location}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tmaxHeight: 'auto',\r\n\t\t\t\t\t\t\t\t\t\t\twidth: '80px',\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tclassName='img img-fluid'\r\n\t\t\t\t\t\t\t\t\t\talt={photo.name}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\tname={`items[${index}].alt`}\r\n\t\t\t\t\t\t\t\t\t\tvalue={photo.alt}\r\n\t\t\t\t\t\t\t\t\t\tref={register({ required: true })}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\tname={`items[${index}].titreCarousel`}\r\n\t\t\t\t\t\t\t\t\t\tvalue={photo.titreCarousel}\r\n\t\t\t\t\t\t\t\t\t\tref={register({ required: true })}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\tname={`items[${index}].texteCarousel`}\r\n\t\t\t\t\t\t\t\t\t\tvalue={photo.texteCarousel}\r\n\t\t\t\t\t\t\t\t\t\tref={register({ required: true })}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\tref={register({ required: true })}\r\n\t\t\t\t\t\t\t\t\t\tname={`items[${index}].page`}\r\n\t\t\t\t\t\t\t\t\t\tclassName='custom-select mr-sm-2'\r\n\t\t\t\t\t\t\t\t\t\tid='inlineFormCustomSelect'>\r\n\t\t\t\t\t\t\t\t\t\t<option defaultValue>\r\n\t\t\t\t\t\t\t\t\t\t\tSelection...\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t{gites.map((gite, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<option key={i} value={gite.slug}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{gite.nom}\r\n\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t<option value='Autre'>\r\n\t\t\t\t\t\t\t\t\t\t\tAutres pages\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\tref={register({ required: true })}\r\n\t\t\t\t\t\t\t\t\t\tname={`items[${index}].section`}\r\n\t\t\t\t\t\t\t\t\t\tclassName='custom-select mr-sm-2'\r\n\t\t\t\t\t\t\t\t\t\tid='inlineFormCustomSelect'>\r\n\t\t\t\t\t\t\t\t\t\t<option defaultValue>\r\n\t\t\t\t\t\t\t\t\t\t\tSelection...\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value='Autre'>\r\n\t\t\t\t\t\t\t\t\t\t\tAutres sections\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value='presentation'>\r\n\t\t\t\t\t\t\t\t\t\t\tPrésentation\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value='piscine'>Piscine</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value='interieur'>\r\n\t\t\t\t\t\t\t\t\t\t\tIntérieur\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value='avatar'>Avatar</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value='avatar'>\r\n\t\t\t\t\t\t\t\t\t\t\tVignettes\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t<Link href={`/admin/crud/gite/${photo}`}>\r\n\t\t\t\t\t\t\t\t\t\t<a>\r\n\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-pencil-ruler'\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: 'orange' }}></i>\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => deleteConfirm(photo)}\r\n\t\t\t\t\t\t\t\t\t\tclassName='fas fa-trash-alt'\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tcolor: 'red',\r\n\t\t\t\t\t\t\t\t\t\t\tcursor: 'pointer',\r\n\t\t\t\t\t\t\t\t\t\t}}></i>\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</Table>\r\n\t\t\t\t<Button color='success'>Valider ces infos</Button>\r\n\t\t\t</form>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ListImages;\r\n"]},"metadata":{},"sourceType":"module"}