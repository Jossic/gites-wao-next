{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jossi\\\\Dropbox\\\\JOSSIC\\\\6-development\\\\Devs\\\\gites-wao\\\\frontend\\\\components\\\\admin\\\\forms\\\\FormDroits.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Button, CircularProgress, Switch, FormControlLabel, TextField, Grid } from '@material-ui/core';\nimport { withRouter } from 'next/router';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { getCookie } from '../../../actions/authActions';\nimport Router from 'next/router';\nimport { withSnackbar } from '../../HOC/Snackbar';\nimport { updateUser } from '../../../actions/userActions';\nconst useStyles = makeStyles(theme => ({\n  button: {\n    marginRight: theme.spacing(1),\n    marginTop: theme.spacing(2),\n    width: '100%'\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    width: '80%'\n  },\n  textField: {\n    margin: theme.spacing(1),\n    width: '80%'\n  }\n}));\n\nconst FormDroits = ({\n  snackbarShowMessage,\n  router,\n  user\n}) => {\n  const token = getCookie('token');\n  const classes = useStyles();\n  const {\n    register,\n    handleSubmit\n  } = useForm({\n    defaultValues: _objectSpread(_objectSpread({}, user), {}, {\n      password: ''\n    })\n  });\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n\n  const onSubmit = async data => {\n    console.log(data);\n    setLoading(true);\n    updateUser(data, user._id, token).then(result => {\n      console.log('result', result);\n\n      if (result.error) {\n        setLoading(false);\n        snackbarShowMessage(`${result.error}`);\n      } else {\n        setLoading(false);\n        snackbarShowMessage(`${result.message}`, 'success'); // setTimeout(() => {\n        // \tRouter.push(`/admin/users/${router.query.id}`, null, {\n        // \t\tshallow: true,\n        // \t});\n        // }, 3000);\n      }\n    });\n  };\n\n  return __jsx(React.Fragment, null, loading && __jsx(CircularProgress, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 16\n    }\n  }), __jsx(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 4\n    }\n  }, __jsx(TableContainer, {\n    component: Paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, __jsx(Table, {\n    className: classes.table,\n    \"aria-label\": \"simple table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 6\n    }\n  }, __jsx(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, __jsx(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 8\n    }\n  }, __jsx(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, \"Droit de :\"), __jsx(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, \"Consultation\"), __jsx(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, \"Ecriture\"), __jsx(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, \"Modifier\"), __jsx(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, \"Suppression\"))), __jsx(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, rows.map(row => __jsx(TableRow, {\n    key: row.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, __jsx(TableCell, {\n    component: \"th\",\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 10\n    }\n  }, row.name), __jsx(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 10\n    }\n  }, row.calories), __jsx(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 10\n    }\n  }, row.fat), __jsx(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 10\n    }\n  }, row.carbs), __jsx(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 10\n    }\n  }, row.protein)))))), __jsx(Button, {\n    type: \"submit\",\n    variant: \"contained\",\n    color: \"primary\",\n    className: classes.button,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }\n  }, \"Modifier cet utilisateur\")));\n};\n\nexport default withRouter(withSnackbar(FormDroits));","map":{"version":3,"sources":["C:/Users/jossi/Dropbox/JOSSIC/6-development/Devs/gites-wao/frontend/components/admin/forms/FormDroits.js"],"names":["Button","CircularProgress","Switch","FormControlLabel","TextField","Grid","withRouter","makeStyles","useState","useForm","getCookie","Router","withSnackbar","updateUser","useStyles","theme","button","marginRight","spacing","marginTop","width","formControl","margin","textField","FormDroits","snackbarShowMessage","router","user","token","classes","register","handleSubmit","defaultValues","password","loading","setLoading","onSubmit","data","console","log","_id","then","result","error","message","Paper","table","rows","map","row","name","calories","fat","carbs","protein"],"mappings":"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","sourcesContent":["import {\r\n\tButton,\r\n\tCircularProgress,\r\n\tSwitch,\r\n\tFormControlLabel,\r\n\tTextField,\r\n\tGrid,\r\n} from '@material-ui/core';\r\nimport { withRouter } from 'next/router';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { getCookie } from '../../../actions/authActions';\r\nimport Router from 'next/router';\r\nimport { withSnackbar } from '../../HOC/Snackbar';\r\nimport { updateUser } from '../../../actions/userActions';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tbutton: {\r\n\t\tmarginRight: theme.spacing(1),\r\n\t\tmarginTop: theme.spacing(2),\r\n\t\twidth: '100%',\r\n\t},\r\n\tformControl: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\twidth: '80%',\r\n\t},\r\n\ttextField: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\twidth: '80%',\r\n\t},\r\n}));\r\n\r\nconst FormDroits = ({ snackbarShowMessage, router, user }) => {\r\n\tconst token = getCookie('token');\r\n\tconst classes = useStyles();\r\n\tconst { register, handleSubmit } = useForm({\r\n\t\tdefaultValues: { ...user, password: '' },\r\n\t});\r\n\r\n\tconst [loading, setLoading] = useState(false);\r\n\r\n\tconst onSubmit = async (data) => {\r\n\t\tconsole.log(data);\r\n\t\tsetLoading(true);\r\n\t\tupdateUser(data, user._id, token).then((result) => {\r\n\t\t\tconsole.log('result', result);\r\n\t\t\tif (result.error) {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsnackbarShowMessage(`${result.error}`);\r\n\t\t\t} else {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsnackbarShowMessage(`${result.message}`, 'success');\r\n\t\t\t\t// setTimeout(() => {\r\n\t\t\t\t// \tRouter.push(`/admin/users/${router.query.id}`, null, {\r\n\t\t\t\t// \t\tshallow: true,\r\n\t\t\t\t// \t});\r\n\t\t\t\t// }, 3000);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{loading && <CircularProgress />}\r\n\r\n\t\t\t<form onSubmit={handleSubmit(onSubmit)}>\r\n\t\t\t\t<TableContainer component={Paper}>\r\n\t\t\t\t\t<Table className={classes.table} aria-label='simple table'>\r\n\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t<TableCell>Droit de :</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell>Consultation</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell>Ecriture</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell>Modifier</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell>Suppression</TableCell>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t{rows.map((row) => (\r\n\t\t\t\t\t\t\t\t<TableRow key={row.name}>\r\n\t\t\t\t\t\t\t\t\t<TableCell component='th' scope='row'>\r\n\t\t\t\t\t\t\t\t\t\t{row.name}\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t{row.calories}\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t{row.fat}\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t{row.carbs}\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t{row.protein}\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</TableContainer>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype='submit'\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\tclassName={classes.button}>\r\n\t\t\t\t\tModifier cet utilisateur\r\n\t\t\t\t</Button>\r\n\t\t\t</form>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default withRouter(withSnackbar(FormDroits));\r\n"]},"metadata":{},"sourceType":"module"}