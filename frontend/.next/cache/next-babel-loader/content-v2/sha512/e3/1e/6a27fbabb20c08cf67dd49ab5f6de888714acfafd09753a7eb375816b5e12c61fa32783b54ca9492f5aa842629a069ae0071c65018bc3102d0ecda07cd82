{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\jossi\\\\Dropbox\\\\JOSSIC\\\\6-development\\\\Devs\\\\gites-wao\\\\frontend\\\\components\\\\admin\\\\lists\\\\ListImages.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { Table, Button } from 'reactstrap';\nimport { listeDesImages, listGitesNoms } from '../../../actions/giteActions';\nimport { useEffect, useState } from 'react';\nimport { API } from '../../../config';\nimport Link from 'next/link';\nimport { useForm } from 'react-hook-form';\nimport { getCookie } from '../../../actions/authActions';\n\nvar ListImages = function ListImages() {\n  _s();\n\n  var _useState = useState([]),\n      photos = _useState[0],\n      setPhotos = _useState[1];\n\n  var token = getCookie('token');\n\n  var _useForm = useForm(),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit,\n      watch = _useForm.watch,\n      errors = _useForm.errors;\n\n  var _useState2 = useState([]),\n      gites = _useState2[0],\n      setGites = _useState2[1];\n\n  var listDesGites = function listDesGites() {\n    listGitesNoms().then(function (data) {\n      if (data.error) {\n        console.log(error);\n      } else {\n        setGites.apply(void 0, _toConsumableArray(gites).concat([data]));\n      }\n    });\n  };\n\n  var listerLesImages = function listerLesImages() {\n    listeDesImages(token).then(function (data) {\n      if (data.error) {\n        console.log(error);\n      } else {\n        setPhotos.apply(void 0, _toConsumableArray(photos).concat([data]));\n      }\n    });\n  };\n\n  useEffect(function () {\n    listDesGites();\n    listerLesImages();\n  }, []);\n\n  var deleteConfirm = function deleteConfirm(slug) {\n    var answer = window.confirm('Cette opération est irréversible, Etes-vous sur de vouloir supprimer cet article ?');\n\n    if (answer) {\n      // deleteGite(slug);\n      console.log('Suppression');\n    }\n  };\n\n  var onSubmit = function onSubmit(data) {\n    return console.log(data);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(onSubmit),\n      children: [/*#__PURE__*/_jsxDEV(Table, {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Nom\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 8\n            }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Photo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 8\n            }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Texte alternatif\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 8\n            }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Page concern\\xE9e\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 8\n            }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Section concern\\xE9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 8\n            }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n              colSpan: \"2\",\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 8\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 7\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: photos.map(function (photo, i) {\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"mt-5\",\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: photo.nom\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 9\n              }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: photo.location,\n                  style: {\n                    maxHeight: 'auto',\n                    width: '80px'\n                  },\n                  className: \"img img-fluid\",\n                  alt: photo.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 9\n              }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-control\",\n                  type: \"text\",\n                  name: \"alt\",\n                  value: photo.alt,\n                  ref: register({\n                    required: true\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 9\n              }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"select\", {\n                  ref: register({\n                    required: true\n                  }),\n                  name: \"page\",\n                  className: \"custom-select mr-sm-2\",\n                  id: \"inlineFormCustomSelect\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    defaultValue: true,\n                    children: \"Selection...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 96,\n                    columnNumber: 11\n                  }, _this), gites.map(function (gite, i) {\n                    return /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: gite.slug,\n                      children: gite.nom\n                    }, i, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 100,\n                      columnNumber: 12\n                    }, _this);\n                  }), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Autre\",\n                    children: \"Autres pages\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 104,\n                    columnNumber: 11\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 9\n              }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"select\", {\n                  ref: register({\n                    required: true\n                  }),\n                  name: \"section\",\n                  className: \"custom-select mr-sm-2\",\n                  id: \"inlineFormCustomSelect\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    defaultValue: true,\n                    children: \"Selection...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 115,\n                    columnNumber: 11\n                  }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Autre\",\n                    children: \"Autres sections\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 118,\n                    columnNumber: 11\n                  }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"presentation\",\n                    children: \"Pr\\xE9sentation\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 121,\n                    columnNumber: 11\n                  }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"piscine\",\n                    children: \"Piscine\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 124,\n                    columnNumber: 11\n                  }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"interieur\",\n                    children: \"Int\\xE9rieur\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 125,\n                    columnNumber: 11\n                  }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"avatar\",\n                    children: \"Avatar\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 128,\n                    columnNumber: 11\n                  }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"avatar\",\n                    children: \"Vignettes\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 129,\n                    columnNumber: 11\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 9\n              }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  href: \"/admin/crud/gite/\".concat(photo),\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-pencil-ruler\",\n                      style: {\n                        color: 'orange'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 137,\n                      columnNumber: 12\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 136,\n                    columnNumber: 11\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 9\n              }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  onClick: function onClick() {\n                    return deleteConfirm(photo);\n                  },\n                  className: \"fas fa-trash-alt\",\n                  style: {\n                    color: 'red',\n                    cursor: 'pointer'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 10\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 9\n              }, _this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 8\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 6\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/_jsxDEV(Button, {\n        color: \"success\",\n        children: \"Valider ces infos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 5\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 4\n    }, _this)\n  }, void 0, false);\n};\n\n_s(ListImages, \"4mIQZg6S88yQuZwMgSTWd2C+8jk=\", false, function () {\n  return [useForm];\n});\n\n_c = ListImages;\nexport default ListImages;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListImages\");","map":{"version":3,"sources":["C:/Users/jossi/Dropbox/JOSSIC/6-development/Devs/gites-wao/frontend/components/admin/lists/ListImages.js"],"names":["Table","Button","listeDesImages","listGitesNoms","useEffect","useState","API","Link","useForm","getCookie","ListImages","photos","setPhotos","token","register","handleSubmit","watch","errors","gites","setGites","listDesGites","then","data","error","console","log","listerLesImages","deleteConfirm","slug","answer","window","confirm","onSubmit","map","photo","i","nom","location","maxHeight","width","name","alt","required","gite","color","cursor"],"mappings":";;;;;;;;AAAA,SAASA,KAAT,EAAgBC,MAAhB,QAA8B,YAA9B;AACA,SAASC,cAAT,EAAyBC,aAAzB,QAA8C,8BAA9C;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,GAAT,QAAoB,iBAApB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,SAASC,SAAT,QAA0B,8BAA1B;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AAAA;;AAAA,kBACIL,QAAQ,CAAC,EAAD,CADZ;AAAA,MACjBM,MADiB;AAAA,MACTC,SADS;;AAExB,MAAMC,KAAK,GAAGJ,SAAS,CAAC,OAAD,CAAvB;;AAFwB,iBAG0BD,OAAO,EAHjC;AAAA,MAGhBM,QAHgB,YAGhBA,QAHgB;AAAA,MAGNC,YAHM,YAGNA,YAHM;AAAA,MAGQC,KAHR,YAGQA,KAHR;AAAA,MAGeC,MAHf,YAGeA,MAHf;;AAAA,mBAKEZ,QAAQ,CAAC,EAAD,CALV;AAAA,MAKjBa,KALiB;AAAA,MAKVC,QALU;;AAOxB,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AAC1BjB,IAAAA,aAAa,GAAGkB,IAAhB,CAAqB,UAACC,IAAD,EAAU;AAC9B,UAAIA,IAAI,CAACC,KAAT,EAAgB;AACfC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,OAFD,MAEO;AACNJ,QAAAA,QAAQ,MAAR,4BAAYD,KAAZ,UAAmBI,IAAnB;AACA;AACD,KAND;AAOA,GARD;;AAUA,MAAMI,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC7BxB,IAAAA,cAAc,CAACW,KAAD,CAAd,CAAsBQ,IAAtB,CAA2B,UAACC,IAAD,EAAU;AACpC,UAAIA,IAAI,CAACC,KAAT,EAAgB;AACfC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,OAFD,MAEO;AACNX,QAAAA,SAAS,MAAT,4BAAaD,MAAb,UAAqBW,IAArB;AACA;AACD,KAND;AAOA,GARD;;AAUAlB,EAAAA,SAAS,CAAC,YAAM;AACfgB,IAAAA,YAAY;AACZM,IAAAA,eAAe;AACf,GAHQ,EAGN,EAHM,CAAT;;AAKA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,IAAD,EAAU;AAC/B,QAAIC,MAAM,GAAGC,MAAM,CAACC,OAAP,CACZ,oFADY,CAAb;;AAGA,QAAIF,MAAJ,EAAY;AACX;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACA;AACD,GARD;;AASA,MAAMO,QAAQ,GAAG,SAAXA,QAAW,CAACV,IAAD;AAAA,WAAUE,OAAO,CAACC,GAAR,CAAYH,IAAZ,CAAV;AAAA,GAAjB;;AAEA,sBACC;AAAA,2BACC;AAAM,MAAA,QAAQ,EAAEP,YAAY,CAACiB,QAAD,CAA5B;AAAA,8BACC,QAAC,KAAD;AAAA,gCACC;AAAA,iCACC;AAAA,oCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADD,eAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFD,eAGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAHD,eAIC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAJD,eAKC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBALD,eAMC;AAAI,cAAA,OAAO,EAAC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAND;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,iBADD,eAWC;AAAA,oBACErB,MAAM,CAACsB,GAAP,CAAW,UAACC,KAAD,EAAQC,CAAR;AAAA,gCACX;AAAY,cAAA,SAAS,EAAC,MAAtB;AAAA,sCACC;AAAA,0BAAKD,KAAK,CAACE;AAAX;AAAA;AAAA;AAAA;AAAA,uBADD,eAEC;AAAA,uCACC;AACC,kBAAA,GAAG,EAAEF,KAAK,CAACG,QADZ;AAEC,kBAAA,KAAK,EAAE;AACNC,oBAAAA,SAAS,EAAE,MADL;AAENC,oBAAAA,KAAK,EAAE;AAFD,mBAFR;AAMC,kBAAA,SAAS,EAAC,eANX;AAOC,kBAAA,GAAG,EAAEL,KAAK,CAACM;AAPZ;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,uBAFD,eAaC;AAAA,uCACC;AACC,kBAAA,SAAS,EAAC,cADX;AAEC,kBAAA,IAAI,EAAC,MAFN;AAGC,kBAAA,IAAI,EAAC,KAHN;AAIC,kBAAA,KAAK,EAAEN,KAAK,CAACO,GAJd;AAKC,kBAAA,GAAG,EAAE3B,QAAQ,CAAC;AAAE4B,oBAAAA,QAAQ,EAAE;AAAZ,mBAAD;AALd;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,uBAbD,eAsBC;AAAA,uCACC;AACC,kBAAA,GAAG,EAAE5B,QAAQ,CAAC;AAAE4B,oBAAAA,QAAQ,EAAE;AAAZ,mBAAD,CADd;AAEC,kBAAA,IAAI,EAAC,MAFN;AAGC,kBAAA,SAAS,EAAC,uBAHX;AAIC,kBAAA,EAAE,EAAC,wBAJJ;AAAA,0CAKC;AAAQ,oBAAA,YAAY,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BALD,EAQExB,KAAK,CAACe,GAAN,CAAU,UAACU,IAAD,EAAOR,CAAP;AAAA,wCACV;AAAgB,sBAAA,KAAK,EAAEQ,IAAI,CAACf,IAA5B;AAAA,gCACEe,IAAI,CAACP;AADP,uBAAaD,CAAb;AAAA;AAAA;AAAA;AAAA,6BADU;AAAA,mBAAV,CARF,eAaC;AAAQ,oBAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAbD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,uBAtBD,eAyCC;AAAA,uCACC;AACC,kBAAA,GAAG,EAAErB,QAAQ,CAAC;AAAE4B,oBAAAA,QAAQ,EAAE;AAAZ,mBAAD,CADd;AAEC,kBAAA,IAAI,EAAC,SAFN;AAGC,kBAAA,SAAS,EAAC,uBAHX;AAIC,kBAAA,EAAE,EAAC,wBAJJ;AAAA,0CAKC;AAAQ,oBAAA,YAAY,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BALD,eAQC;AAAQ,oBAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BARD,eAWC;AAAQ,oBAAA,KAAK,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAXD,eAcC;AAAQ,oBAAA,KAAK,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAdD,eAeC;AAAQ,oBAAA,KAAK,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAfD,eAkBC;AAAQ,oBAAA,KAAK,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAlBD,eAmBC;AAAQ,oBAAA,KAAK,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAnBD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,uBAzCD,eAkEC;AAAA,uCACC,QAAC,IAAD;AAAM,kBAAA,IAAI,6BAAsBR,KAAtB,CAAV;AAAA,yCACC;AAAA,2CACC;AACC,sBAAA,SAAS,EAAC,qBADX;AAEC,sBAAA,KAAK,EAAE;AAAEU,wBAAAA,KAAK,EAAE;AAAT;AAFR;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,uBAlED,eA2EC;AAAA,uCACC;AACC,kBAAA,OAAO,EAAE;AAAA,2BAAMjB,aAAa,CAACO,KAAD,CAAnB;AAAA,mBADV;AAEC,kBAAA,SAAS,EAAC,kBAFX;AAGC,kBAAA,KAAK,EAAE;AACNU,oBAAAA,KAAK,EAAE,KADD;AAENC,oBAAAA,MAAM,EAAE;AAFF;AAHR;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,uBA3ED;AAAA,eAASV,CAAT;AAAA;AAAA;AAAA;AAAA,qBADW;AAAA,WAAX;AADF;AAAA;AAAA;AAAA;AAAA,iBAXD;AAAA;AAAA;AAAA;AAAA;AAAA,eADD,eAsGC,QAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAtGD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD,mBADD;AA4GA,CAvJD;;GAAMzB,U;UAG6CF,O;;;KAH7CE,U;AAyJN,eAAeA,UAAf","sourcesContent":["import { Table, Button } from 'reactstrap';\r\nimport { listeDesImages, listGitesNoms } from '../../../actions/giteActions';\r\nimport { useEffect, useState } from 'react';\r\nimport { API } from '../../../config';\r\nimport Link from 'next/link';\r\nimport { useForm } from 'react-hook-form';\r\nimport { getCookie } from '../../../actions/authActions';\r\n\r\nconst ListImages = () => {\r\n\tconst [photos, setPhotos] = useState([]);\r\n\tconst token = getCookie('token');\r\n\tconst { register, handleSubmit, watch, errors } = useForm();\r\n\r\n\tconst [gites, setGites] = useState([]);\r\n\r\n\tconst listDesGites = () => {\r\n\t\tlistGitesNoms().then((data) => {\r\n\t\t\tif (data.error) {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t} else {\r\n\t\t\t\tsetGites(...gites, data);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tconst listerLesImages = () => {\r\n\t\tlisteDesImages(token).then((data) => {\r\n\t\t\tif (data.error) {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t} else {\r\n\t\t\t\tsetPhotos(...photos, data);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tlistDesGites();\r\n\t\tlisterLesImages();\r\n\t}, []);\r\n\r\n\tconst deleteConfirm = (slug) => {\r\n\t\tlet answer = window.confirm(\r\n\t\t\t'Cette opération est irréversible, Etes-vous sur de vouloir supprimer cet article ?'\r\n\t\t);\r\n\t\tif (answer) {\r\n\t\t\t// deleteGite(slug);\r\n\t\t\tconsole.log('Suppression');\r\n\t\t}\r\n\t};\r\n\tconst onSubmit = (data) => console.log(data);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<form onSubmit={handleSubmit(onSubmit)}>\r\n\t\t\t\t<Table>\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Nom</th>\r\n\t\t\t\t\t\t\t<th>Photo</th>\r\n\t\t\t\t\t\t\t<th>Texte alternatif</th>\r\n\t\t\t\t\t\t\t<th>Page concernée</th>\r\n\t\t\t\t\t\t\t<th>Section concerné</th>\r\n\t\t\t\t\t\t\t<th colSpan='2'>Actions</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{photos.map((photo, i) => (\r\n\t\t\t\t\t\t\t<tr key={i} className='mt-5'>\r\n\t\t\t\t\t\t\t\t<th>{photo.nom}</th>\r\n\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tsrc={photo.location}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tmaxHeight: 'auto',\r\n\t\t\t\t\t\t\t\t\t\t\twidth: '80px',\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tclassName='img img-fluid'\r\n\t\t\t\t\t\t\t\t\t\talt={photo.name}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\tname='alt'\r\n\t\t\t\t\t\t\t\t\t\tvalue={photo.alt}\r\n\t\t\t\t\t\t\t\t\t\tref={register({ required: true })}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\tref={register({ required: true })}\r\n\t\t\t\t\t\t\t\t\t\tname='page'\r\n\t\t\t\t\t\t\t\t\t\tclassName='custom-select mr-sm-2'\r\n\t\t\t\t\t\t\t\t\t\tid='inlineFormCustomSelect'>\r\n\t\t\t\t\t\t\t\t\t\t<option defaultValue>\r\n\t\t\t\t\t\t\t\t\t\t\tSelection...\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t{gites.map((gite, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<option key={i} value={gite.slug}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{gite.nom}\r\n\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t<option value='Autre'>\r\n\t\t\t\t\t\t\t\t\t\t\tAutres pages\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\tref={register({ required: true })}\r\n\t\t\t\t\t\t\t\t\t\tname='section'\r\n\t\t\t\t\t\t\t\t\t\tclassName='custom-select mr-sm-2'\r\n\t\t\t\t\t\t\t\t\t\tid='inlineFormCustomSelect'>\r\n\t\t\t\t\t\t\t\t\t\t<option defaultValue>\r\n\t\t\t\t\t\t\t\t\t\t\tSelection...\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value='Autre'>\r\n\t\t\t\t\t\t\t\t\t\t\tAutres sections\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value='presentation'>\r\n\t\t\t\t\t\t\t\t\t\t\tPrésentation\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value='piscine'>Piscine</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value='interieur'>\r\n\t\t\t\t\t\t\t\t\t\t\tIntérieur\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value='avatar'>Avatar</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value='avatar'>\r\n\t\t\t\t\t\t\t\t\t\t\tVignettes\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t<Link href={`/admin/crud/gite/${photo}`}>\r\n\t\t\t\t\t\t\t\t\t\t<a>\r\n\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-pencil-ruler'\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: 'orange' }}></i>\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => deleteConfirm(photo)}\r\n\t\t\t\t\t\t\t\t\t\tclassName='fas fa-trash-alt'\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tcolor: 'red',\r\n\t\t\t\t\t\t\t\t\t\t\tcursor: 'pointer',\r\n\t\t\t\t\t\t\t\t\t\t}}></i>\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</Table>\r\n\t\t\t\t<Button color='success'>Valider ces infos</Button>\r\n\t\t\t</form>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ListImages;\r\n"]},"metadata":{},"sourceType":"module"}