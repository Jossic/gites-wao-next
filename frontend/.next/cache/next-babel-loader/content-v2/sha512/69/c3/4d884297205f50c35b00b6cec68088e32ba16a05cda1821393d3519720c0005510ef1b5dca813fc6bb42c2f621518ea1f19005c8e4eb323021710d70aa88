{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\jossi\\\\Dropbox\\\\JOSSIC\\\\6-development\\\\Devs\\\\gites-wao\\\\frontend\\\\components\\\\admin\\\\lists\\\\ListMessages.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n// import { Table } from 'reactstrap';\nimport { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport { getCookie } from '../../../actions/authActions';\nimport { Alert, Spinner } from 'reactstrap';\nimport { removeMessage } from '../../../actions/messageActions';\nimport MUIDataTable from 'mui-datatables'; // import AddBoxIcon from '@material-ui/icons/AddBox';\n\nimport ReplyIcon from '@material-ui/icons/Reply';\nimport FiberNewIcon from '@material-ui/icons/FiberNew';\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\n\nvar ListMessages = function ListMessages(_ref) {\n  _s();\n\n  var messages = _ref.messages,\n      newMessages = _ref.newMessages;\n  var token = getCookie('token'); //Ajouter le delete et multiple delete\n\n  var _useState = useState({\n    loading: false,\n    error: '',\n    success: '',\n    message: ''\n  }),\n      values = _useState[0],\n      setvalues = _useState[1];\n\n  var loading = values.loading,\n      success = values.success,\n      error = values.error,\n      message = values.message;\n\n  var deleteMessage = function deleteMessage(id) {\n    setvalues(_objectSpread(_objectSpread({}, values), {}, {\n      loading: true\n    }));\n    removeMessage(id, token).then(function (data) {\n      console.log('data vaut', data);\n\n      if (data.error) {\n        setvalues(_objectSpread(_objectSpread({}, values), {}, {\n          loading: false,\n          error: true,\n          success: false\n        }));\n      } else {\n        setvalues(_objectSpread(_objectSpread({}, values), {}, {\n          loading: false,\n          error: '',\n          success: true,\n          message: data.text\n        }));\n      }\n    });\n  };\n\n  var deleteConfirm = function deleteConfirm(id) {\n    if (true) {\n      var answer = window.confirm(\"Suppression du message \".concat(id, \", \\xEAtes-vous s\\xFBr ?\"));\n\n      if (answer) {\n        deleteMessage(id);\n      }\n    }\n  };\n\n  var columns = [{\n    name: '_id',\n    label: '#',\n    options: {\n      filter: true,\n      sort: true\n    }\n  }, {\n    name: 'nom',\n    label: 'Nom',\n    options: {\n      filter: true,\n      sort: true\n    }\n  }, {\n    name: 'mail',\n    label: 'Mail',\n    options: {\n      filter: true,\n      sort: false\n    }\n  }, {\n    name: 'tel',\n    label: 'Tel',\n    options: {\n      filter: true,\n      sort: false\n    }\n  }, {\n    name: 'msg',\n    label: 'Message',\n    options: {\n      filter: true,\n      sort: false,\n      customBodyRender: function customBodyRender(value, tableMeta, updateValue) {\n        return __jsx(\"p\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }\n        }, value.substring(0, 20) + '...');\n      }\n    }\n  }, {\n    name: 'vu',\n    label: 'Non lu',\n    options: {\n      filter: true,\n      customBodyRender: function customBodyRender(value, tableMeta, updateValue) {\n        return !value && __jsx(FiberNewIcon, {\n          fontSize: \"large\",\n          style: {\n            color: 'green'\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 8\n          }\n        });\n      }\n    }\n  }, {\n    name: 'repondu',\n    label: 'Répondu',\n    options: {\n      filter: true,\n      customBodyRender: function customBodyRender(value, tableMeta, updateValue) {\n        return value ? __jsx(CheckBoxIcon, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 7\n          }\n        }) : __jsx(CheckBoxOutlineBlankIcon, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 7\n          }\n        });\n      }\n    }\n  }, {\n    name: 'Voir/Répondre',\n    options: {\n      sort: false,\n      filter: false,\n      customBodyRender: function customBodyRender(value, tableMeta, updateValue) {\n        console.log(tableMeta.rowData);\n        return !tableMeta.rowData[6] ? __jsx(Link, {\n          href: \"/admin/messages/\".concat(tableMeta.rowData[0]),\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 7\n          }\n        }, __jsx(\"a\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 8\n          }\n        }, __jsx(ReplyIcon, {\n          fontSize: \"large\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 9\n          }\n        }))) : __jsx(Link, {\n          href: \"/admin/messages/\".concat(tableMeta.rowData[0]),\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 7\n          }\n        }, __jsx(\"a\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 8\n          }\n        }, __jsx(VisibilityIcon, {\n          fontSize: \"large\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 9\n          }\n        })));\n      }\n    }\n  }];\n  var options = {\n    filterType: 'checkbox',\n    onRowsDelete: function onRowsDelete(rowsDeleted, dataRows) {\n      console.log('dataRows : ', dataRows); // const idsToDelete = rowsDeleted.map(\n      // \t(d) => messages[d.dataIndex]._id\n      // ); // array of all ids to to be deleted\n      // deleteMessage(idsToDelete); // your delete request here\n    }\n  };\n  return __jsx(React.Fragment, null, loading && __jsx(Spinner, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 16\n    }\n  }), success && __jsx(Alert, {\n    color: \"success\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 16\n    }\n  }, message), error && __jsx(Alert, {\n    color: \"danger\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 14\n    }\n  }, \"Une erreur est survenue\"), __jsx(\"p\", {\n    style: {\n      color: 'white'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 4\n    }\n  }, newMessages > 0 ? \"Vous avez \".concat(newMessages, \" non lus !\") : \"Aucun nouveau message !\"), __jsx(MUIDataTable, {\n    title: 'Messages',\n    data: messages,\n    columns: columns,\n    options: options,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 4\n    }\n  }));\n};\n\n_s(ListMessages, \"zHNVKE/1KnZVwaUJtFjyUiSK/O0=\");\n\n_c = ListMessages;\nexport default ListMessages;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListMessages\");","map":{"version":3,"sources":["C:/Users/jossi/Dropbox/JOSSIC/6-development/Devs/gites-wao/frontend/components/admin/lists/ListMessages.js"],"names":["useEffect","useState","Link","getCookie","Alert","Spinner","removeMessage","MUIDataTable","ReplyIcon","FiberNewIcon","CheckBoxIcon","CheckBoxOutlineBlankIcon","VisibilityIcon","ListMessages","messages","newMessages","token","loading","error","success","message","values","setvalues","deleteMessage","id","then","data","console","log","text","deleteConfirm","answer","window","confirm","columns","name","label","options","filter","sort","customBodyRender","value","tableMeta","updateValue","substring","color","rowData","filterType","onRowsDelete","rowsDeleted","dataRows"],"mappings":";;;;;;;;;;;;;AAAA;AACA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,SAAT,QAA0B,8BAA1B;AACA,SAASC,KAAT,EAAgBC,OAAhB,QAA+B,YAA/B;AACA,SAASC,aAAT,QAA8B,iCAA9B;AACA,OAAOC,YAAP,MAAyB,gBAAzB,C,CACA;;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,OAAOC,wBAAP,MAAqC,yCAArC;AACA,OAAOC,cAAP,MAA2B,+BAA3B;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,OAA+B;AAAA;;AAAA,MAA5BC,QAA4B,QAA5BA,QAA4B;AAAA,MAAlBC,WAAkB,QAAlBA,WAAkB;AACnD,MAAMC,KAAK,GAAGb,SAAS,CAAC,OAAD,CAAvB,CADmD,CAGnD;;AAHmD,kBAKvBF,QAAQ,CAAC;AACpCgB,IAAAA,OAAO,EAAE,KAD2B;AAEpCC,IAAAA,KAAK,EAAE,EAF6B;AAGpCC,IAAAA,OAAO,EAAE,EAH2B;AAIpCC,IAAAA,OAAO,EAAE;AAJ2B,GAAD,CALe;AAAA,MAK5CC,MAL4C;AAAA,MAKpCC,SALoC;;AAAA,MAY3CL,OAZ2C,GAYNI,MAZM,CAY3CJ,OAZ2C;AAAA,MAYlCE,OAZkC,GAYNE,MAZM,CAYlCF,OAZkC;AAAA,MAYzBD,KAZyB,GAYNG,MAZM,CAYzBH,KAZyB;AAAA,MAYlBE,OAZkB,GAYNC,MAZM,CAYlBD,OAZkB;;AAcnD,MAAMG,aAAa,GAAG,SAAhBA,aAAgB,CAACC,EAAD,EAAQ;AAC7BF,IAAAA,SAAS,iCAAMD,MAAN;AAAcJ,MAAAA,OAAO,EAAE;AAAvB,OAAT;AACAX,IAAAA,aAAa,CAACkB,EAAD,EAAKR,KAAL,CAAb,CAAyBS,IAAzB,CAA8B,UAACC,IAAD,EAAU;AACvCC,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBF,IAAzB;;AACA,UAAIA,IAAI,CAACR,KAAT,EAAgB;AACfI,QAAAA,SAAS,iCACLD,MADK;AAERJ,UAAAA,OAAO,EAAE,KAFD;AAGRC,UAAAA,KAAK,EAAE,IAHC;AAIRC,UAAAA,OAAO,EAAE;AAJD,WAAT;AAMA,OAPD,MAOO;AACNG,QAAAA,SAAS,iCACLD,MADK;AAERJ,UAAAA,OAAO,EAAE,KAFD;AAGRC,UAAAA,KAAK,EAAE,EAHC;AAIRC,UAAAA,OAAO,EAAE,IAJD;AAKRC,UAAAA,OAAO,EAAEM,IAAI,CAACG;AALN,WAAT;AAOA;AACD,KAlBD;AAmBA,GArBD;;AAuBA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACN,EAAD,EAAQ;AAC7B,cAAmC;AAClC,UAAIO,MAAM,GAAGC,MAAM,CAACC,OAAP,kCACcT,EADd,6BAAb;;AAGA,UAAIO,MAAJ,EAAY;AACXR,QAAAA,aAAa,CAACC,EAAD,CAAb;AACA;AACD;AACD,GATD;;AAWA,MAAMU,OAAO,GAAG,CACf;AACCC,IAAAA,IAAI,EAAE,KADP;AAECC,IAAAA,KAAK,EAAE,GAFR;AAGCC,IAAAA,OAAO,EAAE;AACRC,MAAAA,MAAM,EAAE,IADA;AAERC,MAAAA,IAAI,EAAE;AAFE;AAHV,GADe,EASf;AACCJ,IAAAA,IAAI,EAAE,KADP;AAECC,IAAAA,KAAK,EAAE,KAFR;AAGCC,IAAAA,OAAO,EAAE;AACRC,MAAAA,MAAM,EAAE,IADA;AAERC,MAAAA,IAAI,EAAE;AAFE;AAHV,GATe,EAiBf;AACCJ,IAAAA,IAAI,EAAE,MADP;AAECC,IAAAA,KAAK,EAAE,MAFR;AAGCC,IAAAA,OAAO,EAAE;AACRC,MAAAA,MAAM,EAAE,IADA;AAERC,MAAAA,IAAI,EAAE;AAFE;AAHV,GAjBe,EAyBf;AACCJ,IAAAA,IAAI,EAAE,KADP;AAECC,IAAAA,KAAK,EAAE,KAFR;AAGCC,IAAAA,OAAO,EAAE;AACRC,MAAAA,MAAM,EAAE,IADA;AAERC,MAAAA,IAAI,EAAE;AAFE;AAHV,GAzBe,EAiCf;AACCJ,IAAAA,IAAI,EAAE,KADP;AAECC,IAAAA,KAAK,EAAE,SAFR;AAGCC,IAAAA,OAAO,EAAE;AACRC,MAAAA,MAAM,EAAE,IADA;AAERC,MAAAA,IAAI,EAAE,KAFE;AAGRC,MAAAA,gBAAgB,EAAE,0BAACC,KAAD,EAAQC,SAAR,EAAmBC,WAAnB,EAAmC;AACpD,eAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAIF,KAAK,CAACG,SAAN,CAAgB,CAAhB,EAAmB,EAAnB,IAAyB,KAA7B,CAAP;AACA;AALO;AAHV,GAjCe,EA4Cf;AACCT,IAAAA,IAAI,EAAE,IADP;AAECC,IAAAA,KAAK,EAAE,QAFR;AAGCC,IAAAA,OAAO,EAAE;AACRC,MAAAA,MAAM,EAAE,IADA;AAERE,MAAAA,gBAAgB,EAAE,0BAACC,KAAD,EAAQC,SAAR,EAAmBC,WAAnB,EAAmC;AACpD,eACC,CAACF,KAAD,IACC,MAAC,YAAD;AACC,UAAA,QAAQ,EAAC,OADV;AAEC,UAAA,KAAK,EAAE;AAAEI,YAAAA,KAAK,EAAE;AAAT,WAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFF;AAQA;AAXO;AAHV,GA5Ce,EA6Df;AACCV,IAAAA,IAAI,EAAE,SADP;AAECC,IAAAA,KAAK,EAAE,SAFR;AAGCC,IAAAA,OAAO,EAAE;AACRC,MAAAA,MAAM,EAAE,IADA;AAERE,MAAAA,gBAAgB,EAAE,0BAACC,KAAD,EAAQC,SAAR,EAAmBC,WAAnB,EAAmC;AACpD,eAAOF,KAAK,GACX,MAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADW,GAGX,MAAC,wBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAHD;AAKA;AARO;AAHV,GA7De,EA2Ef;AACCN,IAAAA,IAAI,EAAE,eADP;AAECE,IAAAA,OAAO,EAAE;AACRE,MAAAA,IAAI,EAAE,KADE;AAERD,MAAAA,MAAM,EAAE,KAFA;AAGRE,MAAAA,gBAAgB,EAAE,0BAACC,KAAD,EAAQC,SAAR,EAAmBC,WAAnB,EAAmC;AACpDhB,QAAAA,OAAO,CAACC,GAAR,CAAYc,SAAS,CAACI,OAAtB;AACA,eAAO,CAACJ,SAAS,CAACI,OAAV,CAAkB,CAAlB,CAAD,GACN,MAAC,IAAD;AAAM,UAAA,IAAI,4BAAqBJ,SAAS,CAACI,OAAV,CAAkB,CAAlB,CAArB,CAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACC,MAAC,SAAD;AAAW,UAAA,QAAQ,EAAC,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADD,CADD,CADM,GAON,MAAC,IAAD;AAAM,UAAA,IAAI,4BAAqBJ,SAAS,CAACI,OAAV,CAAkB,CAAlB,CAArB,CAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACC,MAAC,cAAD;AAAgB,UAAA,QAAQ,EAAC,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADD,CADD,CAPD;AAaA;AAlBO;AAFV,GA3Ee,CAAhB;AAoGA,MAAMT,OAAO,GAAG;AACfU,IAAAA,UAAU,EAAE,UADG;AAEfC,IAAAA,YAAY,EAAE,sBAACC,WAAD,EAAcC,QAAd,EAA2B;AACxCvB,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BsB,QAA3B,EADwC,CAExC;AACA;AACA;AACA;AACA;AARc,GAAhB;AAWA,SACC,4BACEjC,OAAO,IAAI,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADb,EAEEE,OAAO,IAAI,MAAC,KAAD;AAAO,IAAA,KAAK,EAAC,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwBC,OAAxB,CAFb,EAGEF,KAAK,IAAI,MAAC,KAAD;AAAO,IAAA,KAAK,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAHX,EAKC;AAAG,IAAA,KAAK,EAAE;AAAE2B,MAAAA,KAAK,EAAE;AAAT,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE9B,WAAW,GAAG,CAAd,uBACeA,WADf,2CADF,CALD,EAUC,MAAC,YAAD;AACC,IAAA,KAAK,EAAE,UADR;AAEC,IAAA,IAAI,EAAED,QAFP;AAGC,IAAA,OAAO,EAAEoB,OAHV;AAIC,IAAA,OAAO,EAAEG,OAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVD,CADD;AAmBA,CAlLD;;GAAMxB,Y;;KAAAA,Y;AAoLN,eAAeA,YAAf","sourcesContent":["// import { Table } from 'reactstrap';\r\nimport { useEffect, useState } from 'react';\r\nimport Link from 'next/link';\r\nimport { getCookie } from '../../../actions/authActions';\r\nimport { Alert, Spinner } from 'reactstrap';\r\nimport { removeMessage } from '../../../actions/messageActions';\r\nimport MUIDataTable from 'mui-datatables';\r\n// import AddBoxIcon from '@material-ui/icons/AddBox';\r\nimport ReplyIcon from '@material-ui/icons/Reply';\r\nimport FiberNewIcon from '@material-ui/icons/FiberNew';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\n\r\nconst ListMessages = ({ messages, newMessages }) => {\r\n\tconst token = getCookie('token');\r\n\r\n\t//Ajouter le delete et multiple delete\r\n\r\n\tconst [values, setvalues] = useState({\r\n\t\tloading: false,\r\n\t\terror: '',\r\n\t\tsuccess: '',\r\n\t\tmessage: '',\r\n\t});\r\n\r\n\tconst { loading, success, error, message } = values;\r\n\r\n\tconst deleteMessage = (id) => {\r\n\t\tsetvalues({ ...values, loading: true });\r\n\t\tremoveMessage(id, token).then((data) => {\r\n\t\t\tconsole.log('data vaut', data);\r\n\t\t\tif (data.error) {\r\n\t\t\t\tsetvalues({\r\n\t\t\t\t\t...values,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\terror: true,\r\n\t\t\t\t\tsuccess: false,\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tsetvalues({\r\n\t\t\t\t\t...values,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\terror: '',\r\n\t\t\t\t\tsuccess: true,\r\n\t\t\t\t\tmessage: data.text,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tconst deleteConfirm = (id) => {\r\n\t\tif (typeof window !== 'undefined') {\r\n\t\t\tlet answer = window.confirm(\r\n\t\t\t\t`Suppression du message ${id}, êtes-vous sûr ?`\r\n\t\t\t);\r\n\t\t\tif (answer) {\r\n\t\t\t\tdeleteMessage(id);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\tname: '_id',\r\n\t\t\tlabel: '#',\r\n\t\t\toptions: {\r\n\t\t\t\tfilter: true,\r\n\t\t\t\tsort: true,\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'nom',\r\n\t\t\tlabel: 'Nom',\r\n\t\t\toptions: {\r\n\t\t\t\tfilter: true,\r\n\t\t\t\tsort: true,\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'mail',\r\n\t\t\tlabel: 'Mail',\r\n\t\t\toptions: {\r\n\t\t\t\tfilter: true,\r\n\t\t\t\tsort: false,\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'tel',\r\n\t\t\tlabel: 'Tel',\r\n\t\t\toptions: {\r\n\t\t\t\tfilter: true,\r\n\t\t\t\tsort: false,\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'msg',\r\n\t\t\tlabel: 'Message',\r\n\t\t\toptions: {\r\n\t\t\t\tfilter: true,\r\n\t\t\t\tsort: false,\r\n\t\t\t\tcustomBodyRender: (value, tableMeta, updateValue) => {\r\n\t\t\t\t\treturn <p>{value.substring(0, 20) + '...'}</p>;\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'vu',\r\n\t\t\tlabel: 'Non lu',\r\n\t\t\toptions: {\r\n\t\t\t\tfilter: true,\r\n\t\t\t\tcustomBodyRender: (value, tableMeta, updateValue) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t!value && (\r\n\t\t\t\t\t\t\t<FiberNewIcon\r\n\t\t\t\t\t\t\t\tfontSize='large'\r\n\t\t\t\t\t\t\t\tstyle={{ color: 'green' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'repondu',\r\n\t\t\tlabel: 'Répondu',\r\n\t\t\toptions: {\r\n\t\t\t\tfilter: true,\r\n\t\t\t\tcustomBodyRender: (value, tableMeta, updateValue) => {\r\n\t\t\t\t\treturn value ? (\r\n\t\t\t\t\t\t<CheckBoxIcon />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<CheckBoxOutlineBlankIcon />\r\n\t\t\t\t\t);\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'Voir/Répondre',\r\n\t\t\toptions: {\r\n\t\t\t\tsort: false,\r\n\t\t\t\tfilter: false,\r\n\t\t\t\tcustomBodyRender: (value, tableMeta, updateValue) => {\r\n\t\t\t\t\tconsole.log(tableMeta.rowData);\r\n\t\t\t\t\treturn !tableMeta.rowData[6] ? (\r\n\t\t\t\t\t\t<Link href={`/admin/messages/${tableMeta.rowData[0]}`}>\r\n\t\t\t\t\t\t\t<a>\r\n\t\t\t\t\t\t\t\t<ReplyIcon fontSize='large' />\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Link href={`/admin/messages/${tableMeta.rowData[0]}`}>\r\n\t\t\t\t\t\t\t<a>\r\n\t\t\t\t\t\t\t\t<VisibilityIcon fontSize='large' />\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t);\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t];\r\n\r\n\tconst options = {\r\n\t\tfilterType: 'checkbox',\r\n\t\tonRowsDelete: (rowsDeleted, dataRows) => {\r\n\t\t\tconsole.log('dataRows : ', dataRows);\r\n\t\t\t// const idsToDelete = rowsDeleted.map(\r\n\t\t\t// \t(d) => messages[d.dataIndex]._id\r\n\t\t\t// ); // array of all ids to to be deleted\r\n\t\t\t// deleteMessage(idsToDelete); // your delete request here\r\n\t\t},\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{loading && <Spinner />}\r\n\t\t\t{success && <Alert color='success'>{message}</Alert>}\r\n\t\t\t{error && <Alert color='danger'>Une erreur est survenue</Alert>}\r\n\t\t\t{/* <AddBoxIcon fontSize='large' style={{ float: 'right' }} /> Ajouter */}\r\n\t\t\t<p style={{ color: 'white' }}>\r\n\t\t\t\t{newMessages > 0\r\n\t\t\t\t\t? `Vous avez ${newMessages} non lus !`\r\n\t\t\t\t\t: `Aucun nouveau message !`}\r\n\t\t\t</p>\r\n\t\t\t<MUIDataTable\r\n\t\t\t\ttitle={'Messages'}\r\n\t\t\t\tdata={messages}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\toptions={options}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ListMessages;\r\n"]},"metadata":{},"sourceType":"module"}