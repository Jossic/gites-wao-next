{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\jossi\\\\Dropbox\\\\JOSSIC\\\\6-development\\\\Devs\\\\gites-wao\\\\frontend\\\\pages\\\\admin\\\\reservation\\\\[id]\\\\index.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport AdminHeader from '../../../../components/layout/AdminHeader';\nimport Admin from '../../../../components/auth/Admin';\nimport { withRouter } from 'next/router';\nimport { createContract } from '../../../../actions/reservationActions';\nimport { useForm } from 'react-hook-form';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport StarsIcon from '@material-ui/icons/Stars';\nimport EuroIcon from '@material-ui/icons/Euro';\nimport ContactMailIcon from '@material-ui/icons/ContactMail';\nimport HouseIcon from '@material-ui/icons/House';\nimport ReceiptIcon from '@material-ui/icons/Receipt';\nimport React from 'react';\nimport Blob from 'blob';\nimport dynamic from 'next/dynamic';\nvar PdfViewer = dynamic(_c = function _c() {\n  return import('../../../../components/admin/PDFViewer');\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('../../../../components/admin/PDFViewer')];\n    },\n    modules: ['../../../../components/admin/PDFViewer']\n  }\n});\n_c2 = PdfViewer;\nimport { Grid, Paper, Button, ButtonGroup, Table, TableBody, TableCell, TableContainer, TableHead, Modal, Backdrop, Fade, TableRow } from '@material-ui/core';\nimport FormStatus from '../../../../components/admin/forms/reservation/FormStatus';\nimport FormClient from '../../../../components/admin/forms/reservation/FormClient';\nimport FormLocation from '../../../../components/admin/forms/reservation/FormLocation';\nimport FormPaiements from '../../../../components/admin/forms/reservation/FormPaiements';\nimport FormContrat from '../../../../components/admin/forms/reservation/FormContrat';\nimport { useEffect, useState } from 'react';\nimport { withSnackbar } from '../../../../components/HOC/Snackbar';\nimport { getCookie } from '../../../../actions/authActions';\nimport { getClientById } from '../../../../actions/clientActions';\nimport Link from 'next/link';\nimport Router from 'next/router';\n\nfunction TabPanel(_ref) {\n  var children = _ref.children,\n      value = _ref.value,\n      index = _ref.index,\n      other = _objectWithoutProperties(_ref, [\"children\", \"value\", \"index\"]);\n\n  return __jsx(\"div\", _extends({\n    role: \"tabpanel\",\n    hidden: value !== index,\n    id: \"scrollable-prevent-tabpanel-\".concat(index),\n    \"aria-labelledby\": \"scrollable-prevent-tab-\".concat(index)\n  }, other, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 3\n    }\n  }), value === index && __jsx(Box, {\n    p: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, __jsx(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 6\n    }\n  }, children)));\n}\n\n_c3 = TabPanel;\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired\n};\n\nfunction a11yProps(index) {\n  return {\n    id: \"scrollable-prevent-tab-\".concat(index),\n    'aria-controls': \"scrollable-prevent-tabpanel-\".concat(index)\n  };\n}\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      flexGrow: 1,\n      width: '100%',\n      backgroundColor: '#585858',\n      minHeight: '50vh'\n    },\n    modal: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    paper: {\n      backgroundColor: theme.palette.background.paper,\n      border: '2px solid #000',\n      boxShadow: theme.shadows[5],\n      padding: theme.spacing(2, 4, 3)\n    }\n  };\n});\n\nvar ReservationId = function ReservationId(_ref2) {\n  _s();\n\n  var reservation = _ref2.reservation,\n      router = _ref2.router,\n      snackbarShowMessage = _ref2.snackbarShowMessage;\n  var classes = useStyles();\n  var token = getCookie('token');\n\n  var _useState = useState(0),\n      value = _useState[0],\n      setValue = _useState[1];\n\n  var _useState2 = useState({}),\n      pdf = _useState2[0],\n      setPdf = _useState2[1];\n\n  var _useState3 = useState({}),\n      client = _useState3[0],\n      setClient = _useState3[1];\n\n  var _useState4 = useState(false),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useForm = useForm({\n    defaultValues: reservation\n  }),\n      control = _useForm.control,\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      open = _React$useState2[0],\n      setOpen = _React$useState2[1];\n\n  var handleOpen = function handleOpen() {\n    setOpen(true);\n  };\n\n  var handleClose = function handleClose() {\n    setOpen(false);\n  };\n\n  var listerUnClient = function listerUnClient() {\n    getClientById(reservation.client, token).then(function (data) {\n      if (data.error) {\n        console.log(error);\n      } else {\n        setClient(data);\n      }\n    });\n  };\n\n  useEffect(function () {\n    listerUnClient();\n  }, []);\n\n  var generateContract = function generateContract() {\n    setLoading(true);\n    createContract(reservation).then(function (result) {\n      console.log('result pdf', result.pdf);\n\n      if (result.error) {\n        setLoading(false);\n        snackbarShowMessage(\"\".concat(result.error));\n      } else {\n        var blobPDF = new Blob([result.pdf], {\n          type: 'application/pdf'\n        });\n        setLoading(false);\n        snackbarShowMessage(\"\".concat(result.message), 'success');\n        setPdf(blobPDF);\n        setOpen(true); // setTimeout(() => {\n        // \tRouter.reload();\n        // }, 3000);\n      }\n    });\n  };\n\n  var handleChange = function handleChange(event, newValue) {\n    setValue(newValue);\n  };\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(data) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(data);\n              setLoading(true);\n              updateGite(data, router.query.id, token).then(function (result) {\n                console.log('result', result);\n\n                if (result.error) {\n                  setLoading(false);\n                  snackbarShowMessage(\"\".concat(result.error));\n                } else {\n                  setLoading(false);\n                  snackbarShowMessage(\"\".concat(result.message), 'success');\n                  setTimeout(function () {\n                    Router.reload();\n                  }, 3000);\n                }\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onSubmit(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(React.Fragment, null, __jsx(AdminHeader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 4\n    }\n  }, __jsx(Admin, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 5\n    }\n  }, __jsx(Grid, {\n    container: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 6\n    }\n  }, __jsx(Grid, {\n    item: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }\n  }, __jsx(Typography, {\n    variant: \"h5\",\n    style: {\n      margin: '10px'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 8\n    }\n  }, \"Consultation de la r\\xE9servation\", __jsx(Typography, {\n    style: {\n      color: 'red'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 9\n    }\n  }, \"#\", reservation._id), __jsx(Typography, {\n    style: {\n      color: 'green'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 9\n    }\n  }, client.civilite, \" \", client.nom, ' ', client.prenom)))), __jsx(Grid, {\n    container: true,\n    direction: \"row\",\n    justify: \"space-between\",\n    alignItems: \"flex-start\",\n    style: {\n      padding: '8px'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 6\n    }\n  }, __jsx(Grid, {\n    item: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }\n  }, __jsx(ButtonGroup, {\n    variant: \"contained\",\n    color: \"secondary\",\n    \"aria-label\": \"contained primary button group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 8\n    }\n  }, __jsx(Button, {\n    onClick: generateContract,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 9\n    }\n  }, \"G\\xE9n\\xE9rer Contrat\"), __jsx(Button, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 9\n    }\n  }, \"G\\xE9n\\xE9rer Facture\"), __jsx(Button, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 9\n    }\n  }, \"Mail plateforme\"), __jsx(Button, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 9\n    }\n  }, \"Demander paiement\"))), __jsx(Grid, {\n    item: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }\n  }, __jsx(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 8\n    }\n  }, __jsx(Link, {\n    href: \"/admin/reservation\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 9\n    }\n  }, __jsx(\"a\", {\n    style: {\n      textDecoration: 'none',\n      color: 'white'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 10\n    }\n  }, \"Retour\"))))), __jsx(Paper, {\n    style: {\n      padding: '15px'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 6\n    }\n  }, __jsx(Grid, {\n    container: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }\n  }, __jsx(Typography, {\n    variant: \"h4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 8\n    }\n  }, \"Informations tarifaires\")), __jsx(TableContainer, {\n    component: Paper,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }\n  }, __jsx(Table, {\n    className: classes.table,\n    \"aria-label\": \"simple table\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 8\n    }\n  }, __jsx(TableHead, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 9\n    }\n  }, __jsx(TableRow, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 10\n    }\n  }, __jsx(TableCell, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 11\n    }\n  }, \"Total sans suppl\\xE9ment\"), __jsx(TableCell, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 11\n    }\n  }, \"Suppl\\xE9ment\"), __jsx(TableCell, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 11\n    }\n  }, \"Taxes diverses\"), __jsx(TableCell, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 11\n    }\n  }, \"M\\xE9nage\"), __jsx(TableCell, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 11\n    }\n  }, \"Lit\"), __jsx(TableCell, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 11\n    }\n  }, \"Animaux\"), __jsx(TableCell, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 11\n    }\n  }, \"Remise\"), __jsx(TableCell, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 11\n    }\n  }, \"Reste \\xE0 payer\"))), __jsx(TableBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 9\n    }\n  }, __jsx(TableRow, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 10\n    }\n  }, __jsx(TableCell, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 11\n    }\n  }, reservation.totalTarifBase, \"\\u20AC\"), __jsx(TableCell, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 11\n    }\n  }, reservation.totalTarifSuppl, \"\\u20AC\"), __jsx(TableCell, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 11\n    }\n  }, reservation.taxeSejour, \"\\u20AC\"), __jsx(TableCell, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 11\n    }\n  }, reservation.totalTfMenage, \"\\u20AC\"), __jsx(TableCell, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 11\n    }\n  }, reservation.totalFtLit, \"\\u20AC\"), __jsx(TableCell, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 11\n    }\n  }, reservation.mtAnimaux, \"\\u20AC\"), __jsx(TableCell, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 11\n    }\n  }, reservation.remise, \"\\u20AC\"), __jsx(TableCell, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 11\n    }\n  }, reservation.resteAPayer, \"\\u20AC\"))))), __jsx(\"div\", {\n    className: classes.root,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }\n  }, __jsx(AppBar, {\n    position: \"static\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 8\n    }\n  }, __jsx(Tabs, {\n    value: value,\n    onChange: handleChange,\n    variant: \"fullWidth\",\n    scrollButtons: \"off\",\n    \"aria-label\": \"scrollable prevent tabs example\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 9\n    }\n  }, __jsx(Tab, _extends({\n    icon: __jsx(StarsIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 17\n      }\n    }),\n    \"aria-label\": \"Infos g\\xE9n\\xE9rales\"\n  }, a11yProps(0), {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 10\n    }\n  })), __jsx(Tab, _extends({\n    icon: __jsx(EuroIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 17\n      }\n    }),\n    \"aria-label\": \"Paiements\"\n  }, a11yProps(1), {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 10\n    }\n  })), __jsx(Tab, _extends({\n    icon: __jsx(ContactMailIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 17\n      }\n    }),\n    \"aria-label\": \"Client\"\n  }, a11yProps(2), {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 10\n    }\n  })), __jsx(Tab, _extends({\n    icon: __jsx(HouseIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 17\n      }\n    }),\n    \"aria-label\": \"Location\"\n  }, a11yProps(3), {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 10\n    }\n  })), __jsx(Tab, _extends({\n    icon: __jsx(ReceiptIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 17\n      }\n    }),\n    \"aria-label\": \"Contrat\"\n  }, a11yProps(4), {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 10\n    }\n  })))), __jsx(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 8\n    }\n  }, __jsx(TabPanel, {\n    value: value,\n    index: 0,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 9\n    }\n  }, __jsx(FormStatus, {\n    preloadedValues: reservation,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 10\n    }\n  })), __jsx(TabPanel, {\n    value: value,\n    index: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 9\n    }\n  }, __jsx(FormPaiements, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 10\n    }\n  })), __jsx(TabPanel, {\n    value: value,\n    index: 2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 9\n    }\n  }, __jsx(FormClient, {\n    preloadedValues: client,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 10\n    }\n  })), __jsx(TabPanel, {\n    value: value,\n    index: 3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 9\n    }\n  }, __jsx(FormLocation, {\n    preloadedValues: reservation,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 10\n    }\n  })), __jsx(TabPanel, {\n    value: value,\n    index: 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 9\n    }\n  }, __jsx(FormContrat, {\n    preloadedValues: reservation,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 10\n    }\n  }))))), __jsx(Modal, {\n    \"aria-labelledby\": \"transition-modal-title\",\n    \"aria-describedby\": \"transition-modal-description\",\n    className: classes.modal,\n    open: open,\n    onClose: handleClose,\n    closeAfterTransition: true,\n    BackdropComponent: Backdrop,\n    BackdropProps: {\n      timeout: 500\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 6\n    }\n  }, __jsx(Fade, {\n    \"in\": open,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: classes.paper,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 8\n    }\n  }, __jsx(\"h2\", {\n    id: \"transition-modal-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 9\n    }\n  }, \"Transition modal\"), __jsx(\"p\", {\n    id: \"transition-modal-description\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 9\n    }\n  }, __jsx(\"iframe\", {\n    src: pdf.data,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 10\n    }\n  }))))))));\n};\n\n_s(ReservationId, \"ESba5heoagsoae6mqEejrfgbQBQ=\", false, function () {\n  return [useStyles, useForm];\n});\n\n_c4 = ReservationId;\nexport var __N_SSP = true;\nexport default _c6 = withRouter(_c5 = withSnackbar(ReservationId));\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"PdfViewer$dynamic\");\n$RefreshReg$(_c2, \"PdfViewer\");\n$RefreshReg$(_c3, \"TabPanel\");\n$RefreshReg$(_c4, \"ReservationId\");\n$RefreshReg$(_c5, \"%default%$withRouter\");\n$RefreshReg$(_c6, \"%default%\");","map":{"version":3,"sources":["C:/Users/jossi/Dropbox/JOSSIC/6-development/Devs/gites-wao/frontend/pages/admin/reservation/[id]/index.js"],"names":["AdminHeader","Admin","withRouter","createContract","useForm","PropTypes","makeStyles","AppBar","Tabs","Tab","Typography","Box","StarsIcon","EuroIcon","ContactMailIcon","HouseIcon","ReceiptIcon","React","Blob","dynamic","PdfViewer","ssr","Grid","Paper","Button","ButtonGroup","Table","TableBody","TableCell","TableContainer","TableHead","Modal","Backdrop","Fade","TableRow","FormStatus","FormClient","FormLocation","FormPaiements","FormContrat","useEffect","useState","withSnackbar","getCookie","getClientById","Link","Router","TabPanel","children","value","index","other","propTypes","node","any","isRequired","a11yProps","id","useStyles","theme","root","flexGrow","width","backgroundColor","minHeight","modal","display","alignItems","justifyContent","paper","palette","background","border","boxShadow","shadows","padding","spacing","ReservationId","reservation","router","snackbarShowMessage","classes","token","setValue","pdf","setPdf","client","setClient","loading","setLoading","defaultValues","control","register","handleSubmit","open","setOpen","handleOpen","handleClose","listerUnClient","then","data","error","console","log","generateContract","result","blobPDF","type","message","handleChange","event","newValue","onSubmit","updateGite","query","setTimeout","reload","margin","color","_id","civilite","nom","prenom","textDecoration","table","totalTarifBase","totalTarifSuppl","taxeSejour","totalTfMenage","totalFtLit","mtAnimaux","remise","resteAPayer","timeout"],"mappings":"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","sourcesContent":["import AdminHeader from '../../../../components/layout/AdminHeader';\r\nimport Admin from '../../../../components/auth/Admin';\r\nimport { withRouter } from 'next/router';\r\nimport {\r\n\tcreateContract,\r\n\tlisteOneReservation,\r\n} from '../../../../actions/reservationActions';\r\nimport { useForm } from 'react-hook-form';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\nimport StarsIcon from '@material-ui/icons/Stars';\r\nimport EuroIcon from '@material-ui/icons/Euro';\r\nimport ContactMailIcon from '@material-ui/icons/ContactMail';\r\nimport HouseIcon from '@material-ui/icons/House';\r\nimport ReceiptIcon from '@material-ui/icons/Receipt';\r\nimport React from 'react';\r\nimport Blob from 'blob';\r\n\r\nimport dynamic from 'next/dynamic';\r\n\r\nconst PdfViewer = dynamic(\r\n\t() => import('../../../../components/admin/PDFViewer'),\r\n\t{ ssr: false }\r\n);\r\nimport {\r\n\tGrid,\r\n\tPaper,\r\n\tButton,\r\n\tButtonGroup,\r\n\tTable,\r\n\tTableBody,\r\n\tTableCell,\r\n\tTableContainer,\r\n\tTableHead,\r\n\tModal,\r\n\tBackdrop,\r\n\tFade,\r\n\tTableRow,\r\n} from '@material-ui/core';\r\n\r\nimport FormStatus from '../../../../components/admin/forms/reservation/FormStatus';\r\nimport FormClient from '../../../../components/admin/forms/reservation/FormClient';\r\nimport FormLocation from '../../../../components/admin/forms/reservation/FormLocation';\r\nimport FormPaiements from '../../../../components/admin/forms/reservation/FormPaiements';\r\nimport FormContrat from '../../../../components/admin/forms/reservation/FormContrat';\r\nimport { useEffect, useState } from 'react';\r\nimport { withSnackbar } from '../../../../components/HOC/Snackbar';\r\nimport { getCookie } from '../../../../actions/authActions';\r\nimport { getClientById } from '../../../../actions/clientActions';\r\nimport Link from 'next/link';\r\nimport Router from 'next/router';\r\n\r\nfunction TabPanel({ children, value, index, ...other }) {\r\n\treturn (\r\n\t\t<div\r\n\t\t\trole='tabpanel'\r\n\t\t\thidden={value !== index}\r\n\t\t\tid={`scrollable-prevent-tabpanel-${index}`}\r\n\t\t\taria-labelledby={`scrollable-prevent-tab-${index}`}\r\n\t\t\t{...other}>\r\n\t\t\t{value === index && (\r\n\t\t\t\t<Box p={3}>\r\n\t\t\t\t\t<Typography>{children}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nTabPanel.propTypes = {\r\n\tchildren: PropTypes.node,\r\n\tindex: PropTypes.any.isRequired,\r\n\tvalue: PropTypes.any.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n\treturn {\r\n\t\tid: `scrollable-prevent-tab-${index}`,\r\n\t\t'aria-controls': `scrollable-prevent-tabpanel-${index}`,\r\n\t};\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t\twidth: '100%',\r\n\t\tbackgroundColor: '#585858',\r\n\t\tminHeight: '50vh',\r\n\t},\r\n\tmodal: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t\tjustifyContent: 'center',\r\n\t},\r\n\tpaper: {\r\n\t\tbackgroundColor: theme.palette.background.paper,\r\n\t\tborder: '2px solid #000',\r\n\t\tboxShadow: theme.shadows[5],\r\n\t\tpadding: theme.spacing(2, 4, 3),\r\n\t},\r\n}));\r\n\r\nconst ReservationId = ({ reservation, router, snackbarShowMessage }) => {\r\n\tconst classes = useStyles();\r\n\tconst token = getCookie('token');\r\n\tconst [value, setValue] = useState(0);\r\n\r\n\tconst [pdf, setPdf] = useState({});\r\n\r\n\tconst [client, setClient] = useState({});\r\n\tconst [loading, setLoading] = useState(false);\r\n\r\n\tconst { control, register, handleSubmit } = useForm({\r\n\t\tdefaultValues: reservation,\r\n\t});\r\n\r\n\tconst [open, setOpen] = React.useState(false);\r\n\r\n\tconst handleOpen = () => {\r\n\t\tsetOpen(true);\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetOpen(false);\r\n\t};\r\n\r\n\tconst listerUnClient = () => {\r\n\t\tgetClientById(reservation.client, token).then((data) => {\r\n\t\t\tif (data.error) {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t} else {\r\n\t\t\t\tsetClient(data);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tlisterUnClient();\r\n\t}, []);\r\n\r\n\tconst generateContract = () => {\r\n\t\tsetLoading(true);\r\n\t\tcreateContract(reservation).then((result) => {\r\n\t\t\tconsole.log('result pdf', result.pdf);\r\n\t\t\tif (result.error) {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsnackbarShowMessage(`${result.error}`);\r\n\t\t\t} else {\r\n\t\t\t\tconst blobPDF = new Blob([result.pdf], {\r\n\t\t\t\t\ttype: 'application/pdf',\r\n\t\t\t\t});\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsnackbarShowMessage(`${result.message}`, 'success');\r\n\t\t\t\tsetPdf(blobPDF);\r\n\t\t\t\tsetOpen(true);\r\n\t\t\t\t// setTimeout(() => {\r\n\t\t\t\t// \tRouter.reload();\r\n\t\t\t\t// }, 3000);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleChange = (event, newValue) => {\r\n\t\tsetValue(newValue);\r\n\t};\r\n\r\n\tconst onSubmit = async (data) => {\r\n\t\tconsole.log(data);\r\n\t\tsetLoading(true);\r\n\t\tupdateGite(data, router.query.id, token).then((result) => {\r\n\t\t\tconsole.log('result', result);\r\n\t\t\tif (result.error) {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsnackbarShowMessage(`${result.error}`);\r\n\t\t\t} else {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsnackbarShowMessage(`${result.message}`, 'success');\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tRouter.reload();\r\n\t\t\t\t}, 3000);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<AdminHeader>\r\n\t\t\t\t<Admin>\r\n\t\t\t\t\t{/* Fil d'ariane */}\r\n\t\t\t\t\t<Grid container>\r\n\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t<Typography variant='h5' style={{ margin: '10px' }}>\r\n\t\t\t\t\t\t\t\tConsultation de la réservation\r\n\t\t\t\t\t\t\t\t<Typography style={{ color: 'red' }}>\r\n\t\t\t\t\t\t\t\t\t#{reservation._id}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography style={{ color: 'green' }}>\r\n\t\t\t\t\t\t\t\t\t{client.civilite} {client.nom}{' '}\r\n\t\t\t\t\t\t\t\t\t{client.prenom}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\tdirection='row'\r\n\t\t\t\t\t\tjustify='space-between'\r\n\t\t\t\t\t\talignItems='flex-start'\r\n\t\t\t\t\t\tstyle={{ padding: '8px' }}>\r\n\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t<ButtonGroup\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\taria-label='contained primary button group'>\r\n\t\t\t\t\t\t\t\t<Button onClick={generateContract}>\r\n\t\t\t\t\t\t\t\t\tGénérer Contrat\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Button>Générer Facture</Button>\r\n\t\t\t\t\t\t\t\t<Button>Mail plateforme</Button>\r\n\t\t\t\t\t\t\t\t<Button>Demander paiement</Button>\r\n\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t<Button variant='contained' color='primary'>\r\n\t\t\t\t\t\t\t\t<Link href='/admin/reservation'>\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\ttextDecoration: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\tRetour\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Paper style={{ padding: '15px' }}>\r\n\t\t\t\t\t\t<Grid container>\r\n\t\t\t\t\t\t\t<Typography variant='h4'>\r\n\t\t\t\t\t\t\t\tInformations tarifaires\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<TableContainer component={Paper}>\r\n\t\t\t\t\t\t\t<Table\r\n\t\t\t\t\t\t\t\tclassName={classes.table}\r\n\t\t\t\t\t\t\t\taria-label='simple table'>\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\tTotal sans supplément\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell>Supplément</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell>Taxes diverses</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell>Ménage</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell>Lit</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell>Animaux</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell>Remise</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell>Reste à payer</TableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t{reservation.totalTarifBase}€\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t{reservation.totalTarifSuppl}€\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t{reservation.taxeSejour}€\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t{reservation.totalTfMenage}€\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t{reservation.totalFtLit}€\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t{reservation.mtAnimaux}€\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t{reservation.remise}€\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t{reservation.resteAPayer}€\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</TableContainer>\r\n\r\n\t\t\t\t\t\t<div className={classes.root}>\r\n\t\t\t\t\t\t\t<AppBar position='static'>\r\n\t\t\t\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\tvariant='fullWidth'\r\n\t\t\t\t\t\t\t\t\tscrollButtons='off'\r\n\t\t\t\t\t\t\t\t\taria-label='scrollable prevent tabs example'>\r\n\t\t\t\t\t\t\t\t\t<Tab\r\n\t\t\t\t\t\t\t\t\t\ticon={<StarsIcon />}\r\n\t\t\t\t\t\t\t\t\t\taria-label='Infos générales'\r\n\t\t\t\t\t\t\t\t\t\t{...a11yProps(0)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Tab\r\n\t\t\t\t\t\t\t\t\t\ticon={<EuroIcon />}\r\n\t\t\t\t\t\t\t\t\t\taria-label='Paiements'\r\n\t\t\t\t\t\t\t\t\t\t{...a11yProps(1)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Tab\r\n\t\t\t\t\t\t\t\t\t\ticon={<ContactMailIcon />}\r\n\t\t\t\t\t\t\t\t\t\taria-label='Client'\r\n\t\t\t\t\t\t\t\t\t\t{...a11yProps(2)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Tab\r\n\t\t\t\t\t\t\t\t\t\ticon={<HouseIcon />}\r\n\t\t\t\t\t\t\t\t\t\taria-label='Location'\r\n\t\t\t\t\t\t\t\t\t\t{...a11yProps(3)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Tab\r\n\t\t\t\t\t\t\t\t\t\ticon={<ReceiptIcon />}\r\n\t\t\t\t\t\t\t\t\t\taria-label='Contrat'\r\n\t\t\t\t\t\t\t\t\t\t{...a11yProps(4)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t\t\t<form onSubmit={handleSubmit(onSubmit)}>\r\n\t\t\t\t\t\t\t\t<TabPanel value={value} index={0}>\r\n\t\t\t\t\t\t\t\t\t<FormStatus preloadedValues={reservation} />\r\n\t\t\t\t\t\t\t\t</TabPanel>\r\n\t\t\t\t\t\t\t\t<TabPanel value={value} index={1}>\r\n\t\t\t\t\t\t\t\t\t<FormPaiements />\r\n\t\t\t\t\t\t\t\t</TabPanel>\r\n\t\t\t\t\t\t\t\t<TabPanel value={value} index={2}>\r\n\t\t\t\t\t\t\t\t\t<FormClient preloadedValues={client} />\r\n\t\t\t\t\t\t\t\t</TabPanel>\r\n\t\t\t\t\t\t\t\t<TabPanel value={value} index={3}>\r\n\t\t\t\t\t\t\t\t\t<FormLocation\r\n\t\t\t\t\t\t\t\t\t\tpreloadedValues={reservation}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</TabPanel>\r\n\t\t\t\t\t\t\t\t<TabPanel value={value} index={4}>\r\n\t\t\t\t\t\t\t\t\t<FormContrat\r\n\t\t\t\t\t\t\t\t\t\tpreloadedValues={reservation}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</TabPanel>\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Paper>\r\n\r\n\t\t\t\t\t<Modal\r\n\t\t\t\t\t\taria-labelledby='transition-modal-title'\r\n\t\t\t\t\t\taria-describedby='transition-modal-description'\r\n\t\t\t\t\t\tclassName={classes.modal}\r\n\t\t\t\t\t\topen={open}\r\n\t\t\t\t\t\tonClose={handleClose}\r\n\t\t\t\t\t\tcloseAfterTransition\r\n\t\t\t\t\t\tBackdropComponent={Backdrop}\r\n\t\t\t\t\t\tBackdropProps={{\r\n\t\t\t\t\t\t\ttimeout: 500,\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<Fade in={open}>\r\n\t\t\t\t\t\t\t<div className={classes.paper}>\r\n\t\t\t\t\t\t\t\t<h2 id='transition-modal-title'>\r\n\t\t\t\t\t\t\t\t\tTransition modal\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t<p id='transition-modal-description'>\r\n\t\t\t\t\t\t\t\t\t<iframe src={pdf.data} />\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Fade>\r\n\t\t\t\t\t</Modal>\r\n\t\t\t\t</Admin>\r\n\t\t\t</AdminHeader>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport async function getServerSideProps(context) {\r\n\tconst token = context.req.cookies.token;\r\n\tconst res1 = await listeOneReservation(context.params.id, token);\r\n\tconst reservation = await res1;\r\n\t// Recup client, gite, paiement\r\n\r\n\treturn {\r\n\t\tprops: {\r\n\t\t\treservation,\r\n\t\t},\r\n\t};\r\n}\r\n\r\nexport default withRouter(withSnackbar(ReservationId));\r\n"]},"metadata":{},"sourceType":"module"}