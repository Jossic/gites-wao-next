{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jossi\\\\Dropbox\\\\JOSSIC\\\\6-development\\\\Devs\\\\gites-wao\\\\frontend\\\\components\\\\admin\\\\forms\\\\reservation\\\\FormStatus.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { CircularProgress, Snackbar } from '@material-ui/core';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport { useState } from 'react';\nimport { useForm } from 'react-hook-form';\n\nfunction Alert(props) {\n  return __jsx(MuiAlert, _extends({\n    elevation: 6,\n    variant: \"filled\"\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7,\n      columnNumber: 9\n    }\n  }));\n}\n\nconst FormStatus = ({\n  preloadedValues\n}) => {\n  const {\n    register,\n    handleSubmit\n  } = useForm({\n    defaultValues: preloadedValues\n  });\n  const {\n    0: values,\n    1: setValues\n  } = useState({\n    loading: false,\n    success: '',\n    error: '',\n    message: ''\n  });\n  const {\n    success,\n    loading,\n    error,\n    message\n  } = values;\n\n  const onSubmit = async data => {\n    console.log(data);\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      loading: true\n    }));\n    updatePartenaire(data, router.query.id, token).then(result => {\n      if (result.error) {\n        setValues(_objectSpread(_objectSpread({}, values), {}, {\n          error: result.error\n        }));\n      } else {\n        setValues(_objectSpread(_objectSpread({}, values), {}, {\n          success: true,\n          loading: false\n        }));\n        setTimeout(() => {\n          Router.push('/admin/gestionDivers/partenaires');\n        }, 3000);\n      }\n    });\n  };\n\n  return __jsx(React.Fragment, null, loading && __jsx(CircularProgress, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 16\n    }\n  }), success && __jsx(Snackbar, {\n    open: open,\n    autoHideDuration: 6000,\n    onClose: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, __jsx(Alert, {\n    onClose: handleClose,\n    severity: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 6\n    }\n  }, message)), error && __jsx(Snackbar, {\n    open: open,\n    autoHideDuration: 6000,\n    onClose: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, __jsx(Alert, {\n    onClose: handleClose,\n    severity: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 6\n    }\n  }, error)), __jsx(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 4\n    }\n  }, \"Formulaire status\"));\n};\n\nexport default FormStatus;","map":{"version":3,"sources":["C:/Users/jossi/Dropbox/JOSSIC/6-development/Devs/gites-wao/frontend/components/admin/forms/reservation/FormStatus.js"],"names":["CircularProgress","Snackbar","MuiAlert","useState","useForm","Alert","props","FormStatus","preloadedValues","register","handleSubmit","defaultValues","values","setValues","loading","success","error","message","onSubmit","data","console","log","updatePartenaire","router","query","id","token","then","result","setTimeout","Router","push","open","handleClose"],"mappings":"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","sourcesContent":["import { CircularProgress, Snackbar } from '@material-ui/core';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport { useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\n\r\nfunction Alert(props) {\r\n\treturn <MuiAlert elevation={6} variant='filled' {...props} />;\r\n}\r\n\r\nconst FormStatus = ({ preloadedValues }) => {\r\n\tconst { register, handleSubmit } = useForm({\r\n\t\tdefaultValues: preloadedValues,\r\n\t});\r\n\r\n\tconst [values, setValues] = useState({\r\n\t\tloading: false,\r\n\t\tsuccess: '',\r\n\t\terror: '',\r\n\t\tmessage: '',\r\n\t});\r\n\tconst { success, loading, error, message } = values;\r\n\r\n\tconst onSubmit = async (data) => {\r\n\t\tconsole.log(data);\r\n\t\tsetValues({ ...values, loading: true });\r\n\t\tupdatePartenaire(data, router.query.id, token).then((result) => {\r\n\t\t\tif (result.error) {\r\n\t\t\t\tsetValues({ ...values, error: result.error });\r\n\t\t\t} else {\r\n\t\t\t\tsetValues({\r\n\t\t\t\t\t...values,\r\n\t\t\t\t\tsuccess: true,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tRouter.push('/admin/gestionDivers/partenaires');\r\n\t\t\t\t}, 3000);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{loading && <CircularProgress />}\r\n\t\t\t{success && (\r\n\t\t\t\t<Snackbar\r\n\t\t\t\t\topen={open}\r\n\t\t\t\t\tautoHideDuration={6000}\r\n\t\t\t\t\tonClose={handleClose}>\r\n\t\t\t\t\t<Alert onClose={handleClose} severity='success'>\r\n\t\t\t\t\t\t{message}\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t</Snackbar>\r\n\t\t\t)}\r\n\t\t\t{error && (\r\n\t\t\t\t<Snackbar\r\n\t\t\t\t\topen={open}\r\n\t\t\t\t\tautoHideDuration={6000}\r\n\t\t\t\t\tonClose={handleClose}>\r\n\t\t\t\t\t<Alert onClose={handleClose} severity='error'>\r\n\t\t\t\t\t\t{error}\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t</Snackbar>\r\n\t\t\t)}\r\n\t\t\t<form onSubmit={handleSubmit(onSubmit)}>Formulaire status</form>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default FormStatus;\r\n"]},"metadata":{},"sourceType":"module"}