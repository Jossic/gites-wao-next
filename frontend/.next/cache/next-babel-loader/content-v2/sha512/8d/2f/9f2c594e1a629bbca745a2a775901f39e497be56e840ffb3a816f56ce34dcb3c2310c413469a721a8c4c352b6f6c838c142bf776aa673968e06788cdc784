{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jossi\\\\Dropbox\\\\JOSSIC\\\\6-development\\\\Devs\\\\gites-wao\\\\frontend\\\\pages\\\\partenaires\\\\[slug].js\";\nvar __jsx = React.createElement;\nimport Head from 'next/head';\nimport React from 'react';\nimport Layout from '../../components/layout/Layout';\nimport { API, DOMAIN, APP_NAME } from '../../config';\nimport Image from 'next/image';\nimport { Card, Button, CardImg, CardTitle, CardText, CardDeck, CardSubtitle, CardBody, Jumbotron } from 'reactstrap';\nimport { ListAllPartenaireCards, ListAllPartenairesNoms, listePartenaireBySlug } from '../../actions/partenairesActions';\nimport { listPhotosBySection } from '../../actions/giteActions';\n\nconst Partenaire = ({\n  categorie,\n  partenaires,\n  photos\n}) => {\n  const head = () => __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 3\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 4\n    }\n  }, APP_NAME, \" | \", categorie.nom, ' '), __jsx(\"meta\", {\n    name: \"description\",\n    content: categorie.mdesc,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 4\n    }\n  }), __jsx(\"link\", {\n    rel: \"canonical\",\n    href: `${DOMAIN}/gite/${categorie.slug}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 4\n    }\n  }), __jsx(\"meta\", {\n    property: \"og:title\",\n    content: `${categorie.nom} | ${APP_NAME}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 4\n    }\n  }), __jsx(\"meta\", {\n    property: \"og:description\",\n    content: categorie.mdesc,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 4\n    }\n  }), __jsx(\"meta\", {\n    property: \"og:type\",\n    content: \"website\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 4\n    }\n  }), __jsx(\"meta\", {\n    property: \"og:url\",\n    content: `${DOMAIN}/gite/${categorie.slug}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 4\n    }\n  }), __jsx(\"meta\", {\n    property: \"og:site_name\",\n    content: `${APP_NAME}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 4\n    }\n  }), __jsx(\"meta\", {\n    property: \"og:site_name\",\n    content: APP_NAME,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 4\n    }\n  }), __jsx(\"meta\", {\n    property: \"og:image\",\n    content: `${API}/blog/photo/${categorie.slug}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 4\n    }\n  }), __jsx(\"meta\", {\n    property: \"og:image:secure_url\",\n    content: `${API}/gite/photo/${categorie.slug}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }\n  }), __jsx(\"meta\", {\n    property: \"og:image:type\",\n    content: \"image/jpg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 4\n    }\n  }));\n\n  const photoInfos = id => {\n    console.log('photos vaut => ', photos);\n    photos.forEach(photo => {\n      return photo._id === id && __jsx(Image, {\n        className: \"d-block\",\n        src: photoSrc(partenaire.image),\n        alt: photoAlt(partenaire.image),\n        width: 318,\n        height: 180,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 6\n        }\n      });\n    });\n  };\n\n  const jumbotron = () => __jsx(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 3\n    }\n  }, __jsx(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 4\n    }\n  }, __jsx(Jumbotron, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }, __jsx(\"h1\", {\n    className: \"display-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 6\n    }\n  }, \"Nos partenaires dans la cat\\xE9gorie \", categorie.nom), __jsx(\"p\", {\n    className: \"lead\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 6\n    }\n  }, categorie.presSection), __jsx(\"hr\", {\n    className: \"my-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 6\n    }\n  }), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 6\n    }\n  }, categorie.presPartenaire), __jsx(\"p\", {\n    className: \"lead\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 6\n    }\n  }))));\n\n  const card = () => __jsx(CardDeck, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 3\n    }\n  }, partenaires.map(partenaire => __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }\n  }, __jsx(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 6\n    }\n  }, photoInfos(partenaire.image), __jsx(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, __jsx(CardTitle, {\n    tag: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 8\n    }\n  }, partenaire.titre), __jsx(CardSubtitle, {\n    tag: \"h6\",\n    className: \"mb-2 text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 8\n    }\n  }), __jsx(CardText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 8\n    }\n  }, partenaire.mail && __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 29\n    }\n  }, partenaire.mail), partenaire.tel && __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 28\n    }\n  }, partenaire.tel), partenaire.adresse && __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 10\n    }\n  }, partenaire.adresse), partenaire.texte && __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 30\n    }\n  }, partenaire.texte)), __jsx(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 8\n    }\n  }, \"Button\"))))));\n\n  return __jsx(React.Fragment, null, head(), __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 4\n    }\n  }, jumbotron(), __jsx(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 5\n    }\n  }), card()));\n};\n\nexport async function getStaticPaths() {\n  //lister les noms de\n  const partenairesNoms = await ListAllPartenairesNoms();\n  return {\n    paths: partenairesNoms.map(nom => {\n      return {\n        params: {\n          id: nom._id,\n          slug: nom.slug\n        }\n      };\n    }),\n    fallback: false\n  };\n}\nexport async function getStaticProps(context) {\n  return listePartenaireBySlug(context.params.slug).then(categorie => {\n    if (categorie.error) {\n      console.log(categorie.error);\n    } else {\n      return ListAllPartenaireCards(categorie._id).then(partenaires => {\n        if (partenaires.error) {\n          console.log(partenaires.error);\n        } else {\n          return listPhotosBySection(categorie.slug).then(photos => {\n            console.log('photos static', photos);\n\n            if (photos.error) {\n              console.log(photos.error);\n            } else {\n              return {\n                props: {\n                  categorie,\n                  partenaires,\n                  photos\n                }\n              };\n            }\n          });\n        }\n      });\n    }\n  });\n}\nexport default Partenaire;","map":{"version":3,"sources":["C:/Users/jossi/Dropbox/JOSSIC/6-development/Devs/gites-wao/frontend/pages/partenaires/[slug].js"],"names":["Head","React","Layout","API","DOMAIN","APP_NAME","Image","Card","Button","CardImg","CardTitle","CardText","CardDeck","CardSubtitle","CardBody","Jumbotron","ListAllPartenaireCards","ListAllPartenairesNoms","listePartenaireBySlug","listPhotosBySection","Partenaire","categorie","partenaires","photos","head","nom","mdesc","slug","photoInfos","id","console","log","forEach","photo","_id","photoSrc","partenaire","image","photoAlt","jumbotron","presSection","presPartenaire","card","map","titre","mail","tel","adresse","texte","getStaticPaths","partenairesNoms","paths","params","fallback","getStaticProps","context","then","error","props"],"mappings":"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","sourcesContent":["import Head from 'next/head';\r\nimport React from 'react';\r\nimport Layout from '../../components/layout/Layout';\r\nimport { API, DOMAIN, APP_NAME } from '../../config';\r\nimport Image from 'next/image';\r\nimport {\r\n\tCard,\r\n\tButton,\r\n\tCardImg,\r\n\tCardTitle,\r\n\tCardText,\r\n\tCardDeck,\r\n\tCardSubtitle,\r\n\tCardBody,\r\n\tJumbotron,\r\n} from 'reactstrap';\r\nimport {\r\n\tListAllPartenaireCards,\r\n\tListAllPartenairesNoms,\r\n\tlistePartenaireBySlug,\r\n} from '../../actions/partenairesActions';\r\nimport { listPhotosBySection } from '../../actions/giteActions';\r\n\r\nconst Partenaire = ({ categorie, partenaires, photos }) => {\r\n\tconst head = () => (\r\n\t\t<Head>\r\n\t\t\t<title>\r\n\t\t\t\t{APP_NAME} | {categorie.nom}{' '}\r\n\t\t\t</title>\r\n\t\t\t<meta name='description' content={categorie.mdesc} />\r\n\t\t\t<link rel='canonical' href={`${DOMAIN}/gite/${categorie.slug}`} />\r\n\t\t\t<meta\r\n\t\t\t\tproperty='og:title'\r\n\t\t\t\tcontent={`${categorie.nom} | ${APP_NAME}`}\r\n\t\t\t/>\r\n\t\t\t<meta property='og:description' content={categorie.mdesc} />\r\n\t\t\t<meta property='og:type' content='website' />\r\n\t\t\t<meta\r\n\t\t\t\tproperty='og:url'\r\n\t\t\t\tcontent={`${DOMAIN}/gite/${categorie.slug}`}\r\n\t\t\t/>\r\n\t\t\t<meta property='og:site_name' content={`${APP_NAME}`} />\r\n\r\n\t\t\t<meta property='og:site_name' content={APP_NAME} />\r\n\r\n\t\t\t<meta\r\n\t\t\t\tproperty='og:image'\r\n\t\t\t\tcontent={`${API}/blog/photo/${categorie.slug}`}\r\n\t\t\t/>\r\n\t\t\t<meta\r\n\t\t\t\tproperty='og:image:secure_url'\r\n\t\t\t\tcontent={`${API}/gite/photo/${categorie.slug}`}\r\n\t\t\t/>\r\n\t\t\t<meta property='og:image:type' content='image/jpg' />\r\n\t\t</Head>\r\n\t);\r\n\r\n\tconst photoInfos = (id) => {\r\n\t\tconsole.log('photos vaut => ', photos);\r\n\t\tphotos.forEach((photo) => {\r\n\t\t\treturn (\r\n\t\t\t\tphoto._id === id && (\r\n\t\t\t\t\t<Image\r\n\t\t\t\t\t\tclassName='d-block'\r\n\t\t\t\t\t\tsrc={photoSrc(partenaire.image)}\r\n\t\t\t\t\t\talt={photoAlt(partenaire.image)}\r\n\t\t\t\t\t\twidth={318}\r\n\t\t\t\t\t\theight={180}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t});\r\n\t};\r\n\r\n\tconst jumbotron = () => (\r\n\t\t<section>\r\n\t\t\t<div className='container'>\r\n\t\t\t\t<Jumbotron>\r\n\t\t\t\t\t<h1 className='display-3'>\r\n\t\t\t\t\t\tNos partenaires dans la catégorie {categorie.nom}\r\n\t\t\t\t\t</h1>\r\n\t\t\t\t\t<p className='lead'>{categorie.presSection}</p>\r\n\t\t\t\t\t<hr className='my-2' />\r\n\t\t\t\t\t<p>{categorie.presPartenaire}</p>\r\n\t\t\t\t\t<p className='lead'></p>\r\n\t\t\t\t</Jumbotron>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t);\r\n\r\n\tconst card = () => (\r\n\t\t<CardDeck>\r\n\t\t\t{partenaires.map((partenaire) => (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t{/* <Image\r\n\t\t\t\t\t\t\tclassName='d-block'\r\n\t\t\t\t\t\t\tsrc={photoSrc(partenaire.image)}\r\n\t\t\t\t\t\t\talt={photoAlt(partenaire.image)}\r\n\t\t\t\t\t\t\twidth={318}\r\n\t\t\t\t\t\t\theight={180}\r\n\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t{photoInfos(partenaire.image)}\r\n\t\t\t\t\t\t<CardBody>\r\n\t\t\t\t\t\t\t<CardTitle tag='h5'>{partenaire.titre}</CardTitle>\r\n\t\t\t\t\t\t\t<CardSubtitle tag='h6' className='mb-2 text-muted'>\r\n\t\t\t\t\t\t\t\t{/* Card subtitle */}\r\n\t\t\t\t\t\t\t</CardSubtitle>\r\n\t\t\t\t\t\t\t<CardText>\r\n\t\t\t\t\t\t\t\t{partenaire.mail && <p>{partenaire.mail}</p>}\r\n\t\t\t\t\t\t\t\t{partenaire.tel && <p>{partenaire.tel}</p>}\r\n\t\t\t\t\t\t\t\t{partenaire.adresse && (\r\n\t\t\t\t\t\t\t\t\t<p>{partenaire.adresse}</p>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{partenaire.texte && <p>{partenaire.texte}</p>}\r\n\t\t\t\t\t\t\t\t{/* {partenaire.site && <p>{partenaire.site}</p>} */}\r\n\t\t\t\t\t\t\t</CardText>\r\n\t\t\t\t\t\t\t<Button>Button</Button>\r\n\t\t\t\t\t\t</CardBody>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</div>\r\n\t\t\t))}\r\n\t\t</CardDeck>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{head()}\r\n\t\t\t<Layout>\r\n\t\t\t\t{/* {JSON.stringify(gite)} */}\r\n\t\t\t\t{jumbotron()}\r\n\t\t\t\t<hr />\r\n\t\t\t\t{card()}\r\n\t\t\t</Layout>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport async function getStaticPaths() {\r\n\t//lister les noms de\r\n\r\n\tconst partenairesNoms = await ListAllPartenairesNoms();\r\n\treturn {\r\n\t\tpaths: partenairesNoms.map((nom) => {\r\n\t\t\treturn {\r\n\t\t\t\tparams: { id: nom._id, slug: nom.slug },\r\n\t\t\t};\r\n\t\t}),\r\n\t\tfallback: false,\r\n\t};\r\n}\r\n\r\nexport async function getStaticProps(context) {\r\n\treturn listePartenaireBySlug(context.params.slug).then((categorie) => {\r\n\t\tif (categorie.error) {\r\n\t\t\tconsole.log(categorie.error);\r\n\t\t} else {\r\n\t\t\treturn ListAllPartenaireCards(categorie._id).then((partenaires) => {\r\n\t\t\t\tif (partenaires.error) {\r\n\t\t\t\t\tconsole.log(partenaires.error);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn listPhotosBySection(categorie.slug).then(\r\n\t\t\t\t\t\t(photos) => {\r\n\t\t\t\t\t\t\tconsole.log('photos static', photos);\r\n\t\t\t\t\t\t\tif (photos.error) {\r\n\t\t\t\t\t\t\t\tconsole.log(photos.error);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\tprops: { categorie, partenaires, photos },\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n}\r\n\r\nexport default Partenaire;\r\n"]},"metadata":{},"sourceType":"module"}