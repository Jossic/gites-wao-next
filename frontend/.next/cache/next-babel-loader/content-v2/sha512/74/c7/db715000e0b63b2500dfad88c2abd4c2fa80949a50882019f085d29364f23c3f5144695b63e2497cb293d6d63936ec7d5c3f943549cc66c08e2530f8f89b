{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\jossi\\\\Dropbox\\\\JOSSIC\\\\6-development\\\\Devs\\\\gites-wao\\\\frontend\\\\components\\\\layout\\\\Header.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useState } from 'react'; // import { APP_NAME } from '../config';\n\nimport NProgress from 'nprogress'; // import 'bootstrap/dist/css/bootstrap.css';\n\nimport Link from 'next/link'; // import gites from '../../data';\n\nimport Image from 'next/image';\nimport fetch from 'isomorphic-fetch';\nimport { isAuth, logout } from '../../actions/authActions';\nimport { Collapse, Navbar, NavbarToggler, NavbarBrand, Nav, NavItem, NavLink, UncontrolledDropdown, DropdownToggle, DropdownMenu, DropdownItem, NavbarText } from 'reactstrap';\nimport { listGitesNoms } from '../../actions/giteActions';\nimport Router from 'next/router';\nimport '../../node_modules/nprogress/nprogress.css';\n\nRouter.onRouteChangeStart = function (url) {\n  return NProgress.start();\n};\n\nRouter.onRouteChangeComplete = function (url) {\n  return NProgress.done();\n};\n\nRouter.onRouteChangeError = function (url) {\n  return NProgress.done();\n};\n\nvar Header = function Header() {\n  _s();\n\n  var _useState = useState(false),\n      isOpen = _useState[0],\n      setIsOpen = _useState[1];\n\n  var toggle = function toggle() {\n    return setIsOpen(!isOpen);\n  };\n\n  var _useState2 = useState([]),\n      gites = _useState2[0],\n      setGites = _useState2[1];\n\n  var listDesGites = function listDesGites() {\n    listGitesNoms().then(function (data) {\n      if (data.error) {\n        console.log(error);\n      } else {\n        setGites.apply(void 0, _toConsumableArray(gites).concat([data]));\n      }\n    });\n  };\n\n  useEffect(function () {\n    listDesGites();\n  }, []);\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 3\n    }\n  }, __jsx(Navbar, {\n    color: \"dark\",\n    dark: true,\n    expand: \"md\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 4\n    }\n  }, __jsx(NavbarBrand, {\n    href: \"/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, __jsx(Image, {\n    src: \"/images/logo wao.png\",\n    width: \"80px\",\n    height: \"35px\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 6\n    }\n  })), __jsx(NavbarToggler, {\n    onClick: toggle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }), __jsx(Collapse, {\n    isOpen: isOpen,\n    navbar: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, __jsx(Nav, {\n    className: \"mr-auto\",\n    navbar: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 6\n    }\n  }, gites.map(function (gite, i) {\n    return __jsx(Link, {\n      href: \"/gite/\".concat(gite.slug),\n      key: i,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 8\n      }\n    }, __jsx(NavItem, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }\n    }, __jsx(NavLink, {\n      style: {\n        cursor: 'pointer'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 10\n      }\n    }, gite.nom)));\n  }), __jsx(Link, {\n    href: \"/tarifs\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, __jsx(NavItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 8\n    }\n  }, __jsx(NavLink, {\n    style: {\n      cursor: 'pointer'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, \"Tarifs\"))), __jsx(Link, {\n    href: \"/reservation\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, __jsx(NavItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 8\n    }\n  }, __jsx(NavLink, {\n    style: {\n      cursor: 'pointer'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, \"R\\xE9server\"))), __jsx(Link, {\n    href: \"/contact\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, __jsx(NavItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 8\n    }\n  }, __jsx(NavLink, {\n    style: {\n      cursor: 'pointer'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, \"Contact\"))), __jsx(UncontrolledDropdown, {\n    nav: true,\n    inNavbar: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, __jsx(DropdownToggle, {\n    nav: true,\n    caret: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 8\n    }\n  }, \"Divers\"), __jsx(DropdownMenu, {\n    right: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 8\n    }\n  }, __jsx(DropdownItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, __jsx(Link, {\n    href: \"/divers/alentours\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 10\n    }\n  }, __jsx(NavItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, __jsx(NavLink, {\n    style: {\n      cursor: 'pointer',\n      color: 'black'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 12\n    }\n  }, \"Alentours\", ' ')))), __jsx(DropdownItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }, __jsx(Link, {\n    href: \"/divers/FAQ\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 10\n    }\n  }, __jsx(NavItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 11\n    }\n  }, __jsx(NavLink, {\n    style: {\n      cursor: 'pointer',\n      color: 'black'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 12\n    }\n  }, \"F.A.Q.\")))))), __jsx(UncontrolledDropdown, {\n    nav: true,\n    inNavbar: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }\n  }, __jsx(DropdownToggle, {\n    nav: true,\n    caret: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 8\n    }\n  }, \"Partenaires\"), __jsx(DropdownMenu, {\n    right: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 8\n    }\n  }, __jsx(DropdownItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }\n  }, \"Restauration\"), __jsx(DropdownItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }, \"Terroir\"), __jsx(DropdownItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }\n  }, \"Adresses utiles\"), __jsx(DropdownItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 9\n    }\n  }, \"Festi'buz\"), __jsx(DropdownItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  }, \"Labels\"))), !isAuth() && __jsx(Link, {\n    href: \"/login\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 8\n    }\n  }, __jsx(NavItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }\n  }, __jsx(NavLink, {\n    style: {\n      cursor: 'pointer'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 10\n    }\n  }, \"Connexion\"))), isAuth() && isAuth().isAdmin && __jsx(Link, {\n    href: \"/admin\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 8\n    }\n  }, __jsx(NavItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }\n  }, __jsx(NavLink, {\n    style: {\n      cursor: 'pointer'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 10\n    }\n  }, \"Admin\")))), __jsx(NavbarText, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 6\n    }\n  }, \"Les Gites Wao\"))));\n};\n\n_s(Header, \"as/rW/TEgY47gUeKb5NgHo0OAdY=\");\n\n_c = Header;\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["C:/Users/jossi/Dropbox/JOSSIC/6-development/Devs/gites-wao/frontend/components/layout/Header.js"],"names":["useEffect","useState","NProgress","Link","Image","fetch","isAuth","logout","Collapse","Navbar","NavbarToggler","NavbarBrand","Nav","NavItem","NavLink","UncontrolledDropdown","DropdownToggle","DropdownMenu","DropdownItem","NavbarText","listGitesNoms","Router","onRouteChangeStart","url","start","onRouteChangeComplete","done","onRouteChangeError","Header","isOpen","setIsOpen","toggle","gites","setGites","listDesGites","then","data","error","console","log","map","gite","i","slug","cursor","nom","color","isAdmin"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\r\n// import { APP_NAME } from '../config';\r\nimport NProgress from 'nprogress';\r\n// import 'bootstrap/dist/css/bootstrap.css';\r\nimport Link from 'next/link';\r\n// import gites from '../../data';\r\nimport Image from 'next/image';\r\nimport fetch from 'isomorphic-fetch';\r\nimport { isAuth, logout } from '../../actions/authActions';\r\nimport {\r\n\tCollapse,\r\n\tNavbar,\r\n\tNavbarToggler,\r\n\tNavbarBrand,\r\n\tNav,\r\n\tNavItem,\r\n\tNavLink,\r\n\tUncontrolledDropdown,\r\n\tDropdownToggle,\r\n\tDropdownMenu,\r\n\tDropdownItem,\r\n\tNavbarText,\r\n} from 'reactstrap';\r\nimport { listGitesNoms } from '../../actions/giteActions';\r\nimport Router from 'next/router';\r\n\r\nimport '../../node_modules/nprogress/nprogress.css';\r\n\r\nRouter.onRouteChangeStart = (url) => NProgress.start();\r\nRouter.onRouteChangeComplete = (url) => NProgress.done();\r\nRouter.onRouteChangeError = (url) => NProgress.done();\r\n\r\nconst Header = () => {\r\n\tconst [isOpen, setIsOpen] = useState(false);\r\n\tconst toggle = () => setIsOpen(!isOpen);\r\n\r\n\tconst [gites, setGites] = useState([]);\r\n\r\n\tconst listDesGites = () => {\r\n\t\tlistGitesNoms().then((data) => {\r\n\t\t\tif (data.error) {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t} else {\r\n\t\t\t\tsetGites(...gites, data);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tlistDesGites();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Navbar color='dark' dark expand='md'>\r\n\t\t\t\t<NavbarBrand href='/'>\r\n\t\t\t\t\t<Image\r\n\t\t\t\t\t\tsrc='/images/logo wao.png'\r\n\t\t\t\t\t\twidth='80px'\r\n\t\t\t\t\t\theight='35px'\r\n\t\t\t\t\t/>\r\n\t\t\t\t</NavbarBrand>\r\n\t\t\t\t<NavbarToggler onClick={toggle} />\r\n\t\t\t\t<Collapse isOpen={isOpen} navbar>\r\n\t\t\t\t\t<Nav className='mr-auto' navbar>\r\n\t\t\t\t\t\t{gites.map((gite, i) => (\r\n\t\t\t\t\t\t\t<Link href={`/gite/${gite.slug}`} key={i}>\r\n\t\t\t\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t\t\t\t<NavLink style={{ cursor: 'pointer' }}>\r\n\t\t\t\t\t\t\t\t\t\t{gite.nom}\r\n\t\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t))}\r\n\r\n\t\t\t\t\t\t<Link href='/tarifs'>\r\n\t\t\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t\t\t<NavLink style={{ cursor: 'pointer' }}>\r\n\t\t\t\t\t\t\t\t\tTarifs\r\n\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t\t</Link>\r\n\r\n\t\t\t\t\t\t<Link href='/reservation'>\r\n\t\t\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t\t\t<NavLink style={{ cursor: 'pointer' }}>\r\n\t\t\t\t\t\t\t\t\tRéserver\r\n\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t\t</Link>\r\n\r\n\t\t\t\t\t\t<Link href='/contact'>\r\n\t\t\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t\t\t<NavLink style={{ cursor: 'pointer' }}>\r\n\t\t\t\t\t\t\t\t\tContact\r\n\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t\t</Link>\r\n\r\n\t\t\t\t\t\t<UncontrolledDropdown nav inNavbar>\r\n\t\t\t\t\t\t\t<DropdownToggle nav caret>\r\n\t\t\t\t\t\t\t\tDivers\r\n\t\t\t\t\t\t\t</DropdownToggle>\r\n\t\t\t\t\t\t\t<DropdownMenu right>\r\n\t\t\t\t\t\t\t\t<DropdownItem>\r\n\t\t\t\t\t\t\t\t\t<Link href='/divers/alentours'>\r\n\t\t\t\t\t\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcursor: 'pointer',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'black',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tAlentours{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</DropdownItem>\r\n\t\t\t\t\t\t\t\t<DropdownItem>\r\n\t\t\t\t\t\t\t\t\t<Link href='/divers/FAQ'>\r\n\t\t\t\t\t\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcursor: 'pointer',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'black',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tF.A.Q.\r\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</DropdownItem>\r\n\t\t\t\t\t\t\t</DropdownMenu>\r\n\t\t\t\t\t\t</UncontrolledDropdown>\r\n\r\n\t\t\t\t\t\t<UncontrolledDropdown nav inNavbar>\r\n\t\t\t\t\t\t\t<DropdownToggle nav caret>\r\n\t\t\t\t\t\t\t\tPartenaires\r\n\t\t\t\t\t\t\t</DropdownToggle>\r\n\t\t\t\t\t\t\t<DropdownMenu right>\r\n\t\t\t\t\t\t\t\t<DropdownItem>Restauration</DropdownItem>\r\n\t\t\t\t\t\t\t\t<DropdownItem>Terroir</DropdownItem>\r\n\t\t\t\t\t\t\t\t<DropdownItem>Adresses utiles</DropdownItem>\r\n\t\t\t\t\t\t\t\t<DropdownItem>Festi'buz</DropdownItem>\r\n\t\t\t\t\t\t\t\t<DropdownItem>Labels</DropdownItem>\r\n\t\t\t\t\t\t\t</DropdownMenu>\r\n\t\t\t\t\t\t</UncontrolledDropdown>\r\n\t\t\t\t\t\t{!isAuth() && (\r\n\t\t\t\t\t\t\t<Link href='/login'>\r\n\t\t\t\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t\t\t\t<NavLink style={{ cursor: 'pointer' }}>\r\n\t\t\t\t\t\t\t\t\t\tConnexion\r\n\t\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{isAuth() && isAuth().isAdmin && (\r\n\t\t\t\t\t\t\t<Link href='/admin'>\r\n\t\t\t\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t\t\t\t<NavLink style={{ cursor: 'pointer' }}>\r\n\t\t\t\t\t\t\t\t\t\tAdmin\r\n\t\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Nav>\r\n\t\t\t\t\t<NavbarText>Les Gites Wao</NavbarText>\r\n\t\t\t\t</Collapse>\r\n\t\t\t</Navbar>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Header;\r\n"]},"metadata":{},"sourceType":"module"}